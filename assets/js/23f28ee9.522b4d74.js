"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[2309],{8618:(e,n,t)=>{t.d(n,{A:()=>r});const r=t.p+"assets/images/otel_trace-734f71376e3930943c01a1ba18cbd9d4.png"},11050:(e,n,t)=>{t.d(n,{A:()=>r});const r=t.p+"assets/images/hero-550b54ffb6d104e3adcf46595576fd59.png"},28453:(e,n,t)=>{t.d(n,{R:()=>l,x:()=>s});var r=t(96540);const i={},o=r.createContext(i);function l(e){const n=r.useContext(o);return r.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function s(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:l(e.components),r.createElement(o.Provider,{value:n},e.children)}},48894:e=>{e.exports=JSON.parse('{"permalink":"/mlflow-website/blog/opentelemetry-tracing-support","source":"@site/blog/2025-11-05-opentelemetry-tracing-support/index.md","title":"Full OpenTelemetry Support in MLflow Tracing","description":"MLflow 3.6.0 brings comprehensive OpenTelemetry integration for unified observability","date":"2025-11-05T00:00:00.000Z","tags":[{"inline":true,"label":"tracing","permalink":"/mlflow-website/blog/tags/tracing"},{"inline":true,"label":"opentelemetry","permalink":"/mlflow-website/blog/tags/opentelemetry"},{"inline":true,"label":"genai","permalink":"/mlflow-website/blog/tags/genai"},{"inline":true,"label":"mlops","permalink":"/mlflow-website/blog/tags/mlops"}],"readingTime":3.895,"hasTruncateMarker":false,"authors":[{"name":"MLflow maintainers","title":"MLflow maintainers","url":"https://github.com/mlflow/mlflow.git","imageURL":"https://github.com/mlflow-automation.png","key":"mlflow-maintainers","page":null}],"frontMatter":{"title":"Full OpenTelemetry Support in MLflow Tracing","description":"MLflow 3.6.0 brings comprehensive OpenTelemetry integration for unified observability","slug":"opentelemetry-tracing-support","authors":["mlflow-maintainers"],"tags":["tracing","opentelemetry","genai","mlops"],"thumbnail":"/img/blog/mlflow-opentelemetry-thumbnail.png","image":"/img/blog/mlflow-opentelemetry-thumbnail.png"},"unlisted":false,"nextItem":{"title":"Systematic Prompt Optimization for OpenAI Agents with GEPA","permalink":"/mlflow-website/blog/mlflow-prompt-optimization"}}')},62160:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>a,contentTitle:()=>s,default:()=>m,frontMatter:()=>l,metadata:()=>r,toc:()=>c});var r=t(48894),i=t(74848),o=t(28453);const l={title:"Full OpenTelemetry Support in MLflow Tracing",description:"MLflow 3.6.0 brings comprehensive OpenTelemetry integration for unified observability",slug:"opentelemetry-tracing-support",authors:["mlflow-maintainers"],tags:["tracing","opentelemetry","genai","mlops"],thumbnail:"/img/blog/mlflow-opentelemetry-thumbnail.png",image:"/img/blog/mlflow-opentelemetry-thumbnail.png"},s=void 0,a={authorsImageUrls:[void 0]},c=[{value:"What&#39;s New?",id:"whats-new",level:2},{value:"Send OpenTelemetry traces to MLflow server",id:"send-opentelemetry-traces-to-mlflow-server",level:2},{value:"Using MLflow Tracing SDK",id:"using-mlflow-tracing-sdk",level:3},{value:"Using the OpenTelemetry SDK with OTLP Exporter",id:"using-the-opentelemetry-sdk-with-otlp-exporter",level:3},{value:"Programmatic Configuration",id:"programmatic-configuration",level:4},{value:"Environment Variable Configuration",id:"environment-variable-configuration",level:4},{value:"Unified Observability Across Your Stack",id:"unified-observability-across-your-stack",level:2},{value:"Benefits of OpenTelemetry Integration",id:"benefits-of-opentelemetry-integration",level:2},{value:"\u2696\ufe0f Vendor Neutrality",id:"\ufe0f-vendor-neutrality",level:3},{value:"\ud83c\udf10 Ecosystem Compatibility",id:"-ecosystem-compatibility",level:3},{value:"\ud83d\udd2d Unified Visibility",id:"-unified-visibility",level:3},{value:"Learn More",id:"learn-more",level:2},{value:"Join the Community",id:"join-the-community",level:2}];function p(e){const n={a:"a",code:"code",h2:"h2",h3:"h3",h4:"h4",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,o.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.p,{children:["We're excited to announce that MLflow 3.6.0 brings ",(0,i.jsx)(n.strong,{children:"full OpenTelemetry support"})," to the open-source MLflow server. This integration represents a major step forward in making MLflow a ",(0,i.jsx)(n.strong,{children:"vendor-neutral observability platform"})," for GenAI applications."]}),"\n",(0,i.jsx)("img",{src:t(11050).A,alt:"MLflow OpenTelemetry Hero",width:"100%"}),"\n",(0,i.jsx)(n.h2,{id:"whats-new",children:"What's New?"}),"\n",(0,i.jsx)(n.p,{children:"MLflow has always been committed to providing powerful tracing capabilities for GenAI applications. With the addition of comprehensive OpenTelemetry integration, you can now:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Create unified traces"})," that combine MLflow SDK instrumentation with OpenTelemetry auto-instrumentation from third-party libraries"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Ingest OpenTelemetry spans"})," directly into the MLflow tracking server"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Seamlessly integrate"})," with existing applications that are instrumented with OpenTelemetry"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Choose Arbitrary Languages"})," for your AI applications and trace them, including Java, Go, Rust, and more."]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"send-opentelemetry-traces-to-mlflow-server",children:"Send OpenTelemetry traces to MLflow server"}),"\n",(0,i.jsx)(n.p,{children:"MLflow 3.6.0 supports ingesting OpenTelemetry traces directly through the OTLP (OpenTelemetry Protocol) endpoint. This allows you to send traces from any OpenTelemetry-instrumented application to the MLflow tracking server."}),"\n",(0,i.jsx)(n.h3,{id:"using-mlflow-tracing-sdk",children:"Using MLflow Tracing SDK"}),"\n",(0,i.jsx)(n.p,{children:"The MLflow Tracing SDK is built on top of the OpenTelemetry SDK and designed for minimal instrumentation effort. It automatically integrates with OpenTelemetry's default tracer provider, allowing spans from different instrumentation sources to combine into cohesive traces."}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Auto-logging for GenAI frameworks:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:'import mlflow\nfrom openai import OpenAI\n\n# Enable auto-logging for OpenAI\nmlflow.openai.autolog()\n\nclient = OpenAI()\nresponse = client.chat.completions.create(\n    model="gpt-4o-mini",\n    messages=[{"role": "user", "content": "Hello, world!"}]\n)\n'})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Manual instrumentation with @trace decorator:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:'import mlflow\n\n@mlflow.trace\ndef process_request(data):\n    # Your application logic\n    return result\n\n# Call the traced function\nprocess_request({"input": "data"})\n'})}),"\n",(0,i.jsx)(n.h3,{id:"using-the-opentelemetry-sdk-with-otlp-exporter",children:"Using the OpenTelemetry SDK with OTLP Exporter"}),"\n",(0,i.jsx)(n.p,{children:"For applications that don't use the MLflow SDK or are written in languages other than Python/TypeScript, you can send traces directly to MLflow using the standard OpenTelemetry OTLP exporter. MLflow 3.6.0 exposes an OTLP-compliant endpoint that accepts traces from any OpenTelemetry-instrumented application."}),"\n",(0,i.jsx)(n.h4,{id:"programmatic-configuration",children:"Programmatic Configuration"}),"\n",(0,i.jsx)(n.p,{children:"Configure the OTLPSpanExporter in your application code to send traces to MLflow's OTLP endpoint:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:'from opentelemetry import trace\nfrom opentelemetry.sdk.trace import TracerProvider\nfrom opentelemetry.sdk.trace.export import BatchSpanProcessor\nfrom opentelemetry.exporter.otlp.proto.http.trace_exporter import OTLPSpanExporter\n\n# Replace with your own MLflow server URI\nmlflow_server_uri = "http://localhost:5000"\nexperiment_id = "123"  # Your MLflow experiment ID\n\n# Configure OTLP exporter to send to MLflow\notlp_exporter = OTLPSpanExporter(\n    endpoint=f"{mlflow_server_uri}/v1/traces",\n    headers={\n        "Content-Type": "application/x-protobuf",\n        "x-mlflow-experiment-id": experiment_id,\n    }\n)\n\n# Set up the tracer provider\nprovider = TracerProvider()\nprovider.add_span_processor(BatchSpanProcessor(otlp_exporter))\ntrace.set_tracer_provider(provider)\n\n# Now any OpenTelemetry instrumentation will send traces to MLflow\ntracer = trace.get_tracer(__name__)\n\nwith tracer.start_as_current_span("my_operation"):\n    # Your application code here\n    pass\n'})}),"\n",(0,i.jsx)(n.h4,{id:"environment-variable-configuration",children:"Environment Variable Configuration"}),"\n",(0,i.jsx)(n.p,{children:"For applications written in other languages (Java, Go, Rust, etc.) or when you prefer configuration via environment variables, set the following:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"export OTEL_EXPORTER_OTLP_TRACES_ENDPOINT=http://localhost:5000/v1/traces\nexport OTEL_EXPORTER_OTLP_TRACES_HEADERS=x-mlflow-experiment-id=123\n"})}),"\n",(0,i.jsx)(n.p,{children:"This approach works with any OpenTelemetry SDK and allows you to trace applications across your entire technology stack, sending all traces to MLflow for unified observability."}),"\n",(0,i.jsx)("img",{src:t(8618).A,alt:"OpenTelemetry and MLflow Trace",width:"100%"}),"\n",(0,i.jsx)(n.h2,{id:"unified-observability-across-your-stack",children:"Unified Observability Across Your Stack"}),"\n",(0,i.jsx)(n.p,{children:"With MLflow 3.6.0, you can now seamlessly combine:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"OpenTelemetry auto-instrumentation"})," (FastAPI, Django, Flask, etc.)"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"MLflow auto-logging"})," (OpenAI, LangChain, DSPy, etc.)"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"MLflow @trace decorator"})," for custom spans"]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["They can produce a ",(0,i.jsx)(n.strong,{children:"single, unified trace"})," across your application, providing end-to-end visibility from incoming requests to LLM calls and final outputs."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:"# These now create a single unified trace\nfrom fastapi import FastAPI\nfrom opentelemetry.instrumentation.fastapi import FastAPIInstrumentor\nimport mlflow\n\napp = FastAPI()\nFastAPIInstrumentor.instrument_app(app)  # OTel auto-instrumentation\n\n@mlflow.trace  # MLflow tracing\ndef my_llm_function(input_text):\n    # Your logic here\n    return result\n"})}),"\n",(0,i.jsx)("img",{src:t(75214).A,alt:"OpenTelemetry and MLflow Trace",width:"100%"}),"\n",(0,i.jsx)(n.h2,{id:"benefits-of-opentelemetry-integration",children:"Benefits of OpenTelemetry Integration"}),"\n",(0,i.jsx)(n.h3,{id:"\ufe0f-vendor-neutrality",children:"\u2696\ufe0f Vendor Neutrality"}),"\n",(0,i.jsx)(n.p,{children:"OpenTelemetry is an open standard supported by the Cloud Native Computing Foundation (CNCF). By fully supporting OTel, MLflow ensures you're never locked into a proprietary observability solution."}),"\n",(0,i.jsx)(n.h3,{id:"-ecosystem-compatibility",children:"\ud83c\udf10 Ecosystem Compatibility"}),"\n",(0,i.jsx)(n.p,{children:"Leverage the extensive OpenTelemetry ecosystem, including:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Auto-instrumentation for popular frameworks (FastAPI, Django, Flask, etc.)"}),"\n",(0,i.jsx)(n.li,{children:"Language support beyond Python (TypeScript, Java, Go, and more)"}),"\n",(0,i.jsx)(n.li,{children:"Integration with existing observability tools and platforms"}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"-unified-visibility",children:"\ud83d\udd2d Unified Visibility"}),"\n",(0,i.jsx)(n.p,{children:"See the complete picture of your application's behavior in a single trace, from HTTP requests through your business logic to external API calls."}),"\n",(0,i.jsx)(n.h2,{id:"learn-more",children:"Learn More"}),"\n",(0,i.jsx)(n.p,{children:"Ready to get started with OpenTelemetry in MLflow? Check out these resources:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"https://mlflow.org/docs/latest/genai/tracing/",children:"MLflow Tracing Overview"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"https://mlflow.org/docs/latest/genai/tracing/opentelemetry/",children:"OpenTelemetry Tracing Documentation"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"https://mlflow.org/docs/latest/genai/tracing/app-instrumentation/typescript-sdk/",children:"MLflow Typescript SDK for Tracing"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"https://mlflow.org/docs/latest/genai/tracing/integrations/",children:"MLflow Auto Tracing integrations"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"https://opentelemetry.io/",children:"OpenTelemetry Project"})}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"join-the-community",children:"Join the Community"}),"\n",(0,i.jsxs)(n.p,{children:["We're excited about the possibilities this integration opens up and would love to hear your ",(0,i.jsx)(n.a,{href:"https://github.com/mlflow/mlflow/issues",children:"feedback"})," and ",(0,i.jsx)(n.a,{href:"https://github.com/mlflow/mlflow/blob/master/CONTRIBUTING.md",children:"contributions"}),"."]}),"\n",(0,i.jsxs)(n.p,{children:["For those interested in sharing knowledge, we invite you to ",(0,i.jsx)(n.a,{href:"https://github.com/mlflow/mlflow-website/blob/main/CONTRIBUTING.md",children:"collaborate on the MLflow website"}),". Whether it's writing tutorials, sharing use cases, or providing feedback, every contribution enriches the MLflow community."]}),"\n",(0,i.jsx)(n.p,{children:"Stay tuned for more updates as we continue to enhance MLflow's observability capabilities!"})]})}function m(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(p,{...e})}):p(e)}},75214:(e,n,t)=>{t.d(n,{A:()=>r});const r=t.p+"assets/images/otel_and_mlflow_trace-f63a1603300505d9ccf89dc96df087e3.png"}}]);