---
title: MLflow 3.4.0
slug: 3.4.0
authors: [mlflow-maintainers]
---

MLflow 3.4.0rc0 includes several major features and improvements

### Major New Features

- üìä **OpenTelemetry Metrics Export**: MLflow now exports span-level statistics as OpenTelemetry metrics, providing enhanced observability and monitoring capabilities for traced applications. ([#17325](https://github.com/mlflow/mlflow/pull/17325), [@dbczumar](https://github.com/dbczumar))
- ü§ñ **MCP Server Integration**: Introducing the Model Context Protocol (MCP) server for MLflow, enabling AI assistants and LLMs to interact with MLflow programmatically. ([#17122](https://github.com/mlflow/mlflow/pull/17122), [@harupy](https://github.com/harupy))
- üßë‚Äç‚öñÔ∏è **Custom Judges API**: New `make_judge` API enables creation of custom evaluation judges for assessing LLM outputs with domain-specific criteria. ([#17647](https://github.com/mlflow/mlflow/pull/17647), [@BenWilson2](https://github.com/BenWilson2), [@dbczumar](https://github.com/dbczumar), [@alkispoly-db](https://github.com/alkispoly-db), [@smoorjani](https://github.com/smoorjani))
- üìà **Correlations Backend**: Implemented backend infrastructure for storing and computing correlations between experiment metrics using NPMI (Normalized Pointwise Mutual Information). ([#17309](https://github.com/mlflow/mlflow/pull/17309), [#17368](https://github.com/mlflow/mlflow/pull/17368), [@BenWilson2](https://github.com/BenWilson2))
- üóÇÔ∏è **Evaluation Datasets**: MLflow now supports storing and versioning evaluation datasets directly within experiments for reproducible model assessment. ([#17447](https://github.com/mlflow/mlflow/pull/17447), [@BenWilson2](https://github.com/BenWilson2))
- üîó **Databricks Backend for MLflow Server**: MLflow server can now use Databricks as a backend, enabling seamless integration with Databricks workspaces. ([#17411](https://github.com/mlflow/mlflow/pull/17411), [@nsthorat](https://github.com/nsthorat))
- ü§ñ **Claude Autologging**: Automatic tracing support for Claude AI interactions, capturing conversations and model responses. ([#17305](https://github.com/mlflow/mlflow/pull/17305), [@smoorjani](https://github.com/smoorjani))
- üåä **Strands Agent Tracing**: Added comprehensive tracing support for Strands agents, including automatic instrumentation for agent workflows and interactions. ([#17151](https://github.com/mlflow/mlflow/pull/17151), [@joelrobin18](https://github.com/joelrobin18))
- üß™ **Experiment Types in UI**: MLflow now introduces experiment types, helping reduce clutter between classic ML/DL and GenAI features. MLflow auto-detects the type, but you can easily adjust it via a selector next to the experiment name. ([#17605](https://github.com/mlflow/mlflow/pull/17605), [@daniellok-db](https://github.com/daniellok-db))

Features:

- [Evaluation] Add ability to pass tags via dataframe in mlflow.genai.evaluate ([#17549](https://github.com/mlflow/mlflow/pull/17549), [@smoorjani](https://github.com/smoorjani))
- [Evaluation] Add custom judge model support for Safety and RetrievalRelevance builtin scorers ([#17526](https://github.com/mlflow/mlflow/pull/17526), [@dbrx-euirim](https://github.com/dbrx-euirim))
- [Tracing] Add AI commands as MCP prompts for LLM interaction ([#17608](https://github.com/mlflow/mlflow/pull/17608), [@nsthorat](https://github.com/nsthorat))
- [Tracing] Add MLFLOW_ENABLE_OTLP_EXPORTER environment variable ([#17505](https://github.com/mlflow/mlflow/pull/17505), [@dbczumar](https://github.com/dbczumar))
- [Tracing] Support OTel and MLflow dual export ([#17187](https://github.com/mlflow/mlflow/pull/17187), [@dbczumar](https://github.com/dbczumar))
- [Tracing] Make set_destination use ContextVar for thread safety ([#17219](https://github.com/mlflow/mlflow/pull/17219), [@B-Step62](https://github.com/B-Step62))
- [CLI] Add MLflow commands CLI for exposing prompt commands to LLMs ([#17530](https://github.com/mlflow/mlflow/pull/17530), [@nsthorat](https://github.com/nsthorat))
- [CLI] Add 'mlflow runs link-traces' command ([#17444](https://github.com/mlflow/mlflow/pull/17444), [@nsthorat](https://github.com/nsthorat))
- [CLI] Add 'mlflow runs create' command for programmatic run creation ([#17417](https://github.com/mlflow/mlflow/pull/17417), [@nsthorat](https://github.com/nsthorat))
- [CLI] Add MLflow traces CLI command with comprehensive search and management capabilities ([#17302](https://github.com/mlflow/mlflow/pull/17302), [@nsthorat](https://github.com/nsthorat))
- [CLI] Add --env-file flag to all MLflow CLI commands ([#17509](https://github.com/mlflow/mlflow/pull/17509), [@nsthorat](https://github.com/nsthorat))
- [Tracking] Backend for storing scorers in MLflow experiments ([#17090](https://github.com/mlflow/mlflow/pull/17090), [@WeichenXu123](https://github.com/WeichenXu123))
- [Model Registry] Allow cross-workspace copying of model versions between WMR and UC ([#17458](https://github.com/mlflow/mlflow/pull/17458), [@arpitjasa-db](https://github.com/arpitjasa-db))
- [Models] Add automatic Git-based model versioning for GenAI applications ([#17076](https://github.com/mlflow/mlflow/pull/17076), [@harupy](https://github.com/harupy))
- [Models] Improve WheeledModel.\_download_wheels safety ([#17004](https://github.com/mlflow/mlflow/pull/17004), [@serena-ruan](https://github.com/serena-ruan))
- [Projects] Support resume run for Optuna hyperparameter optimization ([#17191](https://github.com/mlflow/mlflow/pull/17191), [@lu-wang-dl](https://github.com/lu-wang-dl))
- [Scoring] Add MLFLOW_DEPLOYMENT_CLIENT_HTTP_REQUEST_TIMEOUT environment variable ([#17252](https://github.com/mlflow/mlflow/pull/17252), [@dbczumar](https://github.com/dbczumar))
- [UI] Add ability to hide/unhide all finished runs in Chart view ([#17143](https://github.com/mlflow/mlflow/pull/17143), [@joelrobin18](https://github.com/joelrobin18))
- [Telemetry] Add MLflow OSS telemetry for invoke_custom_judge_model ([#17585](https://github.com/mlflow/mlflow/pull/17585), [@dbrx-euirim](https://github.com/dbrx-euirim))

Bug fixes:

- [Evaluation] Implement DSPy LM interface for default Databricks model serving ([#17672](https://github.com/mlflow/mlflow/pull/17672), [@smoorjani](https://github.com/smoorjani))
- [Evaluation] Fix aggregations incorrectly applied to legacy scorer interface ([#17596](https://github.com/mlflow/mlflow/pull/17596), [@BenWilson2](https://github.com/BenWilson2))
- [Evaluation] Add Unity Catalog table source support for mlflow.evaluate ([#17546](https://github.com/mlflow/mlflow/pull/17546), [@BenWilson2](https://github.com/BenWilson2))
- [Evaluation] Fix custom prompt judge encoding issues with custom judge models ([#17584](https://github.com/mlflow/mlflow/pull/17584), [@dbrx-euirim](https://github.com/dbrx-euirim))
- [Tracking] Fix OpenAI autolog to properly reconstruct Response objects from streaming events ([#17535](https://github.com/mlflow/mlflow/pull/17535), [@WeichenXu123](https://github.com/WeichenXu123))
- [Tracking] Add basic authentication support in TypeScript SDK ([#17436](https://github.com/mlflow/mlflow/pull/17436), [@kevin-lyn](https://github.com/kevin-lyn))
- [Tracking] Update scorer endpoints to v3.0 API specification ([#17409](https://github.com/mlflow/mlflow/pull/17409), [@WeichenXu123](https://github.com/WeichenXu123))
- [Tracking] Fix scorer status handling in MLflow tracking backend ([#17379](https://github.com/mlflow/mlflow/pull/17379), [@WeichenXu123](https://github.com/WeichenXu123))
- [Tracking] Fix missing source-run information in UI ([#16682](https://github.com/mlflow/mlflow/pull/16682), [@WeichenXu123](https://github.com/WeichenXu123))
- [Scoring] Fix spark_udf to always use stdin_serve for model serving ([#17580](https://github.com/mlflow/mlflow/pull/17580), [@WeichenXu123](https://github.com/WeichenXu123))
- [Scoring] Fix a bug with Spark UDF usage of uv as an environment manager ([#17489](https://github.com/mlflow/mlflow/pull/17489), [@WeichenXu123](https://github.com/WeichenXu123))
- [Model Registry] Extract source workspace ID from run_link during model version migration ([#17600](https://github.com/mlflow/mlflow/pull/17600), [@arpitjasa-db](https://github.com/arpitjasa-db))
- [Models] Improve security by reducing write permissions in temporary directory creation ([#17544](https://github.com/mlflow/mlflow/pull/17544), [@BenWilson2](https://github.com/BenWilson2))
- [Server-infra] Fix --env-file flag compatibility with --dev mode ([#17615](https://github.com/mlflow/mlflow/pull/17615), [@nsthorat](https://github.com/nsthorat))
- [Server-infra] Fix basic authentication with Uvicorn server ([#17523](https://github.com/mlflow/mlflow/pull/17523), [@kevin-lyn](https://github.com/kevin-lyn))
- [UI] Fix experiment comparison functionality in UI ([#17550](https://github.com/mlflow/mlflow/pull/17550), [@Flametaa](https://github.com/Flametaa))
- [UI] Fix compareExperimentsSearch route definitions ([#17459](https://github.com/mlflow/mlflow/pull/17459), [@WeichenXu123](https://github.com/WeichenXu123))

Documentation updates:

- [Docs] Add clarification for trace requirements in scorers documentation ([#17542](https://github.com/mlflow/mlflow/pull/17542), [@BenWilson2](https://github.com/BenWilson2))
- [Docs] Add documentation for Claude code autotracing ([#17521](https://github.com/mlflow/mlflow/pull/17521), [@smoorjani](https://github.com/smoorjani))
- [Docs] Remove experimental status message for MPU/MPD features ([#17486](https://github.com/mlflow/mlflow/pull/17486), [@BenWilson2](https://github.com/BenWilson2))
- [Docs] Remove problematic pages from documentation ([#17453](https://github.com/mlflow/mlflow/pull/17453), [@BenWilson2](https://github.com/BenWilson2))
- [Docs] Add documentation for updating signatures on Databricks registered models ([#17450](https://github.com/mlflow/mlflow/pull/17450), [@arpitjasa-db](https://github.com/arpitjasa-db))
- [Docs] Update Scorers API documentation ([#17298](https://github.com/mlflow/mlflow/pull/17298), [@WeichenXu123](https://github.com/WeichenXu123))
- [Docs] Add comprehensive documentation for scorers ([#17258](https://github.com/mlflow/mlflow/pull/17258), [@B-Step62](https://github.com/B-Step62))

For a comprehensive list of changes, see the [release change log](https://github.com/mlflow/mlflow/releases/tag/v3.4.0), and check out the latest documentation on [mlflow.org](http://mlflow.org/).
