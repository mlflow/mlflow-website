<!doctype html><html lang=en dir=ltr class="docs-wrapper plugin-docs plugin-id-genai docs-version-current docs-doc-page docs-doc-id-tracing/search-traces" data-has-hydrated=false><head><meta charset=UTF-8><meta name=generator content="Docusaurus v3.9.2"><title data-rh=true>Search Traces | MLflow</title><meta data-rh=true name=viewport content="width=device-width, initial-scale=1.0"/><meta data-rh=true name=twitter:card content=summary_large_image /><meta data-rh=true property=og:url content=https://mlflow.org/mlflow-website/docs/latest/genai/tracing/search-traces/ /><meta data-rh=true property=og:locale content=en /><meta data-rh=true name=docusaurus_locale content=en /><meta data-rh=true name=docsearch:language content=en /><meta data-rh=true name=docusaurus_version content=current /><meta data-rh=true name=docusaurus_tag content=docs-genai-current /><meta data-rh=true name=docsearch:version content=current /><meta data-rh=true name=docsearch:docusaurus_tag content=docs-genai-current /><meta data-rh=true property=og:title content="Search Traces | MLflow"/><meta data-rh=true name=description content="This guide will walk you through how to search for traces in MLflow using both the MLflow UI and Python API. This resource will be valuable if you're interested in querying specific traces based on their metadata, tags, execution time, status, or other trace attributes."/><meta data-rh=true property=og:description content="This guide will walk you through how to search for traces in MLflow using both the MLflow UI and Python API. This resource will be valuable if you're interested in querying specific traces based on their metadata, tags, execution time, status, or other trace attributes."/><link data-rh=true rel=icon href=/mlflow-website/docs/latest/images/favicon.ico /><link data-rh=true rel=canonical href=https://mlflow.org/mlflow-website/docs/latest/genai/tracing/search-traces/ /><link data-rh=true rel=alternate href=https://mlflow.org/mlflow-website/docs/latest/genai/tracing/search-traces/ hreflang=en /><link data-rh=true rel=alternate href=https://mlflow.org/mlflow-website/docs/latest/genai/tracing/search-traces/ hreflang=x-default /><link data-rh=true rel=preconnect href=https://XKVLO8P882-dsn.algolia.net crossorigin=anonymous /><script data-rh=true type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","item":"https://mlflow.org/mlflow-website/docs/latest/genai/tracing/","name":"Tracing (Observability)","position":1},{"@type":"ListItem","item":"https://mlflow.org/mlflow-website/docs/latest/genai/tracing/search-traces","name":"Search Traces","position":2}]}</script><link rel=preconnect href=https://www.google-analytics.com><link rel=preconnect href=https://www.googletagmanager.com><script async src="https://www.googletagmanager.com/gtag/js?id=GTM-N6WMTTJ"></script><script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","GTM-N6WMTTJ",{anonymize_ip:!0}),gtag("config","AW-16857946923",{anonymize_ip:!0})</script><link rel=preconnect href=https://www.googletagmanager.com><script>window.dataLayer=window.dataLayer||[],function(e,t,a,n,r){e[n]=e[n]||[],e[n].push({"gtm.start":new Date().getTime(),event:"gtm.js"});var d=t.getElementsByTagName(a)[0],g=t.createElement(a);g.async=!0,g.src="https://www.googletagmanager.com/gtm.js?id="+r+("dataLayer"!=n?"&l="+n:""),d.parentNode.insertBefore(g,d)}(window,document,"script","dataLayer","GTM-N6WMTTJ")</script><link rel=search type=application/opensearchdescription+xml title=MLflow href=/mlflow-website/docs/latest/opensearch.xml><script src=/mlflow-website/docs/latest/js/runllm.js defer></script><link rel=stylesheet href=/mlflow-website/docs/latest/assets/css/styles.65681509.css /><script src=/mlflow-website/docs/latest/assets/js/runtime~main.a0db6d66.js defer></script><script src=/mlflow-website/docs/latest/assets/js/main.e97eda74.js defer></script></head><body class=navigation-with-keyboard><noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-N6WMTTJ" height=0 width=0 style=display:none;visibility:hidden></iframe></noscript>


<svg style="display: none;"><defs>
<symbol id=theme-svg-external-link viewBox="0 0 24 24"><path fill=currentColor d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",t||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")),document.documentElement.setAttribute("data-theme-choice",t||"system")}(),function(){try{for(var[t,e]of new URLSearchParams(window.location.search).entries())if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id=__docusaurus><div role=region aria-label="Skip to main content"><a class=skipToContent_fXgn href=#__docusaurus_skipToContent_fallback>Skip to main content</a></div><nav aria-label=Main class="theme-layout-navbar navbar navbar--fixed-top"><div class=navbar__inner><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded=false class="navbar__toggle clean-btn" type=button><svg width=30 height=30 viewBox="0 0 30 30" aria-hidden=true><path stroke=currentColor stroke-linecap=round stroke-miterlimit=10 stroke-width=2 d="M4 7h22M4 15h22M4 23h22"/></svg></button><a class=navbar__brand href=/mlflow-website/docs/latest/><div class=navbar__logo><img src=/mlflow-website/docs/latest/images/logo-light.svg alt="MLflow Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"/><img src=/mlflow-website/docs/latest/images/logo-dark.svg alt="MLflow Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"/></div></a><div class="navbar__item dropdown dropdown--hoverable"><a href=# aria-haspopup=true aria-expanded=false role=button class="navbar__link docsDropdown_VGp6" data-active=genai><div style=display:flex;gap:8px;align-items:center><div class=dropdownCircle_n91F style=width:10px;height:10px;background-color:var(--genai-color-primary);border-radius:4px></div>GenAI Docs</div></a><ul class=dropdown__menu><li><a class="dropdown__link ml-docs-link" href=/mlflow-website/docs/latest/ml/><div style=display:flex;gap:8px;align-items:center><div style=width:10px;height:10px;background-color:var(--ml-color-primary);border-radius:4px></div>ML Docs</div></a><li><a aria-current=page class="dropdown__link genai-docs-link dropdown__link--active" href=/mlflow-website/docs/latest/genai/><div style=display:flex;gap:8px;align-items:center><div style=width:10px;height:10px;background-color:var(--genai-color-primary);border-radius:4px></div>GenAI Docs</div></a></ul></div><a href=https://mlflow.org/docs/latest/api_reference/index.html target=_blank rel="noopener noreferrer" class="navbar__item navbar__link">API Reference</a><a class="navbar__item navbar__link" href=/mlflow-website/docs/latest/self-hosting/>Self-Hosting</a><a class="navbar__item navbar__link" href=/mlflow-website/docs/latest/community/>Community</a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><a href=https://github.com/mlflow/mlflow target=_blank rel="noopener noreferrer" class="navbar__item navbar__link github-link">GitHub<svg width=13.5 height=13.5 aria-label="(opens in new tab)" class=iconExternalLink_nPIU><use href=#theme-svg-external-link /></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type=button disabled title="system mode" aria-label="Switch between dark and light mode (currently system mode)"><svg viewBox="0 0 24 24" width=24 height=24 aria-hidden=true class="toggleIcon_g3eP lightToggleIcon_pyhR"><path fill=currentColor d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"/></svg><svg viewBox="0 0 24 24" width=24 height=24 aria-hidden=true class="toggleIcon_g3eP darkToggleIcon_wfgR"><path fill=currentColor d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"/></svg><svg viewBox="0 0 24 24" width=24 height=24 aria-hidden=true class="toggleIcon_g3eP systemToggleIcon_QzmC"><path fill=currentColor d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"/></svg></button></div><div class=navbarSearchContainer_Bca1><button type=button class="DocSearch DocSearch-Button" aria-label="Search (Meta+k)" aria-keyshortcuts=Meta+k><span class=DocSearch-Button-Container><svg width=20 height=20 class=DocSearch-Search-Icon viewBox="0 0 24 24" aria-hidden=true><circle cx=11 cy=11 r=8 stroke=currentColor fill=none stroke-width=1.4 /><path d="m21 21-4.3-4.3" stroke=currentColor fill=none stroke-linecap=round stroke-linejoin=round /></svg><span class=DocSearch-Button-Placeholder>Search</span></span><span class=DocSearch-Button-Keys></span></button></div></div></div><div role=presentation class=navbar-sidebar__backdrop></div></nav><div id=__docusaurus_skipToContent_fallback class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class=docsWrapper_hBAB><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type=button></button><div class=docRoot_UBD9><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class=sidebarViewport_aRkj><div class=sidebar_njMd><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item sidebar-overview"><a class=menu__link href=/mlflow-website/docs/latest/genai/><span title=Overview class=linkLabel_WmDU>Overview</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menuHtmlItem_M9Kj menu__list-item"><b>Getting Started</b><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item sidebar-top-level-category"><a class=menu__link href=/mlflow-website/docs/latest/genai/getting-started/connect-environment/><span title="Set Up MLflow Server" class=linkLabel_WmDU>Set Up MLflow Server</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item sidebar-top-level-category"><a class=menu__link href=/mlflow-website/docs/latest/genai/tracing/quickstart/><span title="Start Tracing" class=linkLabel_WmDU>Start Tracing</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item sidebar-top-level-category"><a class=menu__link href=/mlflow-website/docs/latest/genai/eval-monitor/quickstart/><span title="Evaluate LLMs and Agents" class=linkLabel_WmDU>Evaluate LLMs and Agents</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item sidebar-top-level-category"><a class=menu__link href=/mlflow-website/docs/latest/genai/getting-started/try-assistant/><span title="Try MLflow Assistant" class=linkLabel_WmDU>Try MLflow Assistant</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menuHtmlItem_M9Kj menu__list-item"><b>Core Components</b><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item sidebar-top-level-category"><div class=menu__list-item-collapsible><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--active" href=/mlflow-website/docs/latest/genai/tracing/><span title="Tracing (Observability)" class=categoryLinkLabel_W154>Tracing (Observability)</span></a><button aria-label="Collapse sidebar category 'Tracing (Observability)'" aria-expanded=true type=button class="clean-btn menu__caret"></button></div><ul class=menu__list><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/mlflow-website/docs/latest/genai/tracing/quickstart/><span title=Quickstart class=linkLabel_WmDU>Quickstart</span></a><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class=menu__list-item-collapsible><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role=button aria-expanded=true tabindex=0 href=/mlflow-website/docs/latest/genai/tracing/app-instrumentation/automatic/><span title=Guides class=categoryLinkLabel_W154>Guides</span></a></div><ul class=menu__list><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false tabindex=0 href=/mlflow-website/docs/latest/genai/tracing/app-instrumentation/automatic/><span title="Trace Your App & Agents" class=categoryLinkLabel_W154>Trace Your App & Agents</span></a></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false tabindex=0 href=/mlflow-website/docs/latest/genai/tracing/track-users-sessions/><span title="Enhance Your Traces" class=categoryLinkLabel_W154>Enhance Your Traces</span></a></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item"><div class=menu__list-item-collapsible><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role=button aria-expanded=true tabindex=0 href=/mlflow-website/docs/latest/genai/tracing/observe-with-traces/ui/><span title="View & Manage Traces" class=categoryLinkLabel_W154>View & Manage Traces</span></a></div><ul class=menu__list><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class=menu__link tabindex=0 href=/mlflow-website/docs/latest/genai/tracing/observe-with-traces/ui/><span title="View Traces in the UI" class=linkLabel_WmDU>View Traces in the UI</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link menu__link--active" aria-current=page tabindex=0 href=/mlflow-website/docs/latest/genai/tracing/search-traces/><span title="Search Traces" class=linkLabel_WmDU>Search Traces</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class=menu__link tabindex=0 href=/mlflow-website/docs/latest/genai/tracing/observe-with-traces/delete-traces/><span title="Delete Traces" class=linkLabel_WmDU>Delete Traces</span></a></ul><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false tabindex=0 href=/mlflow-website/docs/latest/genai/tracing/prod-tracing/><span title="Deploy to Production" class=categoryLinkLabel_W154>Deploy to Production</span></a></div></ul><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_byQd menu__link menu__link--sublist" tabindex=0 href=/mlflow-website/docs/latest/genai/tracing/integrations/><span title=Integrations class=categoryLinkLabel_W154>Integrations</span></a><button aria-label="Expand sidebar category 'Integrations'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false tabindex=0 href=/mlflow-website/docs/latest/genai/tracing/opentelemetry/><span title=OpenTelemetry class=categoryLinkLabel_W154>OpenTelemetry</span></a></div><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/mlflow-website/docs/latest/genai/tracing/faq/><span title=FAQ class=linkLabel_WmDU>FAQ</span></a></ul><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed sidebar-top-level-category"><div class=menu__list-item-collapsible><a class="categoryLink_byQd menu__link menu__link--sublist" href=/mlflow-website/docs/latest/genai/eval-monitor/><span title="Evaluate & Monitor" class=categoryLinkLabel_W154>Evaluate & Monitor</span></a><button aria-label="Expand sidebar category 'Evaluate & Monitor'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed sidebar-top-level-category"><div class=menu__list-item-collapsible><a class="categoryLink_byQd menu__link menu__link--sublist" href=/mlflow-website/docs/latest/genai/prompt-registry/><span title="Prompt Management" class=categoryLinkLabel_W154>Prompt Management</span></a><button aria-label="Expand sidebar category 'Prompt Management'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed sidebar-top-level-category"><div class=menu__list-item-collapsible><a class="categoryLink_byQd menu__link menu__link--sublist" href=/mlflow-website/docs/latest/genai/governance/ai-gateway/><span title="AI Gateway" class=categoryLinkLabel_W154>AI Gateway</span></a><button aria-label="Expand sidebar category 'AI Gateway'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menuHtmlItem_M9Kj menu__list-item"><b>More Features</b><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed sidebar-top-level-category"><div class=menu__list-item-collapsible><a class="categoryLink_byQd menu__link menu__link--sublist" href=/mlflow-website/docs/latest/genai/version-tracking/><span title="Version Tracking" class=categoryLinkLabel_W154>Version Tracking</span></a><button aria-label="Expand sidebar category 'Version Tracking'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed sidebar-top-level-category"><div class=menu__list-item-collapsible><a class="categoryLink_byQd menu__link menu__link--sublist" href=/mlflow-website/docs/latest/genai/flavors/><span title="Packaging & Deployment" class=categoryLinkLabel_W154>Packaging & Deployment</span></a><button aria-label="Expand sidebar category 'Packaging & Deployment'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed sidebar-top-level-category"><div class=menu__list-item-collapsible><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false href=/mlflow-website/docs/latest/genai/mcp/><span title=MCP class=categoryLinkLabel_W154>MCP</span></a></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed sidebar-top-level-category"><div class=menu__list-item-collapsible><a class="categoryLink_byQd menu__link menu__link--sublist" href=/mlflow-website/docs/latest/genai/serving/><span title="Model Serving" class=categoryLinkLabel_W154>Model Serving</span></a><button aria-label="Expand sidebar category 'Model Serving'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menuHtmlItem_M9Kj menu__list-item"><b>References</b><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed sidebar-top-level-category"><div class=menu__list-item-collapsible><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false href=/mlflow-website/docs/latest/genai/concepts/trace/><span title=Concepts class=categoryLinkLabel_W154>Concepts</span></a></div><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item sidebar-top-level-category"><a class=menu__link href=/mlflow-website/docs/latest/genai/references/request-features/><span title="Request Features" class=linkLabel_WmDU>Request Features</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item sidebar-top-level-category"><a class=menu__link href=/mlflow-website/docs/latest/genai/getting-started/databricks-trial/><span title="Managed MLflow" class=linkLabel_WmDU>Managed MLflow</span></a></ul></nav></div></div></aside><main class=docMainContainer_TBSr><div class="container padding-top--md padding-bottom--lg"><div class=row><div class="col docItemCol_VOVn"><div class=docItemContainer_Djhp><article><div class=breadcrumbsWrapper_xlkt><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label=Breadcrumbs><ul class=breadcrumbs><li class=breadcrumbs__item><a aria-label="Home page" class=breadcrumbs__link href=/mlflow-website/docs/latest/><svg viewBox="0 0 24 24" class=breadcrumbHomeIcon_YNFT><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill=currentColor /></svg></a><li class=breadcrumbs__item><a class=breadcrumbs__link href=/mlflow-website/docs/latest/genai/tracing/><span>Tracing (Observability)</span></a><li class=breadcrumbs__item><span class=breadcrumbs__link>Guides</span><li class=breadcrumbs__item><span class=breadcrumbs__link>View & Manage Traces</span><li class="breadcrumbs__item breadcrumbs__item--active"><span class=breadcrumbs__link>Search Traces</span></ul></nav></div><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type=button class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Search Traces</h1></header>
<p>This guide will walk you through how to search for traces in MLflow using both the MLflow UI and Python API. This resource will be valuable if you're interested in querying specific traces based on their metadata, tags, execution time, status, or other trace attributes.</p>
<p>MLflow's trace search functionality allows you to leverage SQL-like syntax to filter your traces based on a variety of conditions. While the <code>OR</code> keyword is not supported, the search functionality is powerful enough to handle complex queries for trace discovery and analysis.</p>
<div class="theme-admonition theme-admonition-important admonition_xJq3 alert alert--info"><div class=admonitionHeading_Gvgb><span class=admonitionIcon_Rf37><svg viewBox="0 0 14 16"><path fill-rule=evenodd d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"/></svg></span>important</div><div class=admonitionContent_BuS1><p><strong>Local File Store offers only limited search capabilities and can become slow as data volume grows.</strong> As of MLflow 3.6.0, the FileStore is deprecated. We recommend migrating to a SQL-backed store or Databricks for improved performance and more robust search functionality.</div></div>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id=search-traces-overview>Search Traces Overview<a href=#search-traces-overview class=hash-link aria-label="Direct link to Search Traces Overview" title="Direct link to Search Traces Overview" translate=no>​</a></h2>
<p>When working with MLflow tracing in production environments, you'll often have thousands of traces across different experiments representing various model inferences, LLM calls, or ML pipeline executions. The <code>search_traces</code> API helps you find specific traces based on their execution characteristics, metadata, tags, and other attributes - making trace analysis and debugging much more efficient.</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id=filtering-traces-in-the-ui>Filtering Traces in the UI<a href=#filtering-traces-in-the-ui class=hash-link aria-label="Direct link to Filtering Traces in the UI" title="Direct link to Filtering Traces in the UI" translate=no>​</a></h2>
<p>The UI search supports all the same filter syntax as the API, allowing you to search by:</p>
<ul>
<li class="">Trace inputs</li>
<li class="">Trace attributes: trace name, status, end time, execution time, run_id</li>
<li class="">Trace tags and metadata</li>
<li class="">Trace assessments: feedback or expectations</li>
</ul>
<p>Use the filters dropdown in the MLflow Trace UI to filter traces by various criteria:</p>
<div class=center-div style=width:100%><p><img decoding=async loading=lazy alt="search components" src=/mlflow-website/docs/latest/assets/images/tracing_search_traces-b3a85a28e78491294f0a3c747768a039.png width=2948 height=1332 class=img_ev3q /></div>
<p>For example, searching for traces that with ERROR state:</p>
<p><img decoding=async loading=lazy alt="Search Traces UI" src=/mlflow-website/docs/latest/assets/images/search-traces-on-ui-b8c6e343054a11ab58c527547ee43974.png width=2948 height=1332 class=img_ev3q /></p>
<p>Search for trace inputs:</p>
<p><img decoding=async loading=lazy alt="Search Traces Inputs UI" src=/mlflow-website/docs/latest/assets/images/search-traces-inputs-on-ui-4f7e2a743c22391ec9bb20939949557e.png width=2948 height=1332 class=img_ev3q /></p>
<p>Search for trace assessments by key and value:</p>
<p><img decoding=async loading=lazy alt="Search Traces By Assessments UI" src=/mlflow-website/docs/latest/assets/images/search-traces-assessments-on-ui-e09348c7f5985a54d8efd1ba117488b3.png width=3734 height=1290 class=img_ev3q /></p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id=search-query-syntax>Search Query Syntax<a href=#search-query-syntax class=hash-link aria-label="Direct link to Search Query Syntax" title="Direct link to Search Query Syntax" translate=no>​</a></h2>
<p>The <code>search_traces</code> API uses a SQL-like Domain Specific Language (DSL) for querying traces.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id=visual-representation-of-search-components>Visual Representation of Search Components:<a href=#visual-representation-of-search-components class=hash-link aria-label="Direct link to Visual Representation of Search Components:" title="Direct link to Visual Representation of Search Components:" translate=no>​</a></h3>
<div class=center-div style=width:30%><p><img decoding=async loading=lazy alt="search components" src=/mlflow-website/docs/latest/assets/images/search_syntax-8db1091a58dda699e58cd3846c12cace.png width=439 height=142 class=img_ev3q /></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id=supported-filters-and-comparators>Supported Filters and Comparators<a href=#supported-filters-and-comparators class=hash-link aria-label="Direct link to Supported Filters and Comparators" title="Direct link to Supported Filters and Comparators" translate=no>​</a></h3>
<table><thead><tr><th>Field Type<th>Fields<th>Operators<th>Examples<tbody><tr><td><strong>Trace Status</strong><td><code>trace.status</code><td><code>=</code>, <code>!=</code><td>trace.status = "OK"<tr><td><strong>Trace Timestamps</strong><td><code>trace.timestamp_ms</code>, <code>trace.execution_time_ms</code>, <code>trace.end_time_ms</code><td><code>=</code>, <code>!=</code>, <code>></code>, <code>&lt;</code>, <code>>=</code>, <code>&lt;=</code><td>trace.end_time_ms > 1762408895531<tr><td><strong>Trace IDs</strong><td><code>trace.run_id</code><td><code>=</code><td>trace.run_id = "run_id"<tr><td><strong>String Fields</strong><td><code>trace.client_request_id</code>, <code>trace.name</code><td><code>=</code>, <code>!=</code>, <code>LIKE</code>, <code>ILIKE</code>, <code>RLIKE</code><td>trace.name LIKE "%Generate%"<tr><td><strong>Linked Prompts</strong><td><code>prompt</code><td><code>=</code> (format: <code>"name/version"</code>)<td>prompt = "qa-system-prompt/4"<tr><td><strong>Span Name/Type</strong><td><code>span.name</code>, <code>span.type</code><td><code>=</code>, <code>!=</code>, <code>LIKE</code>, <code>ILIKE</code>, <code>RLIKE</code><td>span.type RLIKE "^LLM"<tr><td><strong>Span Attributes</strong><td><code>span.attributes.&lt;key></code><td><code>LIKE</code>, <code>ILIKE</code><td>span.attributes.model RLIKE "^gpt"<tr><td><strong>Tags</strong><td><code>tag.&lt;key></code><td><code>=</code>, <code>!=</code>, <code>LIKE</code>, <code>ILIKE</code>, <code>RLIKE</code><td>tag.key = "value"<tr><td><strong>Metadata</strong><td><code>metadata.&lt;key></code><td><code>=</code>, <code>!=</code>, <code>LIKE</code>, <code>ILIKE</code>, <code>RLIKE</code>, <code>IS NULL</code>, <code>IS NOT NULL</code><td>metadata.user_id LIKE "user%"<tr><td><strong>Feedback</strong><td><code>feedback.&lt;name></code><td><code>=</code>, <code>!=</code>, <code>LIKE</code>, <code>ILIKE</code>, <code>RLIKE</code><td>feedback.rating = "excellent"<tr><td><strong>Expectations</strong><td><code>expectation.&lt;name></code><td><code>=</code>, <code>!=</code>, <code>LIKE</code>, <code>ILIKE</code>, <code>RLIKE</code><td>expectation.result = "pass"<tr><td><strong>Full Text</strong><td><code>trace.text</code><td><code>LIKE</code> (with <code>%</code> wildcards)<td>trace.text LIKE "%tell me a story"</table>
<p><strong>Value Syntax:</strong></p>
<ul>
<li class="">String values must be quoted: <code>status = 'OK'</code></li>
<li class="">Numeric values don't need quotes: <code>execution_time_ms > 1000</code></li>
<li class="">Tag and metadata values must be quoted as strings</li>
<li class="">Full text search must use <code>LIKE</code> with <code>%</code> wildcards</li>
</ul>
<p><strong>Pattern Matching Operators:</strong></p>
<ul>
<li class=""><code>LIKE</code>: Case-sensitive pattern matching (use <code>%</code> for wildcards)</li>
<li class=""><code>ILIKE</code>: Case-insensitive pattern matching (use <code>%</code> for wildcards)</li>
<li class=""><code>RLIKE</code>: Regular expression matching</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id=example-queries>Example Queries<a href=#example-queries class=hash-link aria-label="Direct link to Example Queries" title="Direct link to Example Queries" translate=no>​</a></h3>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id=full-text-search>Full Text Search<a href=#full-text-search class=hash-link aria-label="Direct link to Full Text Search" title="Direct link to Full Text Search" translate=no>​</a></h4>
<p>Search for any contents existing in your trace.</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#F8F8F2;--prism-background-color:#282A36><div class=codeBlockContent_bxn0><div class=codeBlockHeader_C_1e aria-label="Code block header for python code with copy and toggle buttons"><span class=languageLabel_zr_I>python</span></div><pre tabindex=0 class="prism-code language-python codeBlock_bY9V thin-scrollbar" style=color:#F8F8F2;background-color:#282A36><code class=codeBlockLines_e6Vv><span class=token-line style=color:#F8F8F2><span class="token comment" style="color:rgb(98, 114, 164)"># Search for traces containing specific text</span><span class="token plain"></span><br/></span><span class=token-line style=color:#F8F8F2><span class="token plain">mlflow</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">search_traces</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">filter_string</span><span class="token operator">=</span><span class="token string" style="color:rgb(255, 121, 198)">"trace.text LIKE '%authentication error%'"</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br/></span><span class=token-line style=color:#F8F8F2><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#F8F8F2><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)"># Search for multiple terms</span><span class="token plain"></span><br/></span><span class=token-line style=color:#F8F8F2><span class="token plain">mlflow</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">search_traces</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">filter_string</span><span class="token operator">=</span><span class="token string" style="color:rgb(255, 121, 198)">"trace.text LIKE '%timeout%'"</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><br/></span></code></pre></div></div>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id=filter-by-name>Filter by Name<a href=#filter-by-name class=hash-link aria-label="Direct link to Filter by Name" title="Direct link to Filter by Name" translate=no>​</a></h4>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#F8F8F2;--prism-background-color:#282A36><div class=codeBlockContent_bxn0><div class=codeBlockHeader_C_1e aria-label="Code block header for python code with copy and toggle buttons"><span class=languageLabel_zr_I>python</span></div><pre tabindex=0 class="prism-code language-python codeBlock_bY9V thin-scrollbar" style=color:#F8F8F2;background-color:#282A36><code class=codeBlockLines_e6Vv><span class=token-line style=color:#F8F8F2><span class="token comment" style="color:rgb(98, 114, 164)"># Exact match</span><span class="token plain"></span><br/></span><span class=token-line style=color:#F8F8F2><span class="token plain">mlflow</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">search_traces</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">filter_string</span><span class="token operator">=</span><span class="token string" style="color:rgb(255, 121, 198)">"trace.name = 'predict'"</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br/></span><span class=token-line style=color:#F8F8F2><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#F8F8F2><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)"># Pattern matching with LIKE</span><span class="token plain"></span><br/></span><span class=token-line style=color:#F8F8F2><span class="token plain">mlflow</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">search_traces</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">filter_string</span><span class="token operator">=</span><span class="token string" style="color:rgb(255, 121, 198)">"trace.name LIKE '%inference%'"</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br/></span><span class=token-line style=color:#F8F8F2><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#F8F8F2><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)"># Case-insensitive pattern matching with ILIKE</span><span class="token plain"></span><br/></span><span class=token-line style=color:#F8F8F2><span class="token plain">mlflow</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">search_traces</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">filter_string</span><span class="token operator">=</span><span class="token string" style="color:rgb(255, 121, 198)">"trace.name ILIKE '%PREDICT%'"</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br/></span><span class=token-line style=color:#F8F8F2><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#F8F8F2><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)"># Regular expression matching with RLIKE</span><span class="token plain"></span><br/></span><span class=token-line style=color:#F8F8F2><span class="token plain">mlflow</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">search_traces</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">filter_string</span><span class="token operator">=</span><span class="token string" style="color:rgb(255, 121, 198)">"trace.name RLIKE '^(predict|inference)_[0-9]+'"</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><br/></span></code></pre></div></div>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id=filter-by-status>Filter by Status<a href=#filter-by-status class=hash-link aria-label="Direct link to Filter by Status" title="Direct link to Filter by Status" translate=no>​</a></h4>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#F8F8F2;--prism-background-color:#282A36><div class=codeBlockContent_bxn0><div class=codeBlockHeader_C_1e aria-label="Code block header for python code with copy and toggle buttons"><span class=languageLabel_zr_I>python</span></div><pre tabindex=0 class="prism-code language-python codeBlock_bY9V thin-scrollbar" style=color:#F8F8F2;background-color:#282A36><code class=codeBlockLines_e6Vv><span class=token-line style=color:#F8F8F2><span class="token comment" style="color:rgb(98, 114, 164)"># Get successful traces</span><span class="token plain"></span><br/></span><span class=token-line style=color:#F8F8F2><span class="token plain">mlflow</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">search_traces</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">filter_string</span><span class="token operator">=</span><span class="token string" style="color:rgb(255, 121, 198)">"trace.status = 'OK'"</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br/></span><span class=token-line style=color:#F8F8F2><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#F8F8F2><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)"># Get failed traces</span><span class="token plain"></span><br/></span><span class=token-line style=color:#F8F8F2><span class="token plain">mlflow</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">search_traces</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">filter_string</span><span class="token operator">=</span><span class="token string" style="color:rgb(255, 121, 198)">"trace.status = 'ERROR'"</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br/></span><span class=token-line style=color:#F8F8F2><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#F8F8F2><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)"># Get in-progress traces</span><span class="token plain"></span><br/></span><span class=token-line style=color:#F8F8F2><span class="token plain">mlflow</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">search_traces</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">filter_string</span><span class="token operator">=</span><span class="token string" style="color:rgb(255, 121, 198)">"trace.status != 'OK'"</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><br/></span></code></pre></div></div>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id=filter-by-execution-time>Filter by Execution Time<a href=#filter-by-execution-time class=hash-link aria-label="Direct link to Filter by Execution Time" title="Direct link to Filter by Execution Time" translate=no>​</a></h4>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#F8F8F2;--prism-background-color:#282A36><div class=codeBlockContent_bxn0><div class=codeBlockHeader_C_1e aria-label="Code block header for python code with copy and toggle buttons"><span class=languageLabel_zr_I>python</span></div><pre tabindex=0 class="prism-code language-python codeBlock_bY9V thin-scrollbar" style=color:#F8F8F2;background-color:#282A36><code class=codeBlockLines_e6Vv><span class=token-line style=color:#F8F8F2><span class="token comment" style="color:rgb(98, 114, 164)"># Find slow traces (> 1 second)</span><span class="token plain"></span><br/></span><span class=token-line style=color:#F8F8F2><span class="token plain">mlflow</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">search_traces</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">filter_string</span><span class="token operator">=</span><span class="token string" style="color:rgb(255, 121, 198)">"trace.execution_time_ms > 1000"</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br/></span><span class=token-line style=color:#F8F8F2><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#F8F8F2><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)"># Performance range</span><span class="token plain"></span><br/></span><span class=token-line style=color:#F8F8F2><span class="token plain">mlflow</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">search_traces</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain"></span><br/></span><span class=token-line style=color:#F8F8F2><span class="token plain">    filter_string</span><span class="token operator">=</span><span class="token string" style="color:rgb(255, 121, 198)">"trace.execution_time_ms >= 200 AND trace.execution_time_ms &lt;= 800"</span><span class="token plain"></span><br/></span><span class=token-line style=color:#F8F8F2><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br/></span><span class=token-line style=color:#F8F8F2><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#F8F8F2><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)"># Equal to specific duration</span><span class="token plain"></span><br/></span><span class=token-line style=color:#F8F8F2><span class="token plain">mlflow</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">search_traces</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">filter_string</span><span class="token operator">=</span><span class="token string" style="color:rgb(255, 121, 198)">"trace.execution_time_ms = 500"</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><br/></span></code></pre></div></div>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id=filter-by-timestamp>Filter by Timestamp<a href=#filter-by-timestamp class=hash-link aria-label="Direct link to Filter by Timestamp" title="Direct link to Filter by Timestamp" translate=no>​</a></h4>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#F8F8F2;--prism-background-color:#282A36><div class=codeBlockContent_bxn0><div class=codeBlockHeader_C_1e aria-label="Code block header for python code with copy and toggle buttons"><span class=languageLabel_zr_I>python</span></div><pre tabindex=0 class="prism-code language-python codeBlock_bY9V thin-scrollbar" style=color:#F8F8F2;background-color:#282A36><code class=codeBlockLines_e6Vv><span class=token-line style=color:#F8F8F2><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">import</span><span class="token plain"> time</span><br/></span><span class=token-line style=color:#F8F8F2><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#F8F8F2><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)"># Get traces from last hour</span><span class="token plain"></span><br/></span><span class=token-line style=color:#F8F8F2><span class="token plain">timestamp </span><span class="token operator">=</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(189, 147, 249)">int</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">time</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">time</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token operator">*</span><span class="token plain"> </span><span class="token number">1000</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br/></span><span class=token-line style=color:#F8F8F2><span class="token plain">mlflow</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">search_traces</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">filter_string</span><span class="token operator">=</span><span class="token string-interpolation string" style="color:rgb(255, 121, 198)">f"trace.timestamp_ms > </span><span class="token string-interpolation interpolation punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token string-interpolation interpolation">timestamp </span><span class="token string-interpolation interpolation operator">-</span><span class="token string-interpolation interpolation"> </span><span class="token string-interpolation interpolation number">3600000</span><span class="token string-interpolation interpolation punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token string-interpolation string" style="color:rgb(255, 121, 198)">"</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br/></span><span class=token-line style=color:#F8F8F2><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#F8F8F2><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)"># Exact timestamp match</span><span class="token plain"></span><br/></span><span class=token-line style=color:#F8F8F2><span class="token plain">mlflow</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">search_traces</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">filter_string</span><span class="token operator">=</span><span class="token string-interpolation string" style="color:rgb(255, 121, 198)">f"trace.timestamp_ms = </span><span class="token string-interpolation interpolation punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token string-interpolation interpolation">timestamp</span><span class="token string-interpolation interpolation punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token string-interpolation string" style="color:rgb(255, 121, 198)">"</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br/></span><span class=token-line style=color:#F8F8F2><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#F8F8F2><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)"># Timestamp range</span><span class="token plain"></span><br/></span><span class=token-line style=color:#F8F8F2><span class="token plain">mlflow</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">search_traces</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain"></span><br/></span><span class=token-line style=color:#F8F8F2><span class="token plain">    filter_string</span><span class="token operator">=</span><span class="token string-interpolation string" style="color:rgb(255, 121, 198)">f"trace.timestamp_ms >= </span><span class="token string-interpolation interpolation punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token string-interpolation interpolation">timestamp </span><span class="token string-interpolation interpolation operator">-</span><span class="token string-interpolation interpolation"> </span><span class="token string-interpolation interpolation number">7200000</span><span class="token string-interpolation interpolation punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token string-interpolation string" style="color:rgb(255, 121, 198)"> AND trace.timestamp_ms &lt;= </span><span class="token string-interpolation interpolation punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token string-interpolation interpolation">timestamp </span><span class="token string-interpolation interpolation operator">-</span><span class="token string-interpolation interpolation"> </span><span class="token string-interpolation interpolation number">3600000</span><span class="token string-interpolation interpolation punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token string-interpolation string" style="color:rgb(255, 121, 198)">"</span><span class="token plain"></span><br/></span><span class=token-line style=color:#F8F8F2><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><br/></span></code></pre></div></div>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id=filter-by-tags>Filter by Tags<a href=#filter-by-tags class=hash-link aria-label="Direct link to Filter by Tags" title="Direct link to Filter by Tags" translate=no>​</a></h4>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#F8F8F2;--prism-background-color:#282A36><div class=codeBlockContent_bxn0><div class=codeBlockHeader_C_1e aria-label="Code block header for python code with copy and toggle buttons"><span class=languageLabel_zr_I>python</span></div><pre tabindex=0 class="prism-code language-python codeBlock_bY9V thin-scrollbar" style=color:#F8F8F2;background-color:#282A36><code class=codeBlockLines_e6Vv><span class=token-line style=color:#F8F8F2><span class="token comment" style="color:rgb(98, 114, 164)"># Exact match</span><span class="token plain"></span><br/></span><span class=token-line style=color:#F8F8F2><span class="token plain">mlflow</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">search_traces</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">filter_string</span><span class="token operator">=</span><span class="token string" style="color:rgb(255, 121, 198)">"tag.model_name = 'gpt-4'"</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br/></span><span class=token-line style=color:#F8F8F2><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#F8F8F2><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)"># Pattern matching with LIKE (case-sensitive)</span><span class="token plain"></span><br/></span><span class=token-line style=color:#F8F8F2><span class="token plain">mlflow</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">search_traces</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">filter_string</span><span class="token operator">=</span><span class="token string" style="color:rgb(255, 121, 198)">"tag.model_name LIKE 'gpt-%'"</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br/></span><span class=token-line style=color:#F8F8F2><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#F8F8F2><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)"># Case-insensitive pattern matching with ILIKE</span><span class="token plain"></span><br/></span><span class=token-line style=color:#F8F8F2><span class="token plain">mlflow</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">search_traces</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">filter_string</span><span class="token operator">=</span><span class="token string" style="color:rgb(255, 121, 198)">"tag.environment ILIKE '%prod%'"</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br/></span><span class=token-line style=color:#F8F8F2><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#F8F8F2><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)"># Regular expression matching with RLIKE</span><span class="token plain"></span><br/></span><span class=token-line style=color:#F8F8F2><span class="token plain">mlflow</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">search_traces</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">filter_string</span><span class="token operator">=</span><span class="token string" style="color:rgb(255, 121, 198)">"tag.version RLIKE '^v[0-9]+\\.[0-9]+'"</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><br/></span></code></pre></div></div>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id=filter-by-metadata>Filter by Metadata<a href=#filter-by-metadata class=hash-link aria-label="Direct link to Filter by Metadata" title="Direct link to Filter by Metadata" translate=no>​</a></h4>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#F8F8F2;--prism-background-color:#282A36><div class=codeBlockContent_bxn0><div class=codeBlockHeader_C_1e aria-label="Code block header for python code with copy and toggle buttons"><span class=languageLabel_zr_I>python</span></div><pre tabindex=0 class="prism-code language-python codeBlock_bY9V thin-scrollbar" style=color:#F8F8F2;background-color:#282A36><code class=codeBlockLines_e6Vv><span class=token-line style=color:#F8F8F2><span class="token comment" style="color:rgb(98, 114, 164)"># Exact match</span><span class="token plain"></span><br/></span><span class=token-line style=color:#F8F8F2><span class="token plain">mlflow</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">search_traces</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">filter_string</span><span class="token operator">=</span><span class="token string" style="color:rgb(255, 121, 198)">"metadata.user_id = 'user_123'"</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br/></span><span class=token-line style=color:#F8F8F2><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#F8F8F2><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)"># Find traces where metadata key exists</span><span class="token plain"></span><br/></span><span class=token-line style=color:#F8F8F2><span class="token plain">mlflow</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">search_traces</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">filter_string</span><span class="token operator">=</span><span class="token string" style="color:rgb(255, 121, 198)">"metadata.session_id IS NOT NULL"</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br/></span><span class=token-line style=color:#F8F8F2><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#F8F8F2><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)"># Find traces where metadata key is missing</span><span class="token plain"></span><br/></span><span class=token-line style=color:#F8F8F2><span class="token plain">mlflow</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">search_traces</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">filter_string</span><span class="token operator">=</span><span class="token string" style="color:rgb(255, 121, 198)">"metadata.region IS NULL"</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br/></span><span class=token-line style=color:#F8F8F2><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#F8F8F2><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)"># Combine null checks with other filters</span><span class="token plain"></span><br/></span><span class=token-line style=color:#F8F8F2><span class="token plain">mlflow</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">search_traces</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain"></span><br/></span><span class=token-line style=color:#F8F8F2><span class="token plain">    filter_string</span><span class="token operator">=</span><span class="token string" style="color:rgb(255, 121, 198)">"metadata.region IS NOT NULL AND metadata.env = 'production'"</span><span class="token plain"></span><br/></span><span class=token-line style=color:#F8F8F2><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><br/></span></code></pre></div></div>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id=filter-by-run-association>Filter by Run Association<a href=#filter-by-run-association class=hash-link aria-label="Direct link to Filter by Run Association" title="Direct link to Filter by Run Association" translate=no>​</a></h4>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#F8F8F2;--prism-background-color:#282A36><div class=codeBlockContent_bxn0><div class=codeBlockHeader_C_1e aria-label="Code block header for python code with copy and toggle buttons"><span class=languageLabel_zr_I>python</span></div><pre tabindex=0 class="prism-code language-python codeBlock_bY9V thin-scrollbar" style=color:#F8F8F2;background-color:#282A36><code class=codeBlockLines_e6Vv><span class=token-line style=color:#F8F8F2><span class="token comment" style="color:rgb(98, 114, 164)"># Find traces associated with a specific run</span><span class="token plain"></span><br/></span><span class=token-line style=color:#F8F8F2><span class="token plain">mlflow</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">search_traces</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">filter_string</span><span class="token operator">=</span><span class="token string" style="color:rgb(255, 121, 198)">"trace.run_id = 'run_id_123456'"</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><br/></span></code></pre></div></div>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id=filter-by-linked-prompts>Filter by Linked Prompts<a href=#filter-by-linked-prompts class=hash-link aria-label="Direct link to Filter by Linked Prompts" title="Direct link to Filter by Linked Prompts" translate=no>​</a></h4>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#F8F8F2;--prism-background-color:#282A36><div class=codeBlockContent_bxn0><div class=codeBlockHeader_C_1e aria-label="Code block header for python code with copy and toggle buttons"><span class=languageLabel_zr_I>python</span></div><pre tabindex=0 class="prism-code language-python codeBlock_bY9V thin-scrollbar" style=color:#F8F8F2;background-color:#282A36><code class=codeBlockLines_e6Vv><span class=token-line style=color:#F8F8F2><span class="token comment" style="color:rgb(98, 114, 164)"># Find traces using a specific prompt version</span><span class="token plain"></span><br/></span><span class=token-line style=color:#F8F8F2><span class="token plain">mlflow</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">search_traces</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">filter_string</span><span class="token operator">=</span><span class="token string" style="color:rgb(255, 121, 198)">'prompt = "qa-agent-system-prompt/4"'</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><br/></span></code></pre></div></div>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class=admonitionHeading_Gvgb><span class=admonitionIcon_Rf37><svg viewBox="0 0 14 16"><path fill-rule=evenodd d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"/></svg></span>note</div><div class=admonitionContent_BuS1><p>The <code>prompt</code> filter only supports exact match (<code>=</code>) operator with the format <code>"name/version"</code>.</div></div>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id=filter-by-span-attributes>Filter by Span Attributes<a href=#filter-by-span-attributes class=hash-link aria-label="Direct link to Filter by Span Attributes" title="Direct link to Filter by Span Attributes" translate=no>​</a></h4>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#F8F8F2;--prism-background-color:#282A36><div class=codeBlockContent_bxn0><div class=codeBlockHeader_C_1e aria-label="Code block header for python code with copy and toggle buttons"><span class=languageLabel_zr_I>python</span></div><pre tabindex=0 class="prism-code language-python codeBlock_bY9V thin-scrollbar" style=color:#F8F8F2;background-color:#282A36><code class=codeBlockLines_e6Vv><span class=token-line style=color:#F8F8F2><span class="token comment" style="color:rgb(98, 114, 164)"># Filter by span name</span><span class="token plain"></span><br/></span><span class=token-line style=color:#F8F8F2><span class="token plain">mlflow</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">search_traces</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">filter_string</span><span class="token operator">=</span><span class="token string" style="color:rgb(255, 121, 198)">"span.name = 'llm_call'"</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br/></span><span class=token-line style=color:#F8F8F2><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#F8F8F2><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)"># Pattern matching on span name</span><span class="token plain"></span><br/></span><span class=token-line style=color:#F8F8F2><span class="token plain">mlflow</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">search_traces</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">filter_string</span><span class="token operator">=</span><span class="token string" style="color:rgb(255, 121, 198)">"span.name LIKE '%embedding%'"</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br/></span><span class=token-line style=color:#F8F8F2><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#F8F8F2><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)"># Filter by span type</span><span class="token plain"></span><br/></span><span class=token-line style=color:#F8F8F2><span class="token plain">mlflow</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">search_traces</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">filter_string</span><span class="token operator">=</span><span class="token string" style="color:rgb(255, 121, 198)">"span.type = 'LLM'"</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br/></span><span class=token-line style=color:#F8F8F2><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#F8F8F2><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)"># Filter by custom span attributes (requires wildcards with LIKE/ILIKE)</span><span class="token plain"></span><br/></span><span class=token-line style=color:#F8F8F2><span class="token plain">mlflow</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">search_traces</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">filter_string</span><span class="token operator">=</span><span class="token string" style="color:rgb(255, 121, 198)">"span.attributes.model_version LIKE '%v2%'"</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br/></span><span class=token-line style=color:#F8F8F2><span class="token plain">mlflow</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">search_traces</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">filter_string</span><span class="token operator">=</span><span class="token string" style="color:rgb(255, 121, 198)">"span.attributes.temperature LIKE '%0.7%'"</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br/></span><span class=token-line style=color:#F8F8F2><span class="token plain">mlflow</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">search_traces</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">filter_string</span><span class="token operator">=</span><span class="token string" style="color:rgb(255, 121, 198)">"span.attributes.model_version ILIKE '%V2%'"</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><br/></span></code></pre></div></div>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id=filter-by-feedback>Filter by Feedback<a href=#filter-by-feedback class=hash-link aria-label="Direct link to Filter by Feedback" title="Direct link to Filter by Feedback" translate=no>​</a></h4>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#F8F8F2;--prism-background-color:#282A36><div class=codeBlockContent_bxn0><div class=codeBlockHeader_C_1e aria-label="Code block header for python code with copy and toggle buttons"><span class=languageLabel_zr_I>python</span></div><pre tabindex=0 class="prism-code language-python codeBlock_bY9V thin-scrollbar" style=color:#F8F8F2;background-color:#282A36><code class=codeBlockLines_e6Vv><span class=token-line style=color:#F8F8F2><span class="token comment" style="color:rgb(98, 114, 164)"># Filter by feedback ratings</span><span class="token plain"></span><br/></span><span class=token-line style=color:#F8F8F2><span class="token plain">mlflow</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">search_traces</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">filter_string</span><span class="token operator">=</span><span class="token string" style="color:rgb(255, 121, 198)">"feedback.rating = 'positive'"</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br/></span><span class=token-line style=color:#F8F8F2><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#F8F8F2><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)"># Pattern matching on feedback</span><span class="token plain"></span><br/></span><span class=token-line style=color:#F8F8F2><span class="token plain">mlflow</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">search_traces</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">filter_string</span><span class="token operator">=</span><span class="token string" style="color:rgb(255, 121, 198)">"feedback.user_comment LIKE '%helpful%'"</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><br/></span></code></pre></div></div>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id=filter-by-expectations>Filter by Expectations<a href=#filter-by-expectations class=hash-link aria-label="Direct link to Filter by Expectations" title="Direct link to Filter by Expectations" translate=no>​</a></h4>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#F8F8F2;--prism-background-color:#282A36><div class=codeBlockContent_bxn0><div class=codeBlockHeader_C_1e aria-label="Code block header for python code with copy and toggle buttons"><span class=languageLabel_zr_I>python</span></div><pre tabindex=0 class="prism-code language-python codeBlock_bY9V thin-scrollbar" style=color:#F8F8F2;background-color:#282A36><code class=codeBlockLines_e6Vv><span class=token-line style=color:#F8F8F2><span class="token comment" style="color:rgb(98, 114, 164)"># Filter by expectation values</span><span class="token plain"></span><br/></span><span class=token-line style=color:#F8F8F2><span class="token plain">mlflow</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">search_traces</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">filter_string</span><span class="token operator">=</span><span class="token string" style="color:rgb(255, 121, 198)">"expectation.accuracy = 'high'"</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br/></span><span class=token-line style=color:#F8F8F2><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#F8F8F2><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)"># Pattern matching on expectations</span><span class="token plain"></span><br/></span><span class=token-line style=color:#F8F8F2><span class="token plain">mlflow</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">search_traces</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">filter_string</span><span class="token operator">=</span><span class="token string" style="color:rgb(255, 121, 198)">"expectation.label ILIKE '%success%'"</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><br/></span></code></pre></div></div>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id=filter-by-end-time>Filter by End Time<a href=#filter-by-end-time class=hash-link aria-label="Direct link to Filter by End Time" title="Direct link to Filter by End Time" translate=no>​</a></h4>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#F8F8F2;--prism-background-color:#282A36><div class=codeBlockContent_bxn0><div class=codeBlockHeader_C_1e aria-label="Code block header for python code with copy and toggle buttons"><span class=languageLabel_zr_I>python</span></div><pre tabindex=0 class="prism-code language-python codeBlock_bY9V thin-scrollbar" style=color:#F8F8F2;background-color:#282A36><code class=codeBlockLines_e6Vv><span class=token-line style=color:#F8F8F2><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">import</span><span class="token plain"> time</span><br/></span><span class=token-line style=color:#F8F8F2><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#F8F8F2><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)"># Get traces that completed in the last hour</span><span class="token plain"></span><br/></span><span class=token-line style=color:#F8F8F2><span class="token plain">end_time </span><span class="token operator">=</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(189, 147, 249)">int</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">time</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">time</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token operator">*</span><span class="token plain"> </span><span class="token number">1000</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br/></span><span class=token-line style=color:#F8F8F2><span class="token plain">mlflow</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">search_traces</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">filter_string</span><span class="token operator">=</span><span class="token string-interpolation string" style="color:rgb(255, 121, 198)">f"trace.end_time_ms > </span><span class="token string-interpolation interpolation punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token string-interpolation interpolation">end_time </span><span class="token string-interpolation interpolation operator">-</span><span class="token string-interpolation interpolation"> </span><span class="token string-interpolation interpolation number">3600000</span><span class="token string-interpolation interpolation punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token string-interpolation string" style="color:rgb(255, 121, 198)">"</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br/></span><span class=token-line style=color:#F8F8F2><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#F8F8F2><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)"># Find traces that ended within a specific time range</span><span class="token plain"></span><br/></span><span class=token-line style=color:#F8F8F2><span class="token plain">mlflow</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">search_traces</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain"></span><br/></span><span class=token-line style=color:#F8F8F2><span class="token plain">    filter_string</span><span class="token operator">=</span><span class="token string-interpolation string" style="color:rgb(255, 121, 198)">f"trace.end_time_ms >= </span><span class="token string-interpolation interpolation punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token string-interpolation interpolation">end_time </span><span class="token string-interpolation interpolation operator">-</span><span class="token string-interpolation interpolation"> </span><span class="token string-interpolation interpolation number">7200000</span><span class="token string-interpolation interpolation punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token string-interpolation string" style="color:rgb(255, 121, 198)"> AND trace.end_time_ms &lt;= </span><span class="token string-interpolation interpolation punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token string-interpolation interpolation">end_time </span><span class="token string-interpolation interpolation operator">-</span><span class="token string-interpolation interpolation"> </span><span class="token string-interpolation interpolation number">3600000</span><span class="token string-interpolation interpolation punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token string-interpolation string" style="color:rgb(255, 121, 198)">"</span><span class="token plain"></span><br/></span><span class=token-line style=color:#F8F8F2><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><br/></span></code></pre></div></div>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id=combine-multiple-conditions>Combine Multiple Conditions<a href=#combine-multiple-conditions class=hash-link aria-label="Direct link to Combine Multiple Conditions" title="Direct link to Combine Multiple Conditions" translate=no>​</a></h4>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#F8F8F2;--prism-background-color:#282A36><div class=codeBlockContent_bxn0><div class=codeBlockHeader_C_1e aria-label="Code block header for python code with copy and toggle buttons"><span class=languageLabel_zr_I>python</span></div><pre tabindex=0 class="prism-code language-python codeBlock_bY9V thin-scrollbar" style=color:#F8F8F2;background-color:#282A36><code class=codeBlockLines_e6Vv><span class=token-line style=color:#F8F8F2><span class="token comment" style="color:rgb(98, 114, 164)"># Complex query with tags and status</span><span class="token plain"></span><br/></span><span class=token-line style=color:#F8F8F2><span class="token plain">mlflow</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">search_traces</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">filter_string</span><span class="token operator">=</span><span class="token string" style="color:rgb(255, 121, 198)">"trace.status = 'OK' AND tag.importance = 'high'"</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br/></span><span class=token-line style=color:#F8F8F2><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#F8F8F2><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)"># Production error analysis with execution time</span><span class="token plain"></span><br/></span><span class=token-line style=color:#F8F8F2><span class="token plain">mlflow</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">search_traces</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain"></span><br/></span><span class=token-line style=color:#F8F8F2><span class="token plain">    filter_string</span><span class="token operator">=</span><span class="token triple-quoted-string string" style="color:rgb(255, 121, 198)">"""</span><br/></span><span class=token-line style=color:#F8F8F2><span class="token triple-quoted-string string" style="color:rgb(255, 121, 198)">        tag.environment = 'production'</span><br/></span><span class=token-line style=color:#F8F8F2><span class="token triple-quoted-string string" style="color:rgb(255, 121, 198)">        AND trace.status = 'ERROR'</span><br/></span><span class=token-line style=color:#F8F8F2><span class="token triple-quoted-string string" style="color:rgb(255, 121, 198)">        AND trace.execution_time_ms > 500</span><br/></span><span class=token-line style=color:#F8F8F2><span class="token triple-quoted-string string" style="color:rgb(255, 121, 198)">    """</span><span class="token plain"></span><br/></span><span class=token-line style=color:#F8F8F2><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br/></span><span class=token-line style=color:#F8F8F2><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#F8F8F2><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)"># Advanced query with span attributes and feedback</span><span class="token plain"></span><br/></span><span class=token-line style=color:#F8F8F2><span class="token plain">mlflow</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">search_traces</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain"></span><br/></span><span class=token-line style=color:#F8F8F2><span class="token plain">    filter_string</span><span class="token operator">=</span><span class="token triple-quoted-string string" style="color:rgb(255, 121, 198)">"""</span><br/></span><span class=token-line style=color:#F8F8F2><span class="token triple-quoted-string string" style="color:rgb(255, 121, 198)">        span.name LIKE '%llm%'</span><br/></span><span class=token-line style=color:#F8F8F2><span class="token triple-quoted-string string" style="color:rgb(255, 121, 198)">        AND feedback.rating = 'positive'</span><br/></span><span class=token-line style=color:#F8F8F2><span class="token triple-quoted-string string" style="color:rgb(255, 121, 198)">        AND trace.execution_time_ms &lt; 1000</span><br/></span><span class=token-line style=color:#F8F8F2><span class="token triple-quoted-string string" style="color:rgb(255, 121, 198)">    """</span><span class="token plain"></span><br/></span><span class=token-line style=color:#F8F8F2><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br/></span><span class=token-line style=color:#F8F8F2><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#F8F8F2><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)"># Search with pattern matching and time range</span><span class="token plain"></span><br/></span><span class=token-line style=color:#F8F8F2><span class="token plain">mlflow</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">search_traces</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain"></span><br/></span><span class=token-line style=color:#F8F8F2><span class="token plain">    filter_string</span><span class="token operator">=</span><span class="token triple-quoted-string string" style="color:rgb(255, 121, 198)">"""</span><br/></span><span class=token-line style=color:#F8F8F2><span class="token triple-quoted-string string" style="color:rgb(255, 121, 198)">        trace.name ILIKE '%inference%'</span><br/></span><span class=token-line style=color:#F8F8F2><span class="token triple-quoted-string string" style="color:rgb(255, 121, 198)">        AND trace.timestamp_ms > 1700000000000</span><br/></span><span class=token-line style=color:#F8F8F2><span class="token triple-quoted-string string" style="color:rgb(255, 121, 198)">        AND span.attributes.model_version LIKE '%v2%'</span><br/></span><span class=token-line style=color:#F8F8F2><span class="token triple-quoted-string string" style="color:rgb(255, 121, 198)">    """</span><span class="token plain"></span><br/></span><span class=token-line style=color:#F8F8F2><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><br/></span></code></pre></div></div>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id=programmatic-search-with-python>Programmatic Search with Python<a href=#programmatic-search-with-python class=hash-link aria-label="Direct link to Programmatic Search with Python" title="Direct link to Programmatic Search with Python" translate=no>​</a></h2>
<p><a href=/mlflow-website/docs/latest/api_reference/python_api/mlflow.html#mlflow.search_traces target=_blank><code>mlflow.search_traces<!-- -->()</code></a> provides convenient trace search functionality:</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#F8F8F2;--prism-background-color:#282A36><div class=codeBlockContent_bxn0><div class=codeBlockHeader_C_1e aria-label="Code block header for python code with copy and toggle buttons"><span class=languageLabel_zr_I>python</span></div><pre tabindex=0 class="prism-code language-python codeBlock_bY9V thin-scrollbar" style=color:#F8F8F2;background-color:#282A36><code class=codeBlockLines_e6Vv><span class=token-line style=color:#F8F8F2><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">import</span><span class="token plain"> mlflow</span><br/></span><span class=token-line style=color:#F8F8F2><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#F8F8F2><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)"># Basic search with default DataFrame output</span><span class="token plain"></span><br/></span><span class=token-line style=color:#F8F8F2><span class="token plain">traces_df </span><span class="token operator">=</span><span class="token plain"> mlflow</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">search_traces</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">filter_string</span><span class="token operator">=</span><span class="token string" style="color:rgb(255, 121, 198)">"trace.status = 'OK'"</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br/></span><span class=token-line style=color:#F8F8F2><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#F8F8F2><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)"># Return as list of Trace objects</span><span class="token plain"></span><br/></span><span class=token-line style=color:#F8F8F2><span class="token plain">traces_list </span><span class="token operator">=</span><span class="token plain"> mlflow</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">search_traces</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain"></span><br/></span><span class=token-line style=color:#F8F8F2><span class="token plain">    filter_string</span><span class="token operator">=</span><span class="token string" style="color:rgb(255, 121, 198)">"trace.status = 'OK'"</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> return_type</span><span class="token operator">=</span><span class="token string" style="color:rgb(255, 121, 198)">"list"</span><span class="token plain"></span><br/></span><span class=token-line style=color:#F8F8F2><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><br/></span></code></pre></div></div>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class=admonitionHeading_Gvgb><span class=admonitionIcon_Rf37><svg viewBox="0 0 14 16"><path fill-rule=evenodd d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"/></svg></span>note</div><div class=admonitionContent_BuS1><p>The <code>return_type</code> parameter is available in MLflow 2.21.1+. For older versions, use <a href=/mlflow-website/docs/latest/api_reference/python_api/mlflow.client.html#mlflow.client.MlflowClient.search_traces target=_blank><code>mlflow.client.MlflowClient.search_traces<!-- -->()</code></a> for list output.</div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id=return-format>Return Format<a href=#return-format class=hash-link aria-label="Direct link to Return Format" title="Direct link to Return Format" translate=no>​</a></h3>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id=1-dataframe>1. DataFrame<a href=#1-dataframe class=hash-link aria-label="Direct link to 1. DataFrame" title="Direct link to 1. DataFrame" translate=no>​</a></h4>
<p>The <code>search_traces</code> API returns a pandas DataFrame by default with the following columns:</p>
<div class="theme-tabs-container tabs-container tabList__CuJ"><ul role=tablist aria-orientation=horizontal class=tabs><li role=tab tabindex=0 aria-selected=true class="tabs__item tabItem_LNqP tabs__item--active">MLflow 3.x<li role=tab tabindex=-1 aria-selected=false class="tabs__item tabItem_LNqP">MLflow 2.x</ul><div class=margin-top--md><div role=tabpanel class=tabItem_Ymn6><ul>
<li class=""><code>trace_id</code> - Primary identifier</li>
<li class=""><code>trace</code> - Trace object</li>
<li class=""><code>client_request_id</code> - Client request ID</li>
<li class=""><code>state</code> - Trace state (OK, ERROR, IN_PROGRESS, STATE_UNSPECIFIED)</li>
<li class=""><code>request_time</code> - Start time in milliseconds</li>
<li class=""><code>execution_duration</code> - Duration in milliseconds</li>
<li class=""><code>inputs</code> - Input to traced logic</li>
<li class=""><code>outputs</code> - Output of traced logic</li>
<li class=""><code>expectations</code> - A dictionary of ground truth labels annotated on the trace</li>
<li class=""><code>trace_metadata</code> - Key-value metadata</li>
<li class=""><code>tags</code> - Associated tags</li>
<li class=""><code>assessments</code> - List of assessment objects attached on the trace</li>
</ul></div><div role=tabpanel class=tabItem_Ymn6 hidden><ul>
<li class=""><code>request_id</code> - Primary identifier</li>
<li class=""><code>trace</code> - Trace object</li>
<li class=""><code>timestamp_ms</code> - Start time in milliseconds</li>
<li class=""><code>status</code> - Trace status</li>
<li class=""><code>execution_time_ms</code> - Duration in milliseconds</li>
<li class=""><code>request</code> - Input to traced logic</li>
<li class=""><code>response</code> - Output of traced logic</li>
<li class=""><code>request_metadata</code> - Key-value metadata</li>
<li class=""><code>spans</code> - Spans in trace</li>
<li class=""><code>tags</code> - Associated tags</li>
</ul></div></div></div>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id=2-list-of-trace-objects>2. List of Trace Objects<a href=#2-list-of-trace-objects class=hash-link aria-label="Direct link to 2. List of Trace Objects" title="Direct link to 2. List of Trace Objects" translate=no>​</a></h4>
<p>Alternatively, you can specify <code>return_type="list"</code> to get a list of <a href=/mlflow-website/docs/latest/api_reference/python_api/mlflow.entities.html#mlflow.entities.Trace target=_blank><code>mlflow.entities.Trace<!-- -->()</code></a> objects instead of a DataFrame.</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#F8F8F2;--prism-background-color:#282A36><div class=codeBlockContent_bxn0><div class=codeBlockHeader_C_1e aria-label="Code block header for python code with copy and toggle buttons"><span class=languageLabel_zr_I>python</span></div><pre tabindex=0 class="prism-code language-python codeBlock_bY9V thin-scrollbar" style=color:#F8F8F2;background-color:#282A36><code class=codeBlockLines_e6Vv><span class=token-line style=color:#F8F8F2><span class="token plain">traces </span><span class="token operator">=</span><span class="token plain"> mlflow</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">search_traces</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">filter_string</span><span class="token operator">=</span><span class="token string" style="color:rgb(255, 121, 198)">"trace.status = 'OK'"</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> return_type</span><span class="token operator">=</span><span class="token string" style="color:rgb(255, 121, 198)">"list"</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br/></span><span class=token-line style=color:#F8F8F2><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)"># list[mlflow.entities.Trace]</span><br/></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id=ordering-results>Ordering Results<a href=#ordering-results class=hash-link aria-label="Direct link to Ordering Results" title="Direct link to Ordering Results" translate=no>​</a></h3>
<p>MLflow supports ordering results by the following keys:</p>
<ul>
<li class=""><code>timestamp_ms</code> (default: DESC) - Trace start time</li>
<li class=""><code>execution_time_ms</code> - Trace duration</li>
<li class=""><code>status</code> - Trace execution status</li>
<li class=""><code>request_id</code> - Trace identifier</li>
</ul>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#F8F8F2;--prism-background-color:#282A36><div class=codeBlockContent_bxn0><div class=codeBlockHeader_C_1e aria-label="Code block header for python code with copy and toggle buttons"><span class=languageLabel_zr_I>python</span></div><pre tabindex=0 class="prism-code language-python codeBlock_bY9V thin-scrollbar" style=color:#F8F8F2;background-color:#282A36><code class=codeBlockLines_e6Vv><span class=token-line style=color:#F8F8F2><span class="token comment" style="color:rgb(98, 114, 164)"># Order by timestamp (most recent first)</span><span class="token plain"></span><br/></span><span class=token-line style=color:#F8F8F2><span class="token plain">traces </span><span class="token operator">=</span><span class="token plain"> mlflow</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">search_traces</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">order_by</span><span class="token operator">=</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token string" style="color:rgb(255, 121, 198)">"timestamp_ms DESC"</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br/></span><span class=token-line style=color:#F8F8F2><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#F8F8F2><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)"># Multiple ordering criteria</span><span class="token plain"></span><br/></span><span class=token-line style=color:#F8F8F2><span class="token plain">traces </span><span class="token operator">=</span><span class="token plain"> mlflow</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">search_traces</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">order_by</span><span class="token operator">=</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token string" style="color:rgb(255, 121, 198)">"timestamp_ms DESC"</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">"status ASC"</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><br/></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id=pagination>Pagination<a href=#pagination class=hash-link aria-label="Direct link to Pagination" title="Direct link to Pagination" translate=no>​</a></h3>
<p><a href=/mlflow-website/docs/latest/api_reference/python_api/mlflow.client.html#mlflow.client.MlflowClient.search_traces target=_blank><code>mlflow.client.MlflowClient.search_traces<!-- -->()</code></a> supports pagination:</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#F8F8F2;--prism-background-color:#282A36><div class=codeBlockContent_bxn0><div class=codeBlockHeader_C_1e aria-label="Code block header for python code with copy and toggle buttons"><span class=languageLabel_zr_I>python</span></div><pre tabindex=0 class="prism-code language-python codeBlock_bY9V thin-scrollbar" style=color:#F8F8F2;background-color:#282A36><code class=codeBlockLines_e6Vv><span class=token-line style=color:#F8F8F2><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">from</span><span class="token plain"> mlflow </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">import</span><span class="token plain"> MlflowClient</span><br/></span><span class=token-line style=color:#F8F8F2><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#F8F8F2><span class="token plain">client </span><span class="token operator">=</span><span class="token plain"> MlflowClient</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br/></span><span class=token-line style=color:#F8F8F2><span class="token plain">page_token </span><span class="token operator">=</span><span class="token plain"> </span><span class="token boolean">None</span><span class="token plain"></span><br/></span><span class=token-line style=color:#F8F8F2><span class="token plain">all_traces </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"></span><br/></span><span class=token-line style=color:#F8F8F2><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#F8F8F2><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">while</span><span class="token plain"> </span><span class="token boolean">True</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br/></span><span class=token-line style=color:#F8F8F2><span class="token plain">    results </span><span class="token operator">=</span><span class="token plain"> client</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">search_traces</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain"></span><br/></span><span class=token-line style=color:#F8F8F2><span class="token plain">        experiment_ids</span><span class="token operator">=</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token string" style="color:rgb(255, 121, 198)">"1"</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br/></span><span class=token-line style=color:#F8F8F2><span class="token plain">        filter_string</span><span class="token operator">=</span><span class="token string" style="color:rgb(255, 121, 198)">"status = 'OK'"</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br/></span><span class=token-line style=color:#F8F8F2><span class="token plain">        max_results</span><span class="token operator">=</span><span class="token number">100</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br/></span><span class=token-line style=color:#F8F8F2><span class="token plain">        page_token</span><span class="token operator">=</span><span class="token plain">page_token</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br/></span><span class=token-line style=color:#F8F8F2><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br/></span><span class=token-line style=color:#F8F8F2><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#F8F8F2><span class="token plain">    all_traces</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">extend</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">results</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br/></span><span class=token-line style=color:#F8F8F2><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#F8F8F2><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">if</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">not</span><span class="token plain"> results</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">token</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br/></span><span class=token-line style=color:#F8F8F2><span class="token plain">        </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">break</span><span class="token plain"></span><br/></span><span class=token-line style=color:#F8F8F2><span class="token plain">    page_token </span><span class="token operator">=</span><span class="token plain"> results</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">token</span><br/></span><span class=token-line style=color:#F8F8F2><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#F8F8F2><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">print</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string-interpolation string" style="color:rgb(255, 121, 198)">f"Found </span><span class="token string-interpolation interpolation punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token string-interpolation interpolation builtin" style="color:rgb(189, 147, 249)">len</span><span class="token string-interpolation interpolation punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string-interpolation interpolation">all_traces</span><span class="token string-interpolation interpolation punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token string-interpolation interpolation punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token string-interpolation string" style="color:rgb(255, 121, 198)"> total traces"</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><br/></span></code></pre></div></div>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id=important-notes>Important Notes<a href=#important-notes class=hash-link aria-label="Direct link to Important Notes" title="Direct link to Important Notes" translate=no>​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id=mlflow-version-compatibility>MLflow Version Compatibility<a href=#mlflow-version-compatibility class=hash-link aria-label="Direct link to MLflow Version Compatibility" title="Direct link to MLflow Version Compatibility" translate=no>​</a></h3>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class=admonitionHeading_Gvgb><span class=admonitionIcon_Rf37><svg viewBox="0 0 14 16"><path fill-rule=evenodd d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"/></svg></span>Schema Changes in MLflow 3</div><div class=admonitionContent_BuS1><p><strong>DataFrame Schema</strong>: The format depends on the MLflow version used to <strong>call</strong> the <code>search_traces</code> API, not the version used to log the traces. MLflow 3.x uses different column names than 2.x.</div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id=performance-tips>Performance Tips<a href=#performance-tips class=hash-link aria-label="Direct link to Performance Tips" title="Direct link to Performance Tips" translate=no>​</a></h3>
<ol>
<li class=""><strong>Use timestamp filters</strong> to limit search space</li>
<li class=""><strong>Limit max_results</strong> for faster queries when ordering</li>
<li class=""><strong>Use pagination</strong> for large result sets</li>
</ol>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id=backend-considerations>Backend Considerations<a href=#backend-considerations class=hash-link aria-label="Direct link to Backend Considerations" title="Direct link to Backend Considerations" translate=no>​</a></h3>
<ul>
<li class=""><strong>SQL Store Backend</strong>: Supports the full search syntax documented above, including:<!-- -->
<ul>
<li class="">All trace, span, metadata, tag, feedback, and expectation filters</li>
<li class="">Pattern matching operators (LIKE, ILIKE, RLIKE)</li>
<li class="">Full text search with <code>trace.text</code></li>
<li class="">Optimized performance with proper indexing on timestamp</li>
</ul>
</li>
<li class=""><strong>Local File Store</strong>: Limited search capabilities. May be slower with large datasets. Not recommended, only suitable for storing small number of traces.</li>
</ul></div></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href=/mlflow-website/docs/latest/genai/tracing/observe-with-traces/ui/><div class=pagination-nav__sublabel>Previous</div><div class=pagination-nav__label>View Traces in the UI</div></a><a class="pagination-nav__link pagination-nav__link--next" href=/mlflow-website/docs/latest/genai/tracing/observe-with-traces/delete-traces/><div class=pagination-nav__sublabel>Next</div><div class=pagination-nav__label>Delete Traces</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href=#search-traces-overview class="table-of-contents__link toc-highlight">Search Traces Overview</a><li><a href=#filtering-traces-in-the-ui class="table-of-contents__link toc-highlight">Filtering Traces in the UI</a><li><a href=#search-query-syntax class="table-of-contents__link toc-highlight">Search Query Syntax</a><ul><li><a href=#visual-representation-of-search-components class="table-of-contents__link toc-highlight">Visual Representation of Search Components:</a><li><a href=#supported-filters-and-comparators class="table-of-contents__link toc-highlight">Supported Filters and Comparators</a><li><a href=#example-queries class="table-of-contents__link toc-highlight">Example Queries</a></ul><li><a href=#programmatic-search-with-python class="table-of-contents__link toc-highlight">Programmatic Search with Python</a><ul><li><a href=#return-format class="table-of-contents__link toc-highlight">Return Format</a><li><a href=#ordering-results class="table-of-contents__link toc-highlight">Ordering Results</a><li><a href=#pagination class="table-of-contents__link toc-highlight">Pagination</a></ul><li><a href=#important-notes class="table-of-contents__link toc-highlight">Important Notes</a><ul><li><a href=#mlflow-version-compatibility class="table-of-contents__link toc-highlight">MLflow Version Compatibility</a><li><a href=#performance-tips class="table-of-contents__link toc-highlight">Performance Tips</a><li><a href=#backend-considerations class="table-of-contents__link toc-highlight">Backend Considerations</a></ul></ul></div></div></div></div></main></div></div></div><footer class="relative pb-30 flex flex-col pt-30 bg-bottom bg-no-repeat bg-cover bg-size-[auto_360px] 2xl:bg-size-[100%_360px] bg-brand-black"><div style="position:absolute;width:100%;bottom:0;pointer-events:none;mask-composite:intersect;height:360px;background-image:repeating-linear-gradient(
        to right,
        rgba(0, 0, 0, 0.05),
        rgba(0, 0, 0, 0.25) 18px,
        transparent 2px,
        transparent 10px
      ),
      radial-gradient(
        circle at bottom center,
        oklch(0.6 0.22 30.59) 0%,
        transparent 60%
      ),
      linear-gradient(to right, color-mix(in srgb, oklch(0.6 0.22 30.59), black 10%), color-mix(in srgb, oklch(0.6 0.22 30.59), oklch(0.91 0.09 326.28) 40%));mask-image:radial-gradient(ellipse at center bottom, black 60%, transparent 80%),
      linear-gradient(to top, black 10%, transparent 40%)"></div><div class=z-1><div class="flex flex-row justify-between items-start md:items-center px-6 lg:px-20 gap-10 xs:gap-0 max-w-container"><div class="flex flex-col gap-8"><svg xmlns=http://www.w3.org/2000/svg width=109 height=40 fill=none viewBox="0 0 109 40" class="h-[36px] shrink-0"><path fill=#fff d="M0 31.032v-15.53h3.543v1.968c.893-1.594 2.84-2.425 4.593-2.425 2.042 0 3.828.926 4.658 2.745 1.216-2.043 3.034-2.745 5.043-2.745 2.81 0 5.49 1.787 5.49 5.904v10.083h-3.574v-9.478c0-1.818-.926-3.19-3-3.19-1.947 0-3.224 1.53-3.224 3.445v9.22H9.893v-9.475c0-1.786-.898-3.18-3.003-3.18-1.977 0-3.223 1.467-3.223 3.444v9.221ZM27.855 31.032V7.929h3.703v23.103ZM30.07 39.487c.833.232 1.582.383 3.17.383 2.953 0 6.436-1.665 7.353-6.339l3.786-18.739h5.629l.687-3.117h-5.686l.765-3.725c.586-2.892 2.186-4.358 4.754-4.358.668 0 .48.058 1.076.17L52.427.57c-.793-.237-1.503-.379-3.049-.379a7.32 7.32 0 0 0-4.528 1.484c-1.441 1.114-2.393 2.75-2.827 4.863l-1.066 5.137h-5.034l-.411 3.12h4.823L36.859 32.12c-.383 1.965-1.5 4.315-4.708 4.315-.727 0-.463-.055-1.121-.162ZM53.342 30.905H49.64l5.074-23.309h3.701ZM71.807 16.477A7.962 7.962 0 0 0 60.97 27.904l2.425-1.78a5.005 5.005 0 0 1 3.845-8.145v1.895ZM62.618 29.472a7.962 7.962 0 0 0 10.836-11.428l-2.425 1.78a5.005 5.005 0 0 1-3.845 8.145v-1.894ZM78.092 15.493h4.044l.823 10.612 5.759-10.612 3.839.055 1.508 10.557 5.074-10.612 3.701.055-7.678 15.493H91.46l-1.783-11.106-5.895 11.106h-3.84ZM105.072 15.768h-.766v-.266h1.845v.272h-.765v2.243h-.314ZM106.614 15.502h.383l.482 1.34q.091.259.178.524h.018c.059-.176.113-.352.172-.524l.478-1.34h.383v2.515h-.298V16.63c0-.22.024-.523.04-.747h-.016l-.191.574-.475 1.304h-.208l-.481-1.302-.191-.574h-.015c.017.224.042.527.042.747v1.387h-.291Z"/></svg><div class="text-xs text-left md:text-nowrap md:w-0">© 2025 MLflow Project, a Series of LF Projects, LLC.</div></div><div class="flex flex-col flex-wrap justify-end md:text-right md:flex-row gap-x-10 lg:gap-x-20 gap-y-5 w-2/5 md:w-auto md:pt-2 max-w-fit"><div><a href=https://mlflow.org target=_blank rel="noopener noreferrer" class="text-[15px] font-medium no-underline hover:no-underline transition-opacity hover:opacity-80 text-white visited:text-white">Components</a></div><div><a href=https://mlflow.org/releases target=_blank rel="noopener noreferrer" class="text-[15px] font-medium no-underline hover:no-underline transition-opacity hover:opacity-80 text-white visited:text-white">Releases</a></div><div><a href=https://mlflow.org/blog target=_blank rel="noopener noreferrer" class="text-[15px] font-medium no-underline hover:no-underline transition-opacity hover:opacity-80 text-white visited:text-white">Blog</a></div><div><a class="text-[15px] font-medium no-underline hover:no-underline transition-opacity hover:opacity-80 text-white visited:text-white" href=/mlflow-website/docs/latest/>Docs</a></div><div><a href=https://mlflow.org/ambassadors target=_blank rel="noopener noreferrer" class="text-[15px] font-medium no-underline hover:no-underline transition-opacity hover:opacity-80 text-white visited:text-white">Ambassador Program</a></div></div></div></div></footer></div></body>