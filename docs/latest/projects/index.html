<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-projects/index" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.7.0">
<title data-rh="true">MLflow Projects | MLflow</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://mlflow.org/docs/latest/projects/"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="MLflow Projects | MLflow"><meta data-rh="true" name="description" content="An MLflow Project is a format for packaging data science code in a reusable and reproducible way,"><meta data-rh="true" property="og:description" content="An MLflow Project is a format for packaging data science code in a reusable and reproducible way,"><link data-rh="true" rel="icon" href="/docs/latest/images/favicon.ico"><link data-rh="true" rel="canonical" href="https://mlflow.org/docs/latest/projects/"><link data-rh="true" rel="alternate" href="https://mlflow.org/docs/latest/projects/" hreflang="en"><link data-rh="true" rel="alternate" href="https://mlflow.org/docs/latest/projects/" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://XKVLO8P882-dsn.algolia.net" crossorigin="anonymous"><link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=GTM-N6WMTTJ"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","GTM-N6WMTTJ",{anonymize_ip:!0}),gtag("config","AW-16857946923",{anonymize_ip:!0})</script>
<link rel="preconnect" href="https://www.googletagmanager.com">
<script>window.dataLayer=window.dataLayer||[]</script>
<script>!function(e,t,a,n){e[n]=e[n]||[],e[n].push({"gtm.start":(new Date).getTime(),event:"gtm.js"});var g=t.getElementsByTagName(a)[0],m=t.createElement(a);m.async=!0,m.src="https://www.googletagmanager.com/gtm.js?id=GTM-N6WMTTJ",g.parentNode.insertBefore(m,g)}(window,document,"script","dataLayer")</script>



<link rel="search" type="application/opensearchdescription+xml" title="MLflow" href="/docs/latest/opensearch.xml">

<script src="/docs/latest/js/runllm.js" defer="defer"></script><link rel="stylesheet" href="/docs/latest/assets/css/styles.504e3d8b.css">
<script src="/docs/latest/assets/js/runtime~main.05d39649.js" defer="defer"></script>
<script src="/docs/latest/assets/js/main.8cf08d89.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-N6WMTTJ" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>


<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/docs/latest/"><div class="navbar__logo"><img src="/docs/latest/images/logo-light.svg" alt="MLflow Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/docs/latest/images/logo-dark.svg" alt="MLflow Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/latest/">Docs</a><a href="https://mlflow.org/docs/latest/api_reference/index.html" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">API Reference</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/mlflow/mlflow" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite" aria-pressed="false"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search (Command+K)"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20" aria-hidden="true"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item sidebar-top-level-category"><a class="menu__link" href="/docs/latest/">MLflow</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed sidebar-top-level-category"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/latest/mlflow-3/">MLflow 3.0</a><button aria-label="Expand sidebar category &#x27;MLflow 3.0&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed sidebar-top-level-category"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/latest/getting-started/">Getting Started</a><button aria-label="Expand sidebar category &#x27;Getting Started&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item sidebar-top-level-category"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="true" href="/docs/latest/llms/">Machine Learning ðŸ§ </a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/docs/latest/llms/">LLM / GenAI</a><button aria-label="Expand sidebar category &#x27;LLM / GenAI&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/docs/latest/deep-learning/">Deep Learning</a><button aria-label="Expand sidebar category &#x27;Deep Learning&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/docs/latest/traditional-ml/">Traditional ML</a><button aria-label="Expand sidebar category &#x27;Traditional ML&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item sidebar-top-level-category"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="true" href="/docs/latest/tracking/">Build ðŸ”¨ </a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/docs/latest/tracking/">MLflow Tracking</a><button aria-label="Expand sidebar category &#x27;MLflow Tracking&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/docs/latest/model/">MLflow Model</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/docs/latest/prompts/">MLflow Prompts ðŸ†•</a></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item sidebar-top-level-category"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="true" href="/docs/latest/model-evaluation/">Evaluate &amp; Monitor ðŸ“Š</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/latest/model-evaluation/">MLflow Evaluation</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/docs/latest/tracing/">MLflow Tracing (Observability)</a><button aria-label="Expand sidebar category &#x27;MLflow Tracing (Observability)&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/latest/dataset/">MLflow Dataset</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item sidebar-top-level-category"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="true" href="/docs/latest/model-registry/">Deploy ðŸš€</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/latest/model-registry/">MLflow Model Registry</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/docs/latest/deployment/">MLflow Serving</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/docs/latest/llms/deployments/">MLflow AI Gateway</a><button aria-label="Expand sidebar category &#x27;MLflow AI Gateway&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item sidebar-top-level-category"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" href="/docs/latest/tracking/#tracking-setup">Team Collaboration ðŸ‘¥</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/latest/tracking/#tracking-setup">Self-Hosting</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/latest/#running-mlflow-anywhere">Managed Services</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/latest/auth/">Access Control</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/latest/projects/">MLflow Projects</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed sidebar-top-level-category"><div class="menu__list-item-collapsible"><a href="https://mlflow.org/docs/latest/api_reference/python_api/index.html" target="_blank" rel="noopener noreferrer" class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false">API References</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed sidebar-top-level-category"><div class="menu__list-item-collapsible"><a href="https://github.com/mlflow/mlflow/blob/master/CONTRIBUTING.md" target="_blank" rel="noopener noreferrer" class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false">More</a></div></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/docs/latest/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Team Collaboration ðŸ‘¥</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">MLflow Projects</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>MLflow Projects</h1></header>
<p>An MLflow Project is a format for packaging data science code in a reusable and reproducible way,
based primarily on conventions. In addition, the Projects component includes an API and command-line
tools for running projects, making it possible to chain together projects into workflows.</p>
<div class="tableOfContentsInline_prmo"><ul class="table-of-contents"><li><a href="#overview">Overview</a></li><li><a href="#specifying-projects">Specifying Projects</a></li><li><a href="#running-projects">Running Projects</a></li><li><a href="#iterating-quickly">Iterating Quickly</a></li><li><a href="#building-multistep-workflows">Building Multistep Workflows</a></li></ul></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="overview">Overview<a href="#overview" class="hash-link" aria-label="Direct link to Overview" title="Direct link to Overview">â€‹</a></h2>
<p>At the core, MLflow Projects are just a convention for organizing and describing your code to let
other data scientists (or automated tools) run it. Each project is simply a directory of files, or
a Git repository, containing your code. MLflow can run some projects based on a convention for
placing files in this directory (for example, a <code>conda.yaml</code> file is treated as a
<a href="https://conda.io/docs" target="_blank" rel="noopener noreferrer">Conda</a> environment), but you can describe your project in more detail by
adding a <code>MLproject</code> file, which is a <a href="https://learnxinyminutes.com/docs/yaml" target="_blank" rel="noopener noreferrer">YAML</a> formatted
text file. Each project can specify several properties:</p>
<dl><dt><h4 class="anchor anchorWithStickyNavbar_LWe7" id="name">Name<a href="#name" class="hash-link" aria-label="Direct link to Name" title="Direct link to Name">â€‹</a></h4></dt><dd><p>A human-readable name for the project.</p></dd><dt><h4 class="anchor anchorWithStickyNavbar_LWe7" id="entry-points">Entry Points<a href="#entry-points" class="hash-link" aria-label="Direct link to Entry Points" title="Direct link to Entry Points">â€‹</a></h4></dt><dd><p>Commands that can be run within the project, and information about their parameters.
Most projects contain at least one entry point that you want other users to call.
Some projects can also contain more than one entry point: for example, you might have
a single Git repository containing multiple featurization algorithms. You can also
call any <code>.py</code> or <code>.sh</code> file in the project as an entry point. If you list your entry
points in a <code>MLproject</code> file, however, you can also specify <em>parameters</em> for them,
including datatypes and default values.</p></dd><dt><h4 class="anchor anchorWithStickyNavbar_LWe7" id="environment">Environment<a href="#environment" class="hash-link" aria-label="Direct link to Environment" title="Direct link to Environment">â€‹</a></h4></dt><dd><p>The software environment that should be used to execute project entry points.
This includes all library dependencies required by the project code. See <a href="#project-environments">Project Environments</a>
for more information about the software environments supported by MLflow Projects, including
<a href="#project-conda-environments">Conda environments</a>, <a href="#project-virtualenv-environments">Virtualenv environments</a>,
and <a href="#project-docker-container-environments">Docker containers</a>.</p></dd></dl>
<p>You can run any project from a Git URI or from a local directory using the <code>mlflow run</code>
command-line tool, or the <a href="/docs/latest/api_reference/python_api/mlflow.projects.html#mlflow.projects.run" target="_blank"><code>mlflow.projects.run<!-- -->()</code></a> Python API. These APIs also allow submitting the
project for remote execution on <a href="#databricks_execution">Databricks</a> and
<a href="#kubernetes_execution">Kubernetes</a>.</p>
<div class="theme-admonition theme-admonition-warning admonition_xJq3 alert alert--warning"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>important</div><div class="admonitionContent_BuS1"><p>By default, MLflow uses a new, temporary working directory for Git projects.
This means that you should generally pass any file arguments to MLflow
project using absolute, not relative, paths. If your project declares its parameters, MLflow
automatically makes paths absolute for parameters of type <code>path</code>.</p></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="specifying-projects">Specifying Projects<a href="#specifying-projects" class="hash-link" aria-label="Direct link to Specifying Projects" title="Direct link to Specifying Projects">â€‹</a></h2>
<p>By default, any Git repository or local directory can be treated as an MLflow project; you can
invoke any bash or Python script contained in the directory as a project entry point. The
<a href="#project-directories">Project Directories</a> section describes how MLflow interprets directories as projects.</p>
<p>To provide additional control over a project&#x27;s attributes, you can also include an <a href="#mlproject-file">MLproject
file</a> in your project&#x27;s repository or directory.</p>
<p>Finally, MLflow projects allow you to specify the software <a href="#project-environments">environment</a>
that is used to execute project entry points.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="project-environments">Project Environments<a href="#project-environments" class="hash-link" aria-label="Direct link to Project Environments" title="Direct link to Project Environments">â€‹</a></h3>
<p>MLflow currently supports the following project environments: Virtualenv environment, conda environment,
Docker container environment, and system environment.</p>
<dl><dt><h4 class="anchor anchorWithStickyNavbar_LWe7" id="project-virtualenv-environments">Virtualenv Environment (preferred)<a href="#project-virtualenv-environments" class="hash-link" aria-label="Direct link to Virtualenv Environment (preferred)" title="Direct link to Virtualenv Environment (preferred)">â€‹</a></h4></dt><dd><p>Virtualenv environments support Python packages available on PyPI. When an MLflow Project
specifies a Virtualenv environment, MLflow will download the specified version of Python by using
<code>pyenv</code> and create an isolated environment that contains the project dependencies using `virtualenv**,
activating it as the execution environment prior to running the project code.</p><p>You can specify a Virtualenv environment for your MLflow Project by including a <code>python_env</code> entry in your
<code>MLproject</code> file. For details, see the <a href="#project-directories">Project Directories</a> and <a href="#mlproject-specify-environment">Specifying an Environment</a> sections.</p></dd><dt><h4 class="anchor anchorWithStickyNavbar_LWe7" id="project-docker-container-environments">Docker container environment<a href="#project-docker-container-environments" class="hash-link" aria-label="Direct link to Docker container environment" title="Direct link to Docker container environment">â€‹</a></h4></dt><dd><p><a href="https://www.docker.com/resources/what-container" target="_blank" rel="noopener noreferrer">Docker containers</a> allow you to capture
non-Python dependencies such as Java libraries.</p><p>When you run an MLflow project that specifies a Docker image, MLflow runs your image as is with the parameters
specified in your MLproject file. In this case you&#x27;ll need to pre build your images with both environment
and code to run it. To run the project with a new image that&#x27;s based on your image and contains the project&#x27;s
contents in the <code>/mlflow/projects/code</code> directory, use the <code>--build-image</code> flag when running <code>mlflow run</code>.</p><p>Environment variables, such as <code>MLFLOW_TRACKING_URI</code>, are propagated inside the Docker container
during project execution. Additionally,
<a href="/docs/latest/tracking/tracking-api/#organizing-runs-in-experiments">runs and experiments</a> created by the project are saved to the
tracking server specified by your <a href="/docs/latest/tracking/backend-stores#configure-backend-store">tracking URI</a>. When running
against a local tracking URI, MLflow mounts the host system&#x27;s tracking directory
(e.g., a local <code>mlruns</code> directory) inside the container so that metrics, parameters, and
artifacts logged during project execution are accessible afterwards.</p><p>See <a href="https://github.com/mlflow/mlflow/tree/master/examples/docker" target="_blank" rel="noopener noreferrer">Dockerized Model Training with MLflow</a> for an example of an MLflow
project with a Docker environment.</p><p>To specify a Docker container environment, you <em>must</em> add an
<a href="#mlproject-file">MLproject file</a> to your project. For information about specifying
a Docker container environment in an <code>MLproject</code> file, see
<a href="#mlproject-specify-environment">Specifying an Environment</a>.</p></dd><dt><h4 class="anchor anchorWithStickyNavbar_LWe7" id="project-conda-environments">Conda environment<a href="#project-conda-environments" class="hash-link" aria-label="Direct link to Conda environment" title="Direct link to Conda environment">â€‹</a></h4></dt><dd><p><a href="https://conda.io/docs" target="_blank" rel="noopener noreferrer">Conda</a> environments support
both Python packages and native libraries (e.g, CuDNN or Intel MKL). When an MLflow Project
specifies a Conda environment, it is activated before project code is run.</p><div class="theme-admonition theme-admonition-warning admonition_xJq3 alert alert--warning"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>warning</div><div class="admonitionContent_BuS1"><p>By using conda, you&#x27;re responsible for adhering to <a href="https://legal.anaconda.com/policies/en/?name=terms-of-service" target="_blank" rel="noopener noreferrer">Anaconda&#x27;s terms of service</a>.</p></div></div><p>By default, MLflow uses the system path to find and run the <code>conda</code> binary. You can use a
different Conda installation by setting the <code>MLFLOW_CONDA_HOME</code> environment variable; in this
case, MLflow attempts to run the binary at <code>$MLFLOW_CONDA_HOME/bin/conda</code>.</p><p>You can specify a Conda environment for your MLflow project by including a <code>conda.yaml</code>
file in the root of the project directory or by including a <code>conda_env</code> entry in your
<code>MLproject</code> file. For details, see the <a href="#project-directories">Project Directories</a> and <a href="#mlproject-specify-environment">Specifying an Environment</a> sections.</p><p>The <code>mlflow run</code> command supports running a conda environment project as a virtualenv environment project.
To do this, run <code>mlflow run</code> with <code>--env-manager virtualenv</code>:</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">mlflow run /path/to/conda/project --env-manager virtualenv</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="theme-admonition theme-admonition-warning admonition_xJq3 alert alert--warning"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>warning</div><div class="admonitionContent_BuS1"><p>When a conda environment project is executed as a virtualenv environment project,
conda dependencies will be ignored and only pip dependencies will be installed.</p></div></div></dd><dt><h4 class="anchor anchorWithStickyNavbar_LWe7" id="system-environment">System environment<a href="#system-environment" class="hash-link" aria-label="Direct link to System environment" title="Direct link to System environment">â€‹</a></h4></dt><dd><p>You can also run MLflow Projects directly in your current system environment. All of the
project&#x27;s dependencies must be installed on your system prior to project execution. The system
environment is supplied at runtime. It is not part of the MLflow Project&#x27;s directory contents
or <code>MLproject</code> file. For information about using the system environment when running
a project, see the <code>Environment</code> parameter description in the <a href="#running-projects">Running Projects</a> section.</p></dd></dl>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="project-directories">Project Directories<a href="#project-directories" class="hash-link" aria-label="Direct link to Project Directories" title="Direct link to Project Directories">â€‹</a></h3>
<p>When running an MLflow Project directory or repository that does <em>not</em> contain an <code>MLproject</code>
file, MLflow uses the following conventions to determine the project&#x27;s attributes:</p>
<ul>
<li>
<p>The project&#x27;s name is the name of the directory.</p>
</li>
<li>
<p>The <a href="https://conda.io/docs/user-guide/tasks/manage-environments.html#create-env-file-manually" target="_blank" rel="noopener noreferrer">Conda environment</a>
is specified in <code>conda.yaml</code>, if present. If no <code>conda.yaml</code> file is present, MLflow
uses a Conda environment containing only Python (specifically, the latest Python available to
Conda) when running the project.</p>
</li>
<li>
<p>Any <code>.py</code> and <code>.sh</code> file in the project can be an entry point. MLflow uses Python
to execute entry points with the <code>.py</code> extension, and it uses bash to execute entry points with
the <code>.sh</code> extension. For more information about specifying project entrypoints at runtime,
see <a href="#running-projects">Running Projects</a>.</p>
</li>
<li>
<p>By default, entry points do not have any parameters when an <code>MLproject</code> file is not included.
Parameters can be supplied at runtime via the <code>mlflow run</code> CLI or the <a href="/docs/latest/api_reference/python_api/mlflow.projects.html#mlflow.projects.run" target="_blank"><code>mlflow.projects.run<!-- -->()</code></a>
Python API. Runtime parameters are passed to the entry point on the command line using <code>--key value</code> syntax.
For more information about running projects and with runtime parameters, see <a href="#running-projects">Running Projects</a>.</p>
</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="mlproject-file">MLproject File<a href="#mlproject-file" class="hash-link" aria-label="Direct link to MLproject File" title="Direct link to MLproject File">â€‹</a></h3>
<p>You can get more control over an MLflow Project by adding an <code>MLproject</code> file, which is a text
file in YAML syntax, to the project&#x27;s root directory. The following is an example of an
<code>MLproject</code> file:</p>
<div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> My Project</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">python_env</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> python_env.yaml</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># or</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># conda_env: my_env.yaml</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># or</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># docker_env:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">#    image:  mlflow-docker-example</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">entry_points</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">main</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">parameters</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">data_file</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> path</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">regularization</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">type</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> float</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">default</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0.1</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">command</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;python train.py -r {regularization} {data_file}&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">validate</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">parameters</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">data_file</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> path</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">command</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;python validate.py {data_file}&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>The file can specify a name and <a href="#mlproject-specify-environment">a Conda or Docker environment</a>,
as well as more detailed information about each entry point.
Specifically, each entry point defines a <a href="#mlproject-command-syntax">command to run</a> and
<a href="#project_parameters">parameters to pass to the command</a> (including data types).</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="mlproject-specify-environment">Specifying an Environment<a href="#mlproject-specify-environment" class="hash-link" aria-label="Direct link to Specifying an Environment" title="Direct link to Specifying an Environment">â€‹</a></h4>
<p>This section describes how to specify Conda and Docker container environments in an <code>MLproject</code> file.
<code>MLproject</code> files cannot specify <em>both</em> a Conda environment and a Docker environment.</p>
<dl><dt><h4 class="anchor anchorWithStickyNavbar_LWe7" id="virtualenv-environment">Virtualenv environment<a href="#virtualenv-environment" class="hash-link" aria-label="Direct link to Virtualenv environment" title="Direct link to Virtualenv environment">â€‹</a></h4></dt><dd><p>Include a top-level <code>python_env</code> entry in the <code>MLproject</code> file.
The value of this entry must be a <em>relative</em> path to a <code>python_env</code> YAML file
within the MLflow project&#x27;s directory. The following is an example <code>MLProject</code>
file with a <code>python_env</code> definition:</p><div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">python_env</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> files/config/python_env.yaml</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><code>python_env</code> refers to an environment file located at
<code>&lt;MLFLOW_PROJECT_DIRECTORY&gt;/files/config/python_env.yaml</code>, where
<code>&lt;MLFLOW_PROJECT_DIRECTORY&gt;</code> is the path to the MLflow project&#x27;s root directory.</p><p>The following is an example of a <code>python_env.yaml</code> file:</p><div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># Python version required to run the project.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">python</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;3.8.15&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Dependencies required to build packages. This field is optional.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">build_dependencies</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> pip</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> setuptools</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> wheel==0.37.1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Dependencies required to run the project.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">dependencies</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> mlflow==2.3</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> scikit</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">learn==1.0.2</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></dd><dt><h4 class="anchor anchorWithStickyNavbar_LWe7" id="conda-environment">Conda environment<a href="#conda-environment" class="hash-link" aria-label="Direct link to Conda environment" title="Direct link to Conda environment">â€‹</a></h4></dt><dd><p>Include a top-level <code>conda_env</code> entry in the <code>MLproject</code> file.
The value of this entry must be a <em>relative</em> path to a
<a href="https://conda.io/docs/user-guide/tasks/manage-environments.html#create-env-file-manually" target="_blank" rel="noopener noreferrer">Conda environment YAML file</a>
within the MLflow project&#x27;s directory. In the following example:</p><div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">conda_env</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> files/config/conda_environment.yaml</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><code>conda_env</code> refers to an environment file located at
<code>&lt;MLFLOW_PROJECT_DIRECTORY&gt;/files/config/conda_environment.yaml</code>, where
<code>&lt;MLFLOW_PROJECT_DIRECTORY&gt;</code> is the path to the MLflow project&#x27;s root directory.</p></dd><dt><h4 class="anchor anchorWithStickyNavbar_LWe7" id="docker-container-environment">Docker container environment<a href="#docker-container-environment" class="hash-link" aria-label="Direct link to Docker container environment" title="Direct link to Docker container environment">â€‹</a></h4></dt><dd><p>Include a top-level <code>docker_env</code> entry in the <code>MLproject</code> file. The value of this entry must be the name
of a Docker image that is accessible on the system executing the project; this image name
may include a registry path and tags. Here are a couple of examples.</p><p><strong>Example 1: Image without a registry path</strong></p><div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">docker_env</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">image</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> mlflow</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">docker</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">example</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">environment</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>In this example, <code>docker_env</code> refers to the Docker image with name
<code>mlflow-docker-example-environment</code> and default tag <code>latest</code>. Because no registry path is
specified, Docker searches for this image on the system that runs the MLflow project. If the
image is not found, Docker attempts to pull it from <a href="https://hub.docker.com/" target="_blank" rel="noopener noreferrer">DockerHub</a>.</p><p><strong>Example 2: Mounting volumes and specifying environment variables</strong></p><p>You can also specify local volumes to mount in the docker image (as you normally would with
Docker&#x27;s <code>-v</code> option), and additional environment variables (as per Docker&#x27;s <code>-e</code> option).
Environment variables can either be copied from the host system&#x27;s environment variables, or
specified as new variables for the Docker environment. The <code>environment</code> field should be a list.
Elements in this list can either be lists of two strings (for defining a new variable) or single
strings (for copying variables from the host system). For example:</p><div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">docker_env</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">image</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> mlflow</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">docker</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">example</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">environment</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">volumes</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;/local/path:/container/mount/path&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">environment</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;NEW_ENV_VAR&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;new_var_value&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;VAR_TO_COPY_FROM_HOST_ENVIRONMENT&quot;</span><span class="token punctuation" style="color:#393A34">]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>In this example our docker container will have one additional local volume mounted, and two additional
environment variables: one newly-defined, and one copied from the host system.</p><p><strong>Example 3: Image in a remote registry</strong></p><div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">docker_env</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">image</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> 012345678910.dkr.ecr.us</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">west</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">2.amazonaws.com/mlflow</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">docker</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">example</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">environment</span><span class="token punctuation" style="color:#393A34">:</span><span class="token number" style="color:#36acaa">7.0</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>In this example, <code>docker_env</code> refers to the Docker image with name
<code>mlflow-docker-example-environment</code> and tag <code>7.0</code> in the Docker registry with path
<code>012345678910.dkr.ecr.us-west-2.amazonaws.com</code>, which corresponds to an
<a href="https://docs.aws.amazon.com/AmazonECR/latest/userguide/Registries.html" target="_blank" rel="noopener noreferrer">Amazon ECR registry</a>.
When the MLflow project is run, Docker attempts to pull the image from the specified registry.
The system executing the MLflow project must have credentials to pull this image from  the specified registry.</p><p><strong>Example 4: Build a new image</strong></p><div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">docker_env</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">image</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> python</span><span class="token punctuation" style="color:#393A34">:</span><span class="token number" style="color:#36acaa">3.8</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">mlflow run </span><span class="token punctuation" style="color:#393A34">..</span><span class="token plain">. --build-image</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>To build a new image that&#x27;s based on the specified image and files contained in
the project directory, use the <code>--build-image</code> argument. In the above example, the image
<code>python:3.8</code> is pulled from Docker Hub if it&#x27;s not present locally, and a new image is built
based on it. The project is executed in a container created from this image.</p></dd></dl>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="mlproject-command-syntax">Command Syntax<a href="#mlproject-command-syntax" class="hash-link" aria-label="Direct link to Command Syntax" title="Direct link to Command Syntax">â€‹</a></h4>
<p>When specifying an entry point in an <code>MLproject</code> file, the command can be any string in Python
<a href="https://docs.python.org/2/library/string.html#formatstrings" target="_blank" rel="noopener noreferrer">format string syntax</a>.
All of the parameters declared in the entry point&#x27;s <code>parameters</code> field are passed into this
string for substitution. If you call the project with additional parameters <em>not</em> listed in the
<code>parameters</code> field, MLflow passes them using <code>--key value</code> syntax, so you can use the
<code>MLproject</code> file to declare types and defaults for just a subset of your parameters.</p>
<p>Before substituting parameters in the command, MLflow escapes them using the Python
<a href="https://docs.python.org/3/library/shlex.html#shlex.quote" target="_blank" rel="noopener noreferrer">shlex.quote</a> function, so you don&#x27;t
need to worry about adding quotes inside your command field.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="project_parameters">Specifying Parameters<a href="#project_parameters" class="hash-link" aria-label="Direct link to Specifying Parameters" title="Direct link to Specifying Parameters">â€‹</a></h4>
<p>MLflow allows specifying a data type and default value for each parameter. You can specify just the
data type by writing:</p>
<div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">parameter_name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> data_type</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>in your YAML file, or add a default value as well using one of the following syntaxes (which are
equivalent in YAML):</p>
<div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">parameter_name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token key atrule" style="color:#00a4db">type</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> data_type</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">default</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> value</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># Short syntax</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">parameter_name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">     </span><span class="token comment" style="color:#999988;font-style:italic"># Long syntax</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">type</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> data_type</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">default</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> value</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>MLflow supports four parameter types, some of which it treats specially (for example, downloading
data to local files). Any undeclared parameters are treated as <code>string</code>. The parameter types are:</p>
<dl><dt><h4 class="anchor anchorWithStickyNavbar_LWe7" id="string">string<a href="#string" class="hash-link" aria-label="Direct link to string" title="Direct link to string">â€‹</a></h4></dt><dd><p>A text string.</p></dd><dt><h4 class="anchor anchorWithStickyNavbar_LWe7" id="float">float<a href="#float" class="hash-link" aria-label="Direct link to float" title="Direct link to float">â€‹</a></h4></dt><dd><p>A real number. MLflow validates that the parameter is a number.</p></dd><dt><h4 class="anchor anchorWithStickyNavbar_LWe7" id="path">path<a href="#path" class="hash-link" aria-label="Direct link to path" title="Direct link to path">â€‹</a></h4></dt><dd><p>A path on the local file system. MLflow converts any relative <code>path</code> parameters to absolute paths.
MLflow also downloads any paths passed as distributed storage URIs (<code>s3://</code>, <code>dbfs://</code>, <code>gs://</code>, etc.)
to local files. Use this type for programs that can only read local files.</p></dd><dt><h4 class="anchor anchorWithStickyNavbar_LWe7" id="uri">uri<a href="#uri" class="hash-link" aria-label="Direct link to uri" title="Direct link to uri">â€‹</a></h4></dt><dd><p>A URI for data either in a local or distributed storage system. MLflow converts
relative paths to absolute paths, as in the <code>path</code> type. Use this type for programs
that know how to read from distributed storage (e.g., programs that use Spark).</p></dd></dl>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="running-projects">Running Projects<a href="#running-projects" class="hash-link" aria-label="Direct link to Running Projects" title="Direct link to Running Projects">â€‹</a></h2>
<p>MLflow provides two ways to run projects: the <code>mlflow run</code> <a href="/docs/latest/api_reference/cli.html" target="_blank">command-line tool</a>, or
the <a href="/docs/latest/api_reference/python_api/mlflow.projects.html#mlflow.projects.run" target="_blank"><code>mlflow.projects.run<!-- -->()</code></a> Python API. Both tools take the following parameters:</p>
<dl><dt><h4 class="anchor anchorWithStickyNavbar_LWe7" id="project-uri">Project URI<a href="#project-uri" class="hash-link" aria-label="Direct link to Project URI" title="Direct link to Project URI">â€‹</a></h4></dt><dd><p>A directory on the local file system or a Git repository path,
specified as a URI of the form <code>https://&lt;repo&gt;</code> (to use HTTPS) or <code>user@host:path</code>
(to use Git over SSH). To run against an MLproject file located in a subdirectory of the project,
add a &#x27;#&#x27; to the end of the URI argument, followed by the relative path from the project&#x27;s root directory
to the subdirectory containing the desired project.</p></dd><dt><h4 class="anchor anchorWithStickyNavbar_LWe7" id="project-version">Project Version<a href="#project-version" class="hash-link" aria-label="Direct link to Project Version" title="Direct link to Project Version">â€‹</a></h4></dt><dd><p>For Git-based projects, the commit hash or branch name in the Git repository.</p></dd><dt><h4 class="anchor anchorWithStickyNavbar_LWe7" id="entry-point">Entry Point<a href="#entry-point" class="hash-link" aria-label="Direct link to Entry Point" title="Direct link to Entry Point">â€‹</a></h4></dt><dd><p>The name of the entry point, which defaults to <code>main</code>. You can use any
entry point named in the <code>MLproject</code> file, or any <code>.py</code> or <code>.sh</code> file in the project,
given as a path from the project root (for example, <code>src/test.py</code>).</p></dd><dt><h4 class="anchor anchorWithStickyNavbar_LWe7" id="parameters">Parameters<a href="#parameters" class="hash-link" aria-label="Direct link to Parameters" title="Direct link to Parameters">â€‹</a></h4></dt><dd><p>Key-value parameters. Any parameters with
<a href="#project_parameters">declared types</a> are validated and transformed if needed.</p></dd><dt><h4 class="anchor anchorWithStickyNavbar_LWe7" id="deployment-mode">Deployment Mode<a href="#deployment-mode" class="hash-link" aria-label="Direct link to Deployment Mode" title="Direct link to Deployment Mode">â€‹</a></h4></dt><dd><ul>
<li>
<p>Both the command-line and API let you <a href="#databricks_execution">launch projects remotely</a>
in a <a href="https://databricks.com" target="_blank" rel="noopener noreferrer">Databricks</a> environment. This includes setting cluster
parameters such as a VM type. Of course, you can also run projects on any other computing
infrastructure of your choice using the local version of the <code>mlflow run</code> command (for
example, submit a script that does <code>mlflow run</code> to a standard job queueing system).</p>
</li>
<li>
<p>You can also launch projects remotely on <a href="https://Kubernetes.io/" target="_blank" rel="noopener noreferrer">Kubernetes</a> clusters
using the <code>mlflow run</code> CLI (see <a href="#kubernetes_execution">Run an MLflow Project on Kubernetes</a>).</p>
</li>
</ul></dd><dt><h4 class="anchor anchorWithStickyNavbar_LWe7" id="environment-1">Environment<a href="#environment-1" class="hash-link" aria-label="Direct link to Environment" title="Direct link to Environment">â€‹</a></h4></dt><dd><p>By default, MLflow Projects are run in the environment specified by the project directory
or the <code>MLproject</code> file (see <a href="#project-environments">Specifying Project Environments</a>).
You can ignore a project&#x27;s specified environment and run the project in the current
system environment by supplying the <code>--env-manager=local</code> flag, but this can lead to
unexpected results if there are dependency mismatches between the project environment and
the current system environment.</p></dd></dl>
<p>For example, the tutorial creates and publishes an MLflow Project that trains a linear model. The
project is also published on GitHub at <a href="https://github.com/mlflow/mlflow-example" target="_blank" rel="noopener noreferrer">https://github.com/mlflow/mlflow-example</a>. To run
this project:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">mlflow run git@github.com:mlflow/mlflow-example.git </span><span class="token parameter variable" style="color:#36acaa">-P</span><span class="token plain"> </span><span class="token assign-left variable" style="color:#36acaa">alpha</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">0.5</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>There are also additional options for disabling the creation of a Conda environment, which can be
useful if you quickly want to test a project in your existing shell environment.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="databricks_execution">Run an MLflow Project on Databricks<a href="#databricks_execution" class="hash-link" aria-label="Direct link to Run an MLflow Project on Databricks" title="Direct link to Run an MLflow Project on Databricks">â€‹</a></h3>
<p>You can run MLflow Projects remotely on Databricks. To use this feature, you must have an enterprise
Databricks account and you must have set up the
<a href="https://github.com/databricks/databricks-cli" target="_blank" rel="noopener noreferrer">Databricks CLI</a>. Find detailed instructions
in the Databricks docs (<a href="https://docs.microsoft.com/en-us/azure/databricks/applications/mlflow/projects#run-an-mlflow-project" target="_blank" rel="noopener noreferrer">Azure Databricks</a>,
<a href="https://docs.databricks.com/applications/mlflow/projects.html" target="_blank" rel="noopener noreferrer">Databricks on AWS</a>).</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="kubernetes_execution">Run an MLflow Project on Kubernetes<a href="#kubernetes_execution" class="hash-link" aria-label="Direct link to Run an MLflow Project on Kubernetes" title="Direct link to Run an MLflow Project on Kubernetes">â€‹</a></h3>
<p>You can run MLflow Projects with <a href="#project-docker-container-environments">Docker environments</a>
on Kubernetes. The following sections provide an overview of the feature, including a simple
Project execution guide with examples.</p>
<p>To see this feature in action, you can also refer to the
<a href="https://github.com/mlflow/mlflow/tree/master/examples/docker" target="_blank" rel="noopener noreferrer">Docker example</a>, which includes
the required Kubernetes backend configuration (<code>kubernetes_backend.json</code>) and
<a href="https://kubernetes.io/docs/concepts/workloads/controllers/jobs-run-to-completion/#writing-a-job-spec" target="_blank" rel="noopener noreferrer">Kubernetes Job Spec</a>
(<code>kubernetes_job_template.yaml</code>) files.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="how-it-works">How it works<a href="#how-it-works" class="hash-link" aria-label="Direct link to How it works" title="Direct link to How it works">â€‹</a></h4>
<p>When you run an MLflow Project on Kubernetes, MLflow constructs a new Docker image
containing the Project&#x27;s contents; this image inherits from the Project&#x27;s
<a href="#project-docker-container-environments">Docker environment</a>. MLflow then pushes the new
Project image to your specified Docker registry and starts a
<a href="https://kubernetes.io/docs/concepts/workloads/controllers/jobs-run-to-completion/" target="_blank" rel="noopener noreferrer">Kubernetes Job</a>
on your specified Kubernetes cluster. This Kubernetes Job downloads the Project image and starts
a corresponding Docker container. Finally, the container invokes your Project&#x27;s
<a href="#running-projects">entry point</a>, logging parameters, tags, metrics, and artifacts to your
<a href="/docs/latest/tracking#tracking_server">MLflow tracking server</a>.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="execution-guide">Execution guide<a href="#execution-guide" class="hash-link" aria-label="Direct link to Execution guide" title="Direct link to Execution guide">â€‹</a></h4>
<p>You can run your MLflow Project on Kubernetes by following these steps:</p>
<ol>
<li>
<p>Add a Docker environment to your MLflow Project, if one does not already exist. For
reference, see <a href="#mlproject-specify-environment">Specifying an Environment</a>.</p>
</li>
<li>
<p>Create a backend configuration JSON file with the following entries:</p>
<ul>
<li>
<p><code>kube-context</code>
The <a href="https://kubernetes.io/docs/concepts/configuration/organize-cluster-access-kubeconfig/#context" target="_blank" rel="noopener noreferrer">Kubernetes context</a>
where MLflow will run the job. If not provided, MLflow will use the current context.
If no context is available, MLflow will assume it is running in a Kubernetes cluster
and it will use the Kubernetes service account running the current pod (&#x27;in-cluster&#x27; configuration).</p>
</li>
<li>
<p><code>repository-uri</code>
The URI of the docker repository where the Project execution Docker image will be uploaded
(pushed). Your Kubernetes cluster must have access to this repository in order to run your
MLflow Project.</p>
</li>
<li>
<p><code>kube-job-template-path</code>
The path to a YAML configuration file for your Kubernetes Job - a
<a href="https://kubernetes.io/docs/concepts/workloads/controllers/jobs-run-to-completion/#writing-a-job-spec" target="_blank" rel="noopener noreferrer">Kubernetes Job Spec</a>.
MLflow reads the Job Spec and replaces certain fields to facilitate job execution and
monitoring; MLflow does not modify the original template file. For more information about
writing Kubernetes Job Spec templates for use with MLflow, see the
<a href="#kubernetes_execution_job_templates">Job Templates</a> section.</p>
<p><strong>Example Kubernetes backend configuration</strong></p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;kube-context&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;docker-for-desktop&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;repository-uri&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;username/mlflow-kubernetes-example&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;kube-job-template-path&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;/Users/username/path/to/kubernetes_job_template.yaml&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
</ul>
</li>
<li>
<p>If necessary, obtain credentials to access your Project&#x27;s Docker and Kubernetes resources, including:</p>
<ul>
<li>The <a href="#mlproject-specify-environment">Docker environment image</a> specified in the MLproject
file.</li>
<li>The Docker repository referenced by <code>repository-uri</code> in your backend configuration file.</li>
<li>The <a href="https://kubernetes.io/docs/concepts/configuration/organize-cluster-access-kubeconfig/#context" target="_blank" rel="noopener noreferrer">Kubernetes context</a>
referenced by <code>kube-context</code> in your backend configuration file.</li>
</ul>
<p>MLflow expects these resources to be accessible via the
<a href="https://docs.docker.com/engine/reference/commandline/cli/" target="_blank" rel="noopener noreferrer">docker</a> and
<a href="https://kubernetes.io/docs/reference/kubectl/kubectl/" target="_blank" rel="noopener noreferrer">kubectl</a> CLIs before running the Project.</p>
</li>
<li>
<p>Run the Project using the MLflow Projects CLI or <a href="/docs/latest/api_reference/python_api/mlflow.projects.html#mlflow.projects.run" target="_blank">Python API</a>,
specifying your Project URI and the path to your backend configuration file. For example:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"> mlflow run </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">project_uri</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token parameter variable" style="color:#36acaa">--backend</span><span class="token plain"> kubernetes --backend-config examples/docker/kubernetes_config.json</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>where <code>&lt;project_uri&gt;</code> is a Git repository URI or a folder.</p>
</li>
</ol>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="kubernetes_execution_job_templates">Job Templates<a href="#kubernetes_execution_job_templates" class="hash-link" aria-label="Direct link to Job Templates" title="Direct link to Job Templates">â€‹</a></h4>
<p>MLflow executes Projects on Kubernetes by creating
<a href="https://kubernetes.io/docs/concepts/workloads/controllers/jobs-run-to-completion/" target="_blank" rel="noopener noreferrer">Kubernetes Job resources</a>.
MLflow creates a Kubernetes Job for an MLflow Project by reading a user-specified
<a href="https://kubernetes.io/docs/concepts/workloads/controllers/jobs-run-to-completion/#writing-a-job-spec" target="_blank" rel="noopener noreferrer">Job Spec</a>.
When MLflow reads a Job Spec, it formats the following fields:</p>
<ul>
<li><code>metadata.name</code> Replaced with a string containing the name of the MLflow Project and the time
of Project execution</li>
<li><code>spec.template.spec.container[0].name</code> Replaced with the name of the MLflow Project</li>
<li><code>spec.template.spec.container[0].image</code> Replaced with the URI of the Docker image created during
Project execution. This URI includes the Docker image&#x27;s digest hash.</li>
<li><code>spec.template.spec.container[0].command</code> Replaced with the Project entry point command
specified when executing the MLflow Project.</li>
</ul>
<p>The following example shows a simple Kubernetes Job Spec that is compatible with MLflow Project
execution. Replaced fields are indicated using bracketed text.</p>
<p><strong>Example Kubernetes Job Spec</strong></p>
<div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">apiVersion</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> batch/v1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">kind</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Job</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">metadata</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;{replaced with MLflow Project name}&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">namespace</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> mlflow</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">spec</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">ttlSecondsAfterFinished</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">100</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">backoffLimit</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">template</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">spec</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">containers</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;{replaced with MLflow Project name}&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token key atrule" style="color:#00a4db">image</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;{replaced with URI of Docker image created during Project execution}&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token key atrule" style="color:#00a4db">command</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;{replaced with MLflow Project entry point command}&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token key atrule" style="color:#00a4db">env</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;{appended with MLFLOW_TRACKING_URI, MLFLOW_RUN_ID and MLFLOW_EXPERIMENT_ID}&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token key atrule" style="color:#00a4db">resources</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token key atrule" style="color:#00a4db">limits</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              </span><span class="token key atrule" style="color:#00a4db">memory</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> 512Mi</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token key atrule" style="color:#00a4db">requests</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              </span><span class="token key atrule" style="color:#00a4db">memory</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> 256Mi</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">restartPolicy</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Never</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>The <code>container.name</code>, <code>container.image</code>, and <code>container.command</code> fields are only replaced for
the <em>first</em> container defined in the Job Spec. Further, the <code>MLFLOW_TRACKING_URI</code>, <code>MLFLOW_RUN_ID</code>
and <code>MLFLOW_EXPERIMENT_ID</code> are appended to <code>container.env</code>. Use <code>KUBE_MLFLOW_TRACKING_URI</code> to
pass a different tracking URI to the job container from the standard <code>MLFLOW_TRACKING_URI</code>. All
subsequent container definitions are applied without modification.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="iterating-quickly">Iterating Quickly<a href="#iterating-quickly" class="hash-link" aria-label="Direct link to Iterating Quickly" title="Direct link to Iterating Quickly">â€‹</a></h2>
<p>If you want to rapidly develop a project, we recommend creating an <code>MLproject</code> file with your
main program specified as the <code>main</code> entry point, and running it with <code>mlflow run .</code>.
To avoid having to write parameters repeatedly, you can add default parameters in your <code>MLproject</code> file.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="building-multistep-workflows">Building Multistep Workflows<a href="#building-multistep-workflows" class="hash-link" aria-label="Direct link to Building Multistep Workflows" title="Direct link to Building Multistep Workflows">â€‹</a></h2>
<p>The <a href="/docs/latest/api_reference/python_api/mlflow.projects.html#mlflow.projects.run" target="_blank"><code>mlflow.projects.run<!-- -->()</code></a> API, combined with <a href="/docs/latest/api_reference/python_api/mlflow.client.html#mlflow.client" target="_blank">mlflow.client</a>,
makes it possible to build multi-step workflows with separate projects (or entry points in the same project)
as the individual steps. Each call to <a href="/docs/latest/api_reference/python_api/mlflow.projects.html#mlflow.projects.run" target="_blank"><code>mlflow.projects.run<!-- -->()</code></a> returns a run object, that you can use
with <a href="/docs/latest/api_reference/python_api/mlflow.client.html#mlflow.client" target="_blank">mlflow.client</a> to determine when the run has ended and get its output
artifacts. These artifacts can then be passed into another step that takes <code>path</code> or <code>uri</code> parameters.
You can coordinate all of the workflow in a single Python program that looks at the results of each
step and decides what to submit next using custom code. Some example use cases for multi-step workflows include:</p>
<dl><dt><h4 class="anchor anchorWithStickyNavbar_LWe7" id="modularizing-your-data-science-code">Modularizing Your Data Science Code<a href="#modularizing-your-data-science-code" class="hash-link" aria-label="Direct link to Modularizing Your Data Science Code" title="Direct link to Modularizing Your Data Science Code">â€‹</a></h4></dt><dd><p>Different users can publish reusable steps for data featurization, training, validation, and so on,
that other users or team can run in their workflows. Because MLflow supports Git versioning,
another team can lock their workflow to a specific version of a project, or upgrade to a new one
on their own schedule.</p></dd><dt><h4 class="anchor anchorWithStickyNavbar_LWe7" id="hyperparameter-tuning">Hyperparameter Tuning<a href="#hyperparameter-tuning" class="hash-link" aria-label="Direct link to Hyperparameter Tuning" title="Direct link to Hyperparameter Tuning">â€‹</a></h4></dt><dd><p>Using <a href="/docs/latest/api_reference/python_api/mlflow.projects.html#mlflow.projects.run" target="_blank"><code>mlflow.projects.run<!-- -->()</code></a> you can launch multiple runs in parallel either on the
local machine or on a cloud platform like Databricks. Your driver program can then inspect the
metrics from each run in real time to cancel runs, launch new ones, or select the best performing
run on a target metric.</p></dd><dt><h4 class="anchor anchorWithStickyNavbar_LWe7" id="cross-validation">Cross-validation<a href="#cross-validation" class="hash-link" aria-label="Direct link to Cross-validation" title="Direct link to Cross-validation">â€‹</a></h4></dt><dd><p>Sometimes you want to run the same training code on different random splits of training and validation
data. With MLflow Projects, you can package the project in a way that allows this, for example, by
taking a random seed for the train/validation split as a parameter, or by calling another project
first that can split the input data.</p></dd></dl>
<p>For an example of how to construct such a multistep workflow, see the MLflow <a href="https://github.com/mlflow/mlflow/tree/master/examples/multistep_workflow" target="_blank" rel="noopener noreferrer">Multistep Workflow Example project</a>.</p></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/latest/auth/"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Access Control</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/latest/plugins/"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">MLflow Plugins</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#overview" class="table-of-contents__link toc-highlight">Overview</a></li><li><a href="#specifying-projects" class="table-of-contents__link toc-highlight">Specifying Projects</a><ul><li><a href="#project-environments" class="table-of-contents__link toc-highlight">Project Environments</a></li><li><a href="#project-directories" class="table-of-contents__link toc-highlight">Project Directories</a></li><li><a href="#mlproject-file" class="table-of-contents__link toc-highlight">MLproject File</a></li></ul></li><li><a href="#running-projects" class="table-of-contents__link toc-highlight">Running Projects</a><ul><li><a href="#databricks_execution" class="table-of-contents__link toc-highlight">Run an MLflow Project on Databricks</a></li><li><a href="#kubernetes_execution" class="table-of-contents__link toc-highlight">Run an MLflow Project on Kubernetes</a></li></ul></li><li><a href="#iterating-quickly" class="table-of-contents__link toc-highlight">Iterating Quickly</a></li><li><a href="#building-multistep-workflows" class="table-of-contents__link toc-highlight">Building Multistep Workflows</a></li></ul></div></div></div></div></main></div></div></div><footer class="footer"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://stackoverflow.com/questions/tagged/mlflow" target="_blank" rel="noopener noreferrer" class="footer__link-item">Stack Overflow<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://www.linkedin.com/company/mlflow-org" target="_blank" rel="noopener noreferrer" class="footer__link-item">LinkedIn<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://x.com/mlflow" target="_blank" rel="noopener noreferrer" class="footer__link-item">X<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">Resources</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs/latest/">Docs</a></li><li class="footer__item"><a href="https://mlflow.org/releases" target="_blank" rel="noopener noreferrer" class="footer__link-item">Releases</a></li><li class="footer__item"><a href="https://mlflow.org/blog" target="_blank" rel="noopener noreferrer" class="footer__link-item">Blog</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2025 MLflow Project, a Series of LF Projects, LLC.</div></div></div></footer></div>
</body>
</html>