<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-llms/rag/notebooks/question-generation-retrieval-evaluation-ipynb" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.7.0">
<title data-rh="true">Question Generation For Retrieval Evaluation | MLflow</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://mlflow.org/docs/latest/llms/rag/notebooks/question-generation-retrieval-evaluation"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Question Generation For Retrieval Evaluation | MLflow"><meta data-rh="true" name="description" content="Download this notebook"><meta data-rh="true" property="og:description" content="Download this notebook"><link data-rh="true" rel="icon" href="/docs/latest/images/favicon.ico"><link data-rh="true" rel="canonical" href="https://mlflow.org/docs/latest/llms/rag/notebooks/question-generation-retrieval-evaluation"><link data-rh="true" rel="alternate" href="https://mlflow.org/docs/latest/llms/rag/notebooks/question-generation-retrieval-evaluation" hreflang="en"><link data-rh="true" rel="alternate" href="https://mlflow.org/docs/latest/llms/rag/notebooks/question-generation-retrieval-evaluation" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://XKVLO8P882-dsn.algolia.net" crossorigin="anonymous"><link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=GTM-N6WMTTJ"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","GTM-N6WMTTJ",{anonymize_ip:!0}),gtag("config","AW-16857946923",{anonymize_ip:!0})</script>
<link rel="preconnect" href="https://www.googletagmanager.com">
<script>window.dataLayer=window.dataLayer||[]</script>
<script>!function(e,t,a,n){e[n]=e[n]||[],e[n].push({"gtm.start":(new Date).getTime(),event:"gtm.js"});var g=t.getElementsByTagName(a)[0],m=t.createElement(a);m.async=!0,m.src="https://www.googletagmanager.com/gtm.js?id=GTM-N6WMTTJ",g.parentNode.insertBefore(m,g)}(window,document,"script","dataLayer")</script>



<link rel="search" type="application/opensearchdescription+xml" title="MLflow" href="/docs/latest/opensearch.xml">

<script src="/docs/latest/js/runllm.js" defer="defer"></script><link rel="stylesheet" href="/docs/latest/assets/css/styles.504e3d8b.css">
<script src="/docs/latest/assets/js/runtime~main.a746fe50.js" defer="defer"></script>
<script src="/docs/latest/assets/js/main.876e7e38.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-N6WMTTJ" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>


<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/docs/latest/"><div class="navbar__logo"><img src="/docs/latest/images/logo-light.svg" alt="MLflow Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/docs/latest/images/logo-dark.svg" alt="MLflow Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div></a><a class="navbar__item navbar__link" href="/docs/latest/">Docs</a><a href="https://mlflow.org/docs/latest/api_reference/index.html" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">API Reference</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/mlflow/mlflow" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite" aria-pressed="false"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search (Command+K)"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20" aria-hidden="true"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><main class="docMainContainer_TBSr docMainContainerEnhanced_lQrH"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Question Generation For Retrieval Evaluation</h1></header>
<a class="button button--primary" style="margin-bottom:1rem;display:block;width:min-content" href="https://raw.githubusercontent.com/mlflow/mlflow/master/docs/docs/llms/rag/notebooks/question-generation-retrieval-evaluation.ipynb" download="">Download this notebook</a>
<p>MLflow provides an advanced framework for constructing Retrieval-Augmented Generation (RAG) models.
RAG is a cutting edge approach that combines the strengths of retrieval models (a model that chooses and ranks relevant
chunks of a document based on the user&#x27;s question) and generative models.
It effectively merges the capabilities of searching and generating text to provide responses that are contextually
relevant and coherent, allowing the generated text to make reference to existing documents. RAG leverges the retriever to find context documents, and
this novel approach has revolutionized various NLP tasks.</p>
<p>Naturally, we want to be able to evaluate this retriever system for the RAG model to compare and judge its
performance. To evaluate a retriever system, we would first need a test set of questions on the documents.
These questions need to be diverse, relevant, and coherent. Manually generating questions may be challenging
because it first requires you to understand the documents, and spend lots of time coming up with questions
for them.</p>
<p>We want to make this process simpler by utilizing an LLM to generate questions for this test set. This
tutorial will walk through how to generate the questions and how to analyze the diversity and relevance
of the questions.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="step-1-install-and-load-packages">Step 1: Install and Load Packages<a href="#step-1-install-and-load-packages" class="hash-link" aria-label="Direct link to Step 1: Install and Load Packages" title="Direct link to Step 1: Install and Load Packages">​</a></h2>
<p>We also define some utility functions to cache the LLM responses to save cost. You can skip reading the implementation details in the next cell.</p>
<div style="flex-grow:1;min-width:0;margin-top:var(--padding-md);width:100%"><div class="codeBlock_oJcR language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token operator" style="color:#393A34">%</span><span class="token plain">pip install beautifulsoup4 langchain openai pandas seaborn scikit</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">learn</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div>
<div style="flex-grow:1;min-width:0;margin-top:var(--padding-md);width:100%"><div class="codeBlock_oJcR language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> json</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> os</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># For cost-saving, create a cache for the LLM responses</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> threading</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># For data analysis and visualization</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> matplotlib</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">pyplot </span><span class="token keyword" style="color:#00009f">as</span><span class="token plain"> plt</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> numpy </span><span class="token keyword" style="color:#00009f">as</span><span class="token plain"> np</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> openai</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> pandas </span><span class="token keyword" style="color:#00009f">as</span><span class="token plain"> pd</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># For scraping</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> requests</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> seaborn </span><span class="token keyword" style="color:#00009f">as</span><span class="token plain"> sns</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> bs4 </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> BeautifulSoup</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> langchain</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">embeddings </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> OpenAIEmbeddings</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> langchain</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">text_splitter </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> CharacterTextSplitter</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> sklearn</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">decomposition </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> PCA</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> sklearn</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">manifold </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> TSNE</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">class</span><span class="token plain"> </span><span class="token class-name">Cache</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">__init__</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> persist_path</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> cache_loading_fn</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token triple-quoted-string string" style="color:#e3116c">&quot;&quot;&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">      The cache_loading_fn should be a function that takes arbitrary</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">      serializable arguments and returns a serilaizable value.</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">        value = cache_loading_fn(**kwargs)</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">      For example, for openai.chat.completions.create(...), the</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">      cache_loading_fn should be:</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">        def cache_loading_fn(**kwargs):</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">          result = openai.chat.completions.create(**kwargs)</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">          return result.to_dict_recursive()</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">      &quot;&quot;&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">_cache </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">_get_or_create_cache_dict</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">persist_path</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">_persist_path </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> persist_path</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">_cache_loading_fn </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> cache_loading_fn</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">_cache_lock </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> threading</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Lock</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token decorator annotation punctuation" style="color:#393A34">@classmethod</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">_get_or_create_cache_dict</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">cls</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> persist_path</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> os</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">path</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">exists</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">persist_path</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token comment" style="color:#999988;font-style:italic"># File exists, load it as a JSON string into a dict</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token keyword" style="color:#00009f">with</span><span class="token plain"> </span><span class="token builtin">open</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">persist_path</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">as</span><span class="token plain"> f</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              cache </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> json</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">load</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">f</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token keyword" style="color:#00009f">else</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token comment" style="color:#999988;font-style:italic"># File does not exist, create an empty dict</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          cache </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> cache</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">_save_to_file</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token keyword" style="color:#00009f">with</span><span class="token plain"> </span><span class="token builtin">open</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">_persist_path</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;w&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">as</span><span class="token plain"> </span><span class="token builtin">file</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          json</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">dump</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">_cache</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token builtin">file</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">_update_cache</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> key</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> value</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token keyword" style="color:#00009f">with</span><span class="token plain"> self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">_cache_lock</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">_cache</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">key</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> value</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">_save_to_file</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">get_from_cache_or_load_cache</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">**</span><span class="token plain">kwargs</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      key </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> json</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">dumps</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">kwargs</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token keyword" style="color:#00009f">with</span><span class="token plain"> self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">_cache_lock</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          value </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">_cache</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">get</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">key</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">None</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> value </span><span class="token keyword" style="color:#00009f">is</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">None</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          value </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">_cache_loading_fn</span><span class="token punctuation" style="color:#393A34">(</span><span class="token operator" style="color:#393A34">**</span><span class="token plain">kwargs</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">_update_cache</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">key</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> value</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token keyword" style="color:#00009f">else</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;Loaded from cache&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> value</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">chat_completion_create_fn</span><span class="token punctuation" style="color:#393A34">(</span><span class="token operator" style="color:#393A34">**</span><span class="token plain">kwargs</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  result </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> openai</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">chat</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">completions</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">create</span><span class="token punctuation" style="color:#393A34">(</span><span class="token operator" style="color:#393A34">**</span><span class="token plain">kwargs</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> result</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">to_dict_recursive</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">cached_openai_ChatCompletion_create</span><span class="token punctuation" style="color:#393A34">(</span><span class="token operator" style="color:#393A34">**</span><span class="token plain">kwargs</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  cache </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> kwargs</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">pop</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;cache&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> cache</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">get_from_cache_or_load_cache</span><span class="token punctuation" style="color:#393A34">(</span><span class="token operator" style="color:#393A34">**</span><span class="token plain">kwargs</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">embeddings_embed_documents_fn</span><span class="token punctuation" style="color:#393A34">(</span><span class="token operator" style="color:#393A34">**</span><span class="token plain">kwargs</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  chunk </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> kwargs</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">get</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;chunk&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> embeddings</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">embed_documents</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">chunk</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">cached_langchain_openai_embeddings</span><span class="token punctuation" style="color:#393A34">(</span><span class="token operator" style="color:#393A34">**</span><span class="token plain">kwargs</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  cache </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> kwargs</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">pop</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;cache&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> cache</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">get_from_cache_or_load_cache</span><span class="token punctuation" style="color:#393A34">(</span><span class="token operator" style="color:#393A34">**</span><span class="token plain">kwargs</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="step-2-set-openai-key">Step 2: Set OpenAI Key<a href="#step-2-set-openai-key" class="hash-link" aria-label="Direct link to Step 2: Set OpenAI Key" title="Direct link to Step 2: Set OpenAI Key">​</a></h2>
<p>The question generation system can be done using any LLM. We chose to use OpenAI here, so we will need their API key.</p>
<div style="flex-grow:1;min-width:0;margin-top:var(--padding-md);width:100%"><div class="codeBlock_oJcR language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">openai</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">api_key </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;&lt;redacted&gt;&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">os</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">environ</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;OPENAI_API_KEY&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> openai</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">api_key</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div>
<div style="flex-grow:1;min-width:0;margin-top:var(--padding-md);width:100%"><div class="codeBlock_oJcR language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># Other configurations</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Choose a seed for reproducible results</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">SEED </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2023</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># For cost-saving purposes, choose a path to persist the responses for LLM calls</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">CACHE_PATH </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;_cache.json&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">EMBEDDINGS_CACHE_PATH </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;_embeddings_cache.json&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># To avoid re-running the scraping process, choose a path to save the scrapped docs</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">SCRAPPED_DATA_PATH </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;mlflow_docs_scraped.csv&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Choose a path to save the generated dataset</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">OUTPUT_DF_PATH </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;question_answer_source.csv&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div>
<div style="flex-grow:1;min-width:0;margin-top:var(--padding-md);width:100%"><div class="codeBlock_oJcR language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">cache </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> Cache</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">CACHE_PATH</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> chat_completion_create_fn</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">embeddings_cache </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> Cache</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">EMBEDDINGS_CACHE_PATH</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> embeddings_embed_documents_fn</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="step-3-decide-on-chunk-size">Step 3: Decide on Chunk Size<a href="#step-3-decide-on-chunk-size" class="hash-link" aria-label="Direct link to Step 3: Decide on Chunk Size" title="Direct link to Step 3: Decide on Chunk Size">​</a></h2>
<div style="flex-grow:1;min-width:0;margin-top:var(--padding-md);width:100%"><div class="codeBlock_oJcR language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">CHUNK_SIZE </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1500</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="step-4-prepare-document-data">Step 4: Prepare Document Data<a href="#step-4-prepare-document-data" class="hash-link" aria-label="Direct link to Step 4: Prepare Document Data" title="Direct link to Step 4: Prepare Document Data">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="scrape-the-documents-from-the-mlflow-website">Scrape the documents from the MLflow website<a href="#scrape-the-documents-from-the-mlflow-website" class="hash-link" aria-label="Direct link to Scrape the documents from the MLflow website" title="Direct link to Scrape the documents from the MLflow website">​</a></h3>
<div style="flex-grow:1;min-width:0;margin-top:var(--padding-md);width:100%"><div class="codeBlock_oJcR language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">page </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> requests</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">get</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;https://mlflow.org/docs/latest/index.html&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">soup </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> BeautifulSoup</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">page</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">content</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;html.parser&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">mainLocation </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;https://mlflow.org/docs/latest/&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">header </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token string" style="color:#e3116c">&quot;User-Agent&quot;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.11 (KHTML, like Gecko) Chrome/23.0.1271.64 Safari/537.11&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token string" style="color:#e3116c">&quot;Accept-Language&quot;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;en-US,en;q=0.8&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token string" style="color:#e3116c">&quot;Connection&quot;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;keep-alive&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">data </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> a_link </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> soup</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">find_all</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;a&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  document_url </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> mainLocation </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> a_link</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;href&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  page </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> requests</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">get</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">document_url</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> headers</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">header</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  soup </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> BeautifulSoup</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">page</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">content</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;html.parser&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  file_to_store </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> a_link</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">get</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;href&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> soup</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">find</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;div&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token string" style="color:#e3116c">&quot;class&quot;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;rst-content&quot;</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      data</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">append</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              file_to_store</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              soup</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">find</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;div&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token string" style="color:#e3116c">&quot;class&quot;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;rst-content&quot;</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">text</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">replace</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token string" style="color:#e3116c">&quot;, &quot;</span><span class="token plain"> &quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">df </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> pd</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">DataFrame</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">data</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> columns</span><span class="token operator" style="color:#393A34">=</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;source&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;text&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div>
<div style="flex-grow:1;min-width:0;margin-top:var(--padding-md);width:100%"><div class="codeBlock_oJcR language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">df</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">to_csv</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">SCRAPPED_DATA_PATH</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> index</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">False</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">df </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> pd</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">read_csv</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">SCRAPPED_DATA_PATH</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="select-a-subset-of-the-documents-and-split-them-into-chunks">Select a subset of the documents and split them into chunks<a href="#select-a-subset-of-the-documents-and-split-them-into-chunks" class="hash-link" aria-label="Direct link to Select a subset of the documents and split them into chunks" title="Direct link to Select a subset of the documents and split them into chunks">​</a></h3>
<div style="flex-grow:1;min-width:0;margin-top:var(--padding-md);width:100%"><div class="codeBlock_oJcR language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># For demonstration purposes, let&#x27;s pick 5 popular MLflow documantation pages from the dataset</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">mask </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> df</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;source&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">isin</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token string" style="color:#e3116c">&quot;tracking.html&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token string" style="color:#e3116c">&quot;models.html&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token string" style="color:#e3116c">&quot;model-registry.html&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token string" style="color:#e3116c">&quot;search-runs.html&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token string" style="color:#e3116c">&quot;projects.html&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sub_df </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> df</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">mask</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Split documents into chunks</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">text_splitter </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> CharacterTextSplitter</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">chunk_size</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">CHUNK_SIZE</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> separator</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot; &quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">get_chunks</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">input_row</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  new_rows </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  chunks </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> text_splitter</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">split_text</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">input_row</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;text&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> i</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> chunk </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> </span><span class="token builtin">enumerate</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">chunks</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      new_rows</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">append</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token string" style="color:#e3116c">&quot;chunk&quot;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> chunk</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;source&quot;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> input_row</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;source&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;chunk_index&quot;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> i</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> new_rows</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">expanded_df </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> pd</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">DataFrame</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">columns</span><span class="token operator" style="color:#393A34">=</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;chunk&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;source&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;chunk_index&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> index</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> row </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> sub_df</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">iterrows</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  new_rows </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> get_chunks</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">row</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  expanded_df </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> pd</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">concat</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">expanded_df</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> pd</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">DataFrame</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">new_rows</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> ignore_index</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">True</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">expanded_df</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">head</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">3</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div>
<div style="flex-grow:1;min-width:0;font-size:0.8rem;width:100%"><div><div>
<style scoped>
  .dataframe tbody tr th:only-of-type {
      vertical-align: middle;
  }

  .dataframe tbody tr th {
      vertical-align: top;
  }

  .dataframe thead th {
      text-align: right;
  }
</style>
<table border="1" class="dataframe">
<thead>
  <tr style="text-align: right;">
    <th></th>
    <th>chunk</th>
    <th>source</th>
    <th>chunk_index</th>
  </tr>
</thead>
<tbody>
  <tr>
    <th>0</th>
    <td>Documentation MLflow Tracking MLflow Tracking ...</td>
    <td>tracking.html</td>
    <td>0</td>
  </tr>
  <tr>
    <th>1</th>
    <td>Tags Concepts MLflow Tracking is organized aro...</td>
    <td>tracking.html</td>
    <td>1</td>
  </tr>
  <tr>
    <th>2</th>
    <td>runs into experiments, which group together ru...</td>
    <td>tracking.html</td>
    <td>2</td>
  </tr>
</tbody>
</table>
</div></div></div>
<div style="flex-grow:1;min-width:0;margin-top:var(--padding-md);width:100%"><div class="codeBlock_oJcR language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># For cost-saving purposes, let&#x27;s pick the first 3 chunks from each doc</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># To generate questions with more chunks, change the start index and end index in iloc[]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">start</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> end </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">3</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">filtered_df </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  expanded_df</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">groupby</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;source&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token builtin">apply</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">lambda</span><span class="token plain"> x</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> x</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">iloc</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">start</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">end</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">reset_index</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">drop</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">True</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">filtered_df</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">head</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">3</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div>
<div style="flex-grow:1;min-width:0;font-size:0.8rem;width:100%"><div><div>
<style scoped>
  .dataframe tbody tr th:only-of-type {
      vertical-align: middle;
  }

  .dataframe tbody tr th {
      vertical-align: top;
  }

  .dataframe thead th {
      text-align: right;
  }
</style>
<table border="1" class="dataframe">
<thead>
  <tr style="text-align: right;">
    <th></th>
    <th>chunk</th>
    <th>source</th>
    <th>chunk_index</th>
  </tr>
</thead>
<tbody>
  <tr>
    <th>0</th>
    <td>Documentation MLflow Model Registry MLflow Mod...</td>
    <td>model-registry.html</td>
    <td>0</td>
  </tr>
  <tr>
    <th>1</th>
    <td>logged, this model can then be registered with...</td>
    <td>model-registry.html</td>
    <td>1</td>
  </tr>
  <tr>
    <th>2</th>
    <td>associate with registered models and model ver...</td>
    <td>model-registry.html</td>
    <td>2</td>
  </tr>
</tbody>
</table>
</div></div></div>
<div style="flex-grow:1;min-width:0;margin-top:var(--padding-md);width:100%"><div class="codeBlock_oJcR language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">filtered_df</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;chunk&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div>
<pre style="margin:0;border-radius:0;background:none;font-size:0.85rem;flex-grow:1;padding:var(--padding-sm)">&#x27;Documentation MLflow Model Registry MLflow Model Registry The MLflow Model Registry component is a centralized model store, set of APIs, and UI, to collaboratively manage the full lifecycle of an MLflow Model. It provides model lineage (which MLflow experiment and run produced the model), model versioning, model aliasing, model tagging, and annotations. Table of Contents Concepts Model Registry Workflows UI Workflow Register a Model Find Registered Models Deploy and Organize Models API Workflow Adding an MLflow Model to the Model Registry Deploy and Organize Models with Aliases and Tags Fetching an MLflow Model from the Model Registry Serving an MLflow Model from Model Registry Promoting an MLflow Model across environments Adding or Updating an MLflow Model Descriptions Renaming an MLflow Model Listing and Searching MLflow Models Deleting MLflow Models Registering a Model Saved Outside MLflow Registering an Unsupported Machine Learning Model Transitioning an MLflow Model’s Stage Archiving an MLflow Model Concepts The Model Registry introduces a few concepts that describe and facilitate the full lifecycle of an MLflow Model. ModelAn MLflow Model is created from an experiment or run that is logged with one of the model flavor’s mlflow.&lt;model_flavor&gt;.log_model() methods. Once logged, this model can then be registered with the Model Registry. Registered ModelAn MLflow Model can be registered with the Model Registry. A registered model has a unique name, contains versions,&#x27;</pre>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="step-5-generate-questions">Step 5: Generate questions<a href="#step-5-generate-questions" class="hash-link" aria-label="Direct link to Step 5: Generate questions" title="Direct link to Step 5: Generate questions">​</a></h2>
<p>The prompt below instructs the LLM to generate a question for each given chunk, and also generate an answer to the question to make it easier to do human validation. Also, return the results in a structured format.</p>
<p>This example uses OpenAI&#x27;s gpt-4o-mini model to generate the questions, you can replace it with the LLM that works best for your use case.</p>
<div style="flex-grow:1;min-width:0;margin-top:var(--padding-md);width:100%"><div class="codeBlock_oJcR language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">get_raw_response</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">content</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  prompt </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string-interpolation string" style="color:#e3116c">f&quot;&quot;&quot;Please generate a question asking for the key information in the given paragraph.</span><br></span><span class="token-line" style="color:#393A34"><span class="token string-interpolation string" style="color:#e3116c">  Also answer the questions using the information in the given paragraph.</span><br></span><span class="token-line" style="color:#393A34"><span class="token string-interpolation string" style="color:#e3116c">  Please ask the specific question instead of the general question, like</span><br></span><span class="token-line" style="color:#393A34"><span class="token string-interpolation string" style="color:#e3116c">  &#x27;What is the key information in the given paragraph?&#x27;.</span><br></span><span class="token-line" style="color:#393A34"><span class="token string-interpolation string" style="color:#e3116c">  Please generate the answer using as much information as possible.</span><br></span><span class="token-line" style="color:#393A34"><span class="token string-interpolation string" style="color:#e3116c">  If you are unable to answer it, please generate the answer as &#x27;I don&#x27;t know.&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token string-interpolation string" style="color:#e3116c">  The answer should be informative and should be more than 3 sentences.</span><br></span><span class="token-line" style="color:#393A34"><span class="token string-interpolation string" style="display:inline-block;color:#e3116c"></span><br></span><span class="token-line" style="color:#393A34"><span class="token string-interpolation string" style="color:#e3116c">  Paragraph: </span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">{</span><span class="token string-interpolation interpolation">content</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">}</span><span class="token string-interpolation string" style="color:#e3116c"></span><br></span><span class="token-line" style="color:#393A34"><span class="token string-interpolation string" style="display:inline-block;color:#e3116c"></span><br></span><span class="token-line" style="color:#393A34"><span class="token string-interpolation string" style="color:#e3116c">  Please call the submit_function function to submit the generated question and answer.</span><br></span><span class="token-line" style="color:#393A34"><span class="token string-interpolation string" style="color:#e3116c">  &quot;&quot;&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  messages </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">{</span><span class="token string" style="color:#e3116c">&quot;role&quot;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;user&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;content&quot;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> prompt</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  submit_function </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token string" style="color:#e3116c">&quot;name&quot;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;submit_function&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token string" style="color:#e3116c">&quot;description&quot;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Call this function to submit the generated question and answer.&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token string" style="color:#e3116c">&quot;parameters&quot;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token string" style="color:#e3116c">&quot;type&quot;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;object&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token string" style="color:#e3116c">&quot;properties&quot;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              </span><span class="token string" style="color:#e3116c">&quot;question&quot;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                  </span><span class="token string" style="color:#e3116c">&quot;type&quot;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;string&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                  </span><span class="token string" style="color:#e3116c">&quot;description&quot;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;The question asking for the key information in the given paragraph.&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              </span><span class="token string" style="color:#e3116c">&quot;answer&quot;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                  </span><span class="token string" style="color:#e3116c">&quot;type&quot;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;string&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                  </span><span class="token string" style="color:#e3116c">&quot;description&quot;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;The answer to the question using the information in the given paragraph.&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token string" style="color:#e3116c">&quot;required&quot;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;question&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;answer&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> cached_openai_ChatCompletion_create</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      messages</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">messages</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      model</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;gpt-4o-mini&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      functions</span><span class="token operator" style="color:#393A34">=</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">submit_function</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      function_call</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;auto&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      temperature</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">0.0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      seed</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">SEED</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      cache</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">cache</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">generate_question_answer</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">content</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> content </span><span class="token keyword" style="color:#00009f">is</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">None</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">or</span><span class="token plain"> </span><span class="token builtin">len</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">content</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">==</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;N/A&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  response </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> get_raw_response</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">content</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">try</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      func_args </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> json</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">loads</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">response</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;choices&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;message&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;function_call&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;arguments&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      question </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> func_args</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;question&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      answer </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> func_args</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;answer&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> question</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> answer</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">except</span><span class="token plain"> Exception </span><span class="token keyword" style="color:#00009f">as</span><span class="token plain"> e</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> </span><span class="token builtin">str</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">e</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;N/A&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div>
<div style="flex-grow:1;min-width:0;margin-top:var(--padding-md);width:100%"><div class="codeBlock_oJcR language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">queries </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div>
<div style="flex-grow:1;min-width:0;margin-top:var(--padding-md);width:100%"><div class="codeBlock_oJcR language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">get_raw_response</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">filtered_df</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;chunk&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div>
<pre style="margin:0;border-radius:0;background:none;font-size:0.85rem;flex-grow:1;padding:var(--padding-sm)">{&#x27;id&#x27;: &#x27;chatcmpl-8NPsIJQZYDP4aqiWEUlUyLakv3lyR&#x27;,
&#x27;object&#x27;: &#x27;chat.completion&#x27;,
&#x27;created&#x27;: 1700591698,
&#x27;model&#x27;: &#x27;gpt-3.5-turbo-0613&#x27;,
&#x27;choices&#x27;: [{&#x27;index&#x27;: 0,
 &#x27;message&#x27;: {&#x27;role&#x27;: &#x27;assistant&#x27;,
  &#x27;content&#x27;: None,
  &#x27;function_call&#x27;: {&#x27;name&#x27;: &#x27;submit_function&#x27;,
   &#x27;arguments&#x27;: &#x27;{
  &quot;question&quot;: &quot;What is the purpose of the MLflow Model Registry?&quot;,
  &quot;answer&quot;: &quot;The purpose of the MLflow Model Registry is to provide a centralized model store, set of APIs, and UI to collaboratively manage the full lifecycle of an MLflow Model. It allows for model lineage, versioning, aliasing, tagging, and annotations.&quot;
}&#x27;}},
 &#x27;finish_reason&#x27;: &#x27;function_call&#x27;}],
&#x27;usage&#x27;: {&#x27;prompt_tokens&#x27;: 490, &#x27;completion_tokens&#x27;: 81, &#x27;total_tokens&#x27;: 571}}</pre>
<div style="flex-grow:1;min-width:0;margin-top:var(--padding-md);width:100%"><div class="codeBlock_oJcR language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># The requests sometimes get ratelimited, you can re-execute this cell without losing the existing results.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">n </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token builtin">len</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">filtered_df</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> i</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> row </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> filtered_df</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">iterrows</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  chunk </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> row</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;chunk&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  question</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> answer </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> generate_question_answer</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">chunk</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string-interpolation string" style="color:#e3116c">f&quot;</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">{</span><span class="token string-interpolation interpolation">i </span><span class="token string-interpolation interpolation operator" style="color:#393A34">+</span><span class="token string-interpolation interpolation"> </span><span class="token string-interpolation interpolation number" style="color:#36acaa">1</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">}</span><span class="token string-interpolation string" style="color:#e3116c">/</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">{</span><span class="token string-interpolation interpolation">n</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">}</span><span class="token string-interpolation string" style="color:#e3116c">: </span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">{</span><span class="token string-interpolation interpolation">question</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">}</span><span class="token string-interpolation string" style="color:#e3116c">&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  queries</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">append</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token string" style="color:#e3116c">&quot;question&quot;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> question</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token string" style="color:#e3116c">&quot;answer&quot;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> answer</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token string" style="color:#e3116c">&quot;chunk&quot;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> chunk</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token string" style="color:#e3116c">&quot;chunk_id&quot;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> row</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;chunk_index&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token string" style="color:#e3116c">&quot;source&quot;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> row</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;source&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div>
<pre style="margin:0;border-radius:0;background:none;font-size:0.85rem;flex-grow:1;padding:var(--padding-sm)">Loaded from cache
1/15: What is the purpose of the MLflow Model Registry?
Loaded from cache
2/15: What are the key features of a registered model in the Model Registry?
Loaded from cache
3/15: What can you do with tags in MLflow?
Loaded from cache
4/15: What is the purpose of an MLflow Model?
Loaded from cache
5/15: What are the flavors defined in the MLmodel file for the mlflow.sklearn library?
Loaded from cache
6/15: What are the fields that can be contained in the MLmodel YAML format?
Loaded from cache
7/15: What is an MLflow Project?
Loaded from cache
8/15: What can you specify for the entry points in a MLproject file?
Loaded from cache
9/15: What are the project environments supported by MLflow?
Loaded from cache
10/15: What does the MLflow UI and API support in terms of searching runs?
Loaded from cache
11/15: What are the key information in the given paragraph?
12/15: What are some examples of entity names that contain special characters?
13/15: What is the purpose of MLflow Tracking?
14/15: What information does each run record in MLflow Tracking?
15/15: How can you create an experiment in MLflow?</pre>
<p>Sometimes, the LLM may fail to generate a question. We can examine the data above to see whether there are any errors. If so, remove the error records.</p>
<div style="flex-grow:1;min-width:0;margin-top:var(--padding-md);width:100%"><div class="codeBlock_oJcR language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">result_df </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> pd</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">DataFrame</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">queries</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">result_df </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> result_df</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">result_df</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;answer&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">!=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;N/A&quot;</span><span class="token punctuation" style="color:#393A34">]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div>
<div style="flex-grow:1;min-width:0;margin-top:var(--padding-md);width:100%"><div class="codeBlock_oJcR language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">add_to_output_df</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">result_df</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">pd</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">DataFrame</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token triple-quoted-string string" style="color:#e3116c">&quot;&quot;&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">  This function adds the records in result_df to the existing records saved at OUTPUT_DF_PATH,</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">  remove the duplicate rows and save the new collection of records back to OUTPUT_DF_PATH.</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">  &quot;&quot;&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> os</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">path</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">exists</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">OUTPUT_DF_PATH</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      all_result_df </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> pd</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">read_csv</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">OUTPUT_DF_PATH</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">else</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      all_result_df </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> pd</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">DataFrame</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  all_result_df </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      pd</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">concat</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">all_result_df</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> result_df</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> ignore_index</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">True</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">drop_duplicates</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">sort_values</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">by</span><span class="token operator" style="color:#393A34">=</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;source&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;chunk_id&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">reset_index</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">drop</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">True</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  all_result_df</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">to_csv</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">OUTPUT_DF_PATH</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> index</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">False</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> all_result_df</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div>
<div style="flex-grow:1;min-width:0;margin-top:var(--padding-md);width:100%"><div class="codeBlock_oJcR language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">all_result_df </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> add_to_output_df</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">result_df</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div>
<div style="flex-grow:1;min-width:0;margin-top:var(--padding-md);width:100%"><div class="codeBlock_oJcR language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">all_result_df</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">head</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">3</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div>
<div style="flex-grow:1;min-width:0;font-size:0.8rem;width:100%"><div><div>
<style scoped>
  .dataframe tbody tr th:only-of-type {
      vertical-align: middle;
  }

  .dataframe tbody tr th {
      vertical-align: top;
  }

  .dataframe thead th {
      text-align: right;
  }
</style>
<table border="1" class="dataframe">
<thead>
  <tr style="text-align: right;">
    <th></th>
    <th>question</th>
    <th>answer</th>
    <th>chunk</th>
    <th>chunk_id</th>
    <th>source</th>
  </tr>
</thead>
<tbody>
  <tr>
    <th>0</th>
    <td>What is the purpose of the MLflow Model Registry?</td>
    <td>The purpose of the MLflow Model Registry is to...</td>
    <td>Documentation MLflow Model Registry MLflow Mod...</td>
    <td>0</td>
    <td>model-registry.html</td>
  </tr>
  <tr>
    <th>1</th>
    <td>What is the purpose of registering a model wit...</td>
    <td>The purpose of registering a model with the Mo...</td>
    <td>logged, this model can then be registered with...</td>
    <td>1</td>
    <td>model-registry.html</td>
  </tr>
  <tr>
    <th>2</th>
    <td>What can you do with registered models and mod...</td>
    <td>With registered models and model versions, you...</td>
    <td>associate with registered models and model ver...</td>
    <td>2</td>
    <td>model-registry.html</td>
  </tr>
</tbody>
</table>
</div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="quality-analysis-of-questions-generated-optional">Quality Analysis of Questions Generated (Optional)<a href="#quality-analysis-of-questions-generated-optional" class="hash-link" aria-label="Direct link to Quality Analysis of Questions Generated (Optional)" title="Direct link to Quality Analysis of Questions Generated (Optional)">​</a></h2>
<p>If you would like to compare quality of questions generated across different prompts, we can
analyze the quality of questions manually and in aggregate. We want to evaluate questions
along two dimensions - their diversity and relevance.</p>
<p><a href="https://github.com/mlflow/mlflow/blob/master/examples/llms/question_generation/question_answer_source.csv" target="_blank" rel="noopener noreferrer">https://github.com/mlflow/mlflow/blob/master/examples/llms/question_generation/question_answer_source.csv</a> is a pre-generated dataset with 56 questions. You can download it and specify the path with <code>OUTPUT_DF_PATH</code>, and load it to run the rest of the notebook if you want to jump to this section.</p>
<p>Note: There isn&#x27;t a well-defined way to analyze the quality of generated questions, so this is just one approach you can take to gain insight into how diverse and relevant your generated questions are.</p>
<div style="flex-grow:1;min-width:0;margin-top:var(--padding-md);width:100%"><div class="codeBlock_oJcR language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">all_result_df </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> add_to_output_df</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="evaluating-diversity-of-questions">Evaluating Diversity of Questions<a href="#evaluating-diversity-of-questions" class="hash-link" aria-label="Direct link to Evaluating Diversity of Questions" title="Direct link to Evaluating Diversity of Questions">​</a></h3>
<p>Diversity of questions is important because we want questions to cover the majority of the
document content. In addition, we want to be able to evaluate the retriever with different
forms of questioning. We want to be able to have harder questions and easier questions. All
of these are not straightforward to analyze, and we decided to analyze its through question
length and latent space embeddings.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="length">Length<a href="#length" class="hash-link" aria-label="Direct link to Length" title="Direct link to Length">​</a></h4>
<p>Length gives a sense of how diverse the questions are. Some questions may be wordy while
others are straight to the point. It also allows us to identify problems with the question
generated.</p>
<div style="flex-grow:1;min-width:0;margin-top:var(--padding-md);width:100%"><div class="codeBlock_oJcR language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># Length</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">questions </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> all_result_df</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;question&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">to_list</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">question_len </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> pd</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">DataFrame</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">[</span><span class="token builtin">len</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">q</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> q </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> questions</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> columns</span><span class="token operator" style="color:#393A34">=</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;length&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">question_len</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">hist</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">bins</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">5</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">plt</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">title</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;Histogram of Question Lengths&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">plt</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">xlabel</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;Question Length&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">plt</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">ylabel</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;Frequency&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">plt</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">show</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div>
<p><img decoding="async" loading="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAjIAAAHHCAYAAACle7JuAAAAOXRFWHRTb2Z0d2FyZQBNYXRwbG90bGliIHZlcnNpb24zLjcuMiwgaHR0cHM6Ly9tYXRwbG90bGliLm9yZy8pXeV/AAAACXBIWXMAAA9hAAAPYQGoP6dpAABCX0lEQVR4nO3dd3gU9f7+/3vTNgmkECCESJUiCIJUzQGpQUClKwiIgHg4aJCOfjgcJMECqBQLggUBSxTxC6goJYSugIaqiBAQQSGAUtIwIWbn9we/bFhSSGKSzSTPx3XtFXbmvTOveW27mZ3ZtRiGYQgAAMCEXJxdAAAAQEERZAAAgGkRZAAAgGkRZAAAgGkRZAAAgGkRZAAAgGkRZAAAgGkRZAAAgGkRZAAAgGkRZFAm1apVS8OGDXN2GaXeyy+/rFtvvVWurq668847nV1OkRo2bJhq1arl7DJMJTw8XBaLRX/++aezS4GJEWRgekuXLpXFYlFMTEy28zt06KDGjRv/4/V8/fXXCg8P/8fLKSs2bNigp59+Wm3atNGSJUv04osv3vQ2a9asUbdu3VSxYkV5enqqfv36mjx5si5evFgMFd/cmTNnFB4erv379zu7FLtff/1VFotFr7zyirNLydGLL76o1atXO7sMlFJuzi4AcIYjR47IxSV/Of7rr7/WggULCDN5tGnTJrm4uGjx4sXy8PC46fhJkyZpzpw5atq0qZ555hkFBARo7969ev3117V8+XJFR0erXr16xVB5zs6cOaOIiAjVqlUryx6md955RzabzTmFlXAvvviiHnzwQfXu3dvZpaAUIsigTLJarc4uId+Sk5NVrlw5Z5eRZ+fPn5eXl1eeQszHH3+sOXPmaMCAAfroo4/k6upqnzds2DB17NhRDz30kGJiYuTmVjJfttzd3Z1dAlAm8dESyqQbj5FJS0tTRESE6tWrJ09PT1WsWFFt27ZVVFSUpGtvpgsWLJAkWSwW+yVDcnKyJk6cqOrVq8tqteq2227TK6+8oht/XP6vv/7SmDFjVKlSJfn4+Khnz546ffq0LBaLw56ejGMHfvrpJw0aNEgVKlRQ27ZtJUkHDx7UsGHDdOutt8rT01NBQUF67LHHdOHCBYd1ZSzj6NGjeuSRR+Tn56fKlStr2rRpMgxDv/32m3r16iVfX18FBQVpzpw5eerd33//reeee0516tSR1WpVrVq19N///lepqan2MRaLRUuWLFFycrK9V0uXLs1xmREREapQoYLefvtthxAjSa1bt9YzzzyjAwcOaOXKlfbpOR3n1KFDB3Xo0MFhWmpqqqZPn666devKarWqevXqevrppx1qlqSoqCi1bdtW/v7+Kl++vG677Tb997//lSRt2bJFrVq1kiQNHz48y3Zld4xMXh8XFotFo0eP1urVq9W4cWNZrVY1atRI69aty7Fn+ZXXHuSnli1btqhly5by9PRUnTp19NZbb9kfd9cvLzk5WcuWLbP37Mb77fLlyxo2bJj8/f3l5+en4cOH68qVKw5jcrtvULaVzP/aAAUQHx+f7UGDaWlpN71teHi4Zs6cqccff1ytW7dWQkKCYmJitHfvXnXp0kX/+c9/dObMGUVFRemDDz5wuK1hGOrZs6c2b96sESNG6M4779T69es1efJknT59WvPmzbOPHTZsmD799FMNGTJEd999t7Zu3ar7778/x7oeeugh1atXTy+++KL9zS8qKkq//PKLhg8frqCgIB06dEhvv/22Dh06pF27djm8iUjSgAED1LBhQ82aNUtfffWVnn/+eQUEBOitt95Sp06dNHv2bH300UeaNGmSWrVqpXbt2uXaq8cff1zLli3Tgw8+qIkTJ2r37t2aOXOmDh8+rFWrVkmSPvjgA7399tv67rvv9O6770qS/vWvf2W7vNjYWB05ckTDhg2Tr69vtmMeffRRTZ8+XV9++aX69++fa303stls6tmzp3bs2KGRI0eqYcOG+uGHHzRv3jwdPXrUfuzGoUOH9MADD6hJkyaaMWOGrFarjh07pm+++UaS1LBhQ82YMUPPPvusRo4cqXvuuSfX7crP40KSduzYoZUrV+rJJ5+Uj4+PXnvtNfXr10+nTp1SxYoV87XNBe1BfmrZt2+funXrpqpVqyoiIkLp6emaMWOGKleu7LCsDz74wP68GjlypCSpTp06DmP69++v2rVra+bMmdq7d6/effddBQYGavbs2ZJuft+gjDMAk1uyZIkhKddLo0aNHG5Ts2ZNY+jQofbrTZs2Ne6///5c1xMWFmZk95RZvXq1Icl4/vnnHaY/+OCDhsViMY4dO2YYhmHs2bPHkGSMGzfOYdywYcMMScb06dPt06ZPn25IMgYOHJhlfVeuXMky7eOPPzYkGdu2bcuyjJEjR9qn/f3330a1atUMi8VizJo1yz790qVLhpeXl0NPsrN//35DkvH44487TJ80aZIhydi0aZN92tChQ41y5crlujzDyOzfvHnzch3n6+trNG/e3H79xvswQ/v27Y327dvbr3/wwQeGi4uLsX37dodxixYtMiQZ33zzjWEYhjFv3jxDkvHHH3/kWMP3339vSDKWLFmSZd7QoUONmjVrZtmumz0uDMMwJBkeHh4O0w4cOGBIMl5//fUc6zEMwzhx4oQhyXj55ZdzHJPXHuSnlh49ehje3t7G6dOn7dNiY2MNNze3LM+TcuXKZXtfZTxGH3vsMYfpffr0MSpWrGi/npf7BmUXHy2h1FiwYIGioqKyXJo0aXLT2/r7++vQoUOKjY3N93q//vprubq6asyYMQ7TJ06cKMMwtHbtWkmy75p/8sknHcY99dRTOS571KhRWaZ5eXnZ/52SkqI///xTd999tyRp7969WcY//vjj9n+7urqqZcuWMgxDI0aMsE/39/fXbbfdpl9++SXHWqRr2ypJEyZMcJg+ceJESdJXX32V6+2zk5iYKEny8fHJdZyPj499bH6sWLFCDRs2VIMGDfTnn3/aL506dZIkbd68WdK1HkjS559/XigH7eb1cZEhNDTUYU9FkyZN5Ovre9P7JC/y2oO81pKenq6NGzeqd+/eCg4Oto+rW7euunfvnu/6bnyc33PPPbpw4YISEhIkFf59g9KFIINSo3Xr1goNDc1yqVChwk1vO2PGDF2+fFn169fXHXfcocmTJ+vgwYN5Wu/JkycVHByc5Y24YcOG9vkZf11cXFS7dm2HcXXr1s1x2TeOlaSLFy9q7NixqlKliry8vFS5cmX7uPj4+Czja9So4XDdz89Pnp6eqlSpUpbply5dyrGW67fhxpqDgoLk7+9v39b8yOjbzUJKYmKiAgMD87382NhYHTp0SJUrV3a41K9fX9K1g5Klax/BtWnTRo8//riqVKmihx9+WJ9++mmB3zjz+rjIcOP9JEkVKlS46X2SF3ntQV5rOX/+vP76669sH7u5PZ5zcuP6Mp6zGesr7PsGpQvHyACS2rVrp+PHj+vzzz/Xhg0b9O6772revHlatGiRwx6N4nb93pcM/fv317fffqvJkyfrzjvvVPny5WWz2dStW7dsX9hvPHg2p2mSshyEmpMbj8P5J26//XZJyjU4njx5UgkJCbr11ltvWkN6errD9tlsNt1xxx2aO3dutuOrV68u6Vqvt23bps2bN+urr77SunXrtHz5cnXq1EkbNmzIsWeF5Z/eJ7nJaw+Ko5bs3Gx9zr5vULIRZID/X0BAgIYPH67hw4crKSlJ7dq1U3h4uD3I5PTGWbNmTW3cuFGJiYkO//v++eef7fMz/tpsNp04ccLh+1COHTuW5xovXbqk6OhoRURE6Nlnn7VPL8hHYgWRsQ2xsbH2PQuSdO7cOV2+fNm+rflRr1493XbbbVq9erVeffXVbD9iev/99yVdO/g5Q4UKFXT58uUsY0+ePOkQeOrUqaMDBw6oc+fONw1gLi4u6ty5szp37qy5c+fqxRdf1NSpU7V582aFhobmK8Dl9XFRHPLTg7wIDAyUp6dnto/d7KYVxjpvdt+g7OKjJUDKcupy+fLlVbduXYdTUzO+w+XGN8/77rtP6enpeuONNxymz5s3TxaLxX7MQNeuXSVJb775psO4119/Pc91ZvzP88b/Gc+fPz/Py/gn7rvvvmzXl/E//dzOwMrN9OnTdenSJY0aNUrp6ekO8/bs2aPZs2erWbNmDsdf1KlTR7t27dLVq1ft09asWaPffvvN4fb9+/fX6dOn9c4772RZ719//aXk5GRJyvbbgzO+9C7jcZDTYyA7eX1cFIe89iCvXF1dFRoaqtWrV+vMmTP26ceOHcty7I90rW956VlO8nLfoOxijwygax9vdOjQQS1atFBAQIBiYmL02WefafTo0fYxLVq0kCSNGTNGXbt2laurqx5++GH16NFDHTt21NSpU/Xrr7+qadOm2rBhgz7//HONGzfOftBkixYt1K9fP82fP18XLlywn3599OhRSXn7X6uvr6/atWunl156SWlpabrlllu0YcMGnThxogi6klXTpk01dOhQvf3227p8+bLat2+v7777TsuWLVPv3r3VsWPHAi134MCBiomJ0dy5c/XTTz9p8ODBqlChgvbu3av33ntPlStX1meffebwZXiPP/64PvvsM3Xr1k39+/fX8ePH9eGHH2Y5tXfIkCH69NNPNWrUKG3evFlt2rRRenq6fv75Z3366adav369WrZsqRkzZmjbtm26//77VbNmTZ0/f15vvvmmqlWrZv8Onzp16sjf31+LFi2Sj4+PypUrp7vuuivbY5ny+rgoLNHR0UpJSckyvXfv3nnuQX6Eh4drw4YNatOmjZ544gl7aGvcuHGWn3Bo0aKFNm7cqLlz5yo4OFi1a9fWXXfdled15eW+QRnmvBOmgMKRcfr1999/n+389u3b3/T06+eff95o3bq14e/vb3h5eRkNGjQwXnjhBePq1av2MX///bfx1FNPGZUrVzYsFovDKaaJiYnG+PHjjeDgYMPd3d2oV6+e8fLLLxs2m81hvcnJyUZYWJgREBBglC9f3ujdu7dx5MgRQ5LD6dAZp6Vmd7rp77//bvTp08fw9/c3/Pz8jIceesg4c+ZMjqdw37iMnE6Lzq5P2UlLSzMiIiKM2rVrG+7u7kb16tWNKVOmGCkpKXlaT26++OILIzQ01PD393c4dT4+Pj7b8XPmzDFuueUWw2q1Gm3atDFiYmKynH5tGIZx9epVY/bs2UajRo0Mq9VqVKhQwWjRooURERFhX3Z0dLTRq1cvIzg42PDw8DCCg4ONgQMHGkePHnVY1ueff27cfvvt9tOMM07FvvH0a8PI++NCkhEWFpZl+3I6xfx6Gadf53T54IMP8tyD/NYSHR1tNGvWzPDw8DDq1KljvPvuu8bEiRMNT09Ph3E///yz0a5dO8PLy8uQZF9OTo/RjOf0iRMn7OvJy32DssliGEV09BaAPNm/f7+aNWumDz/8UIMHD3Z2OSXK448/rsWLF+udd95x6kHXyLvevXsX+KsMgILgGBmgGP31119Zps2fP18uLi43/Ubdsuitt97SAw88oCeeeML+HTYoOW58PMfGxurrr7/O8hMRQFFijwxQjCIiIrRnzx517NhRbm5uWrt2rdauXauRI0fqrbfecnZ5QL5UrVrV/rtfJ0+e1MKFC5Wamqp9+/Y5/ZfKUXYQZIBiFBUVpYiICP30009KSkpSjRo1NGTIEE2dOrXE/qozkJPhw4dr8+bNOnv2rKxWq0JCQvTiiy+qefPmzi4NZQhBBgAAmBbHyAAAANMiyAAAANMq9R/K22w2nTlzRj4+PoX6+zAAAKDoGIahxMREBQcHy8Ul5/0upT7InDlzJssPogEAAHP47bffVK1atRznl/ogk/FjbSdOnNDOnTt17733yt3d3clVOV9aWpo2bNhAP0QvrkcvMtELR/QjE73IVJS9SEhIUPXq1bP9Idnrlfogk/Fxko+Pj7y9veXr61vmH3jStQcf/biGXmSiF5nohSP6kYleZCqOXtz0V+uLZK0AAADFgCADAABMiyADAABMiyADAABMiyADAABMiyADAABMiyADAABMiyADAABMiyADAABMiyADAABMy6lBZuHChWrSpIl8fX3l6+urkJAQrV271j4/JSVFYWFhqlixosqXL69+/frp3LlzTqwYAACUJE4NMtWqVdOsWbO0Z88excTEqFOnTurVq5cOHTokSRo/fry+/PJLrVixQlu3btWZM2fUt29fZ5YMAABKEKf+aGSPHj0crr/wwgtauHChdu3apWrVqmnx4sWKjIxUp06dJElLlixRw4YNtWvXLt19993OKBkAAJQgJeYYmfT0dH3yySdKTk5WSEiI9uzZo7S0NIWGhtrHNGjQQDVq1NDOnTudWCkAACgpnLpHRpJ++OEHhYSEKCUlReXLl9eqVat0++23a//+/fLw8JC/v7/D+CpVqujs2bM5Li81NVWpqan26wkJCZKu/dT49X/LOvqRiV5koheZ6IUj+pGJXmQqyl7kdZkWwzCMQl97Ply9elWnTp1SfHy8PvvsM7377rvaunWr9u/fr+HDhzuEEklq3bq1OnbsqNmzZ2e7vPDwcEVERGSZHhkZKW9v7yLZBgAAULiuXLmiQYMGKT4+Xr6+vjmOc3qQuVFoaKjq1KmjAQMGqHPnzrp06ZLDXpmaNWtq3LhxGj9+fLa3z26PTPXq1RUXF6fdu3erS5cucnd3L+rNKPHS0tIUFRVlmn40Dl9fZMu2uhh6rqVN02JclGqzFNl6zGDf1E6melwUJbM9R4oa/chELzIVZS8SEhJUqVKlmwYZp3+0dCObzabU1FS1aNFC7u7uio6OVr9+/SRJR44c0alTpxQSEpLj7a1Wq6xWa5bpGQ12d3cv8w+865mlH6npRR8wUm2WYllPScbzJCt64Yh+ZKIXmYqiF3ldnlODzJQpU9S9e3fVqFFDiYmJioyM1JYtW7R+/Xr5+flpxIgRmjBhggICAuTr66unnnpKISEhnLEEAAAkOTnInD9/Xo8++qji4uLk5+enJk2aaP369erSpYskad68eXJxcVG/fv2Umpqqrl276s0333RmyQAAoARxapBZvHhxrvM9PT21YMECLViwoJgqAgAAZlJivkcGAAAgvwgyAADAtAgyAADAtAgyAADAtAgyAADAtAgyAADAtAgyAADAtAgyAADAtAgyAADAtAgyAADAtAgyAADAtAgyAADAtAgyAADAtAgyAADAtAgyAADAtAgyAADAtAgyAADAtAgyAADAtAgyAADAtAgyAADAtAgyAADAtAgyAADAtAgyAADAtAgyAADAtAgyAADAtAgyAADAtAgyAADAtAgyAADAtAgyAADAtAgyAADAtAgyAADAtAgyAADAtAgyAADAtAgyAADAtAgyAADAtAgyAADAtAgyAADAtAgyAADAtAgyAADAtAgyAADAtAgyAADAtAgyAADAtAgyAADAtAgyAADAtAgyAADAtAgyAADAtAgyAADAtAgyAADAtJwaZGbOnKlWrVrJx8dHgYGB6t27t44cOeIwpkOHDrJYLA6XUaNGOaliAABQkjg1yGzdulVhYWHatWuXoqKilJaWpnvvvVfJyckO4/79738rLi7OfnnppZecVDEAAChJ3Jy58nXr1jlcX7p0qQIDA7Vnzx61a9fOPt3b21tBQUHFXR4AACjhnBpkbhQfHy9JCggIcJj+0Ucf6cMPP1RQUJB69OihadOmydvbO9tlpKamKjU11X49ISFBkpSWlubwt6wzWz+srkbRLdvFcPhblpntcVGU6IUj+pGJXmQqyl7kdZkWwzBKxKu3zWZTz549dfnyZe3YscM+/e2331bNmjUVHBysgwcP6plnnlHr1q21cuXKbJcTHh6uiIiILNMjIyNzDD8AAKBkuXLligYNGqT4+Hj5+vrmOK7EBJknnnhCa9eu1Y4dO1StWrUcx23atEmdO3fWsWPHVKdOnSzzs9sjU716dcXFxWn37t3q0qWL3N3di2QbzCQtLU1RUVGm6Ufj8PVFtmyri6HnWto0LcZFqTZLka3HDPZN7WSqx0VRMttzpKjRj0z0IlNR9iIhIUGVKlW6aZApER8tjR49WmvWrNG2bdtyDTGSdNddd0lSjkHGarXKarVmmZ7RYHd39zL/wLueWfqRml70ASPVZimW9ZRkPE+yoheO6EcmepGpKHqR1+U5NcgYhqGnnnpKq1at0pYtW1S7du2b3mb//v2SpKpVqxZxdQAAoKRzapAJCwtTZGSkPv/8c/n4+Ojs2bOSJD8/P3l5een48eOKjIzUfffdp4oVK+rgwYMaP3682rVrpyZNmjizdAAAUAI4NcgsXLhQ0rUvvbvekiVLNGzYMHl4eGjjxo2aP3++kpOTVb16dfXr10//+9//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" alt="" class="img_ev3q"></p>
<p>In addition to visual representation, we also want to look at more concrete percentile values.</p>
<div style="flex-grow:1;min-width:0;margin-top:var(--padding-md);width:100%"><div class="codeBlock_oJcR language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># Calculating percentile values</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">p10 </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token builtin">int</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">question_len</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;length&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">quantile</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">0.10</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">p90 </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token builtin">int</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">question_len</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;length&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">quantile</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">0.90</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;p10-p90 range is&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> p90 </span><span class="token operator" style="color:#393A34">-</span><span class="token plain"> p10</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div>
<pre style="margin:0;border-radius:0;background:none;font-size:0.85rem;flex-grow:1;padding:var(--padding-sm)">p10-p90 range is 46</pre>
<p>There are also a couple queries that are longer than normal. However, these seem fine.</p>
<div style="flex-grow:1;min-width:0;margin-top:var(--padding-md);width:100%"><div class="codeBlock_oJcR language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">q </span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> q </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> questions </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token builtin">len</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">q</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">100</span><span class="token punctuation" style="color:#393A34">]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div>
<pre style="margin:0;border-radius:0;background:none;font-size:0.85rem;flex-grow:1;padding:var(--padding-sm)">[&#x27;What is a common configuration for lowering the total memory pressure for pytorch models within transformers pipelines?&#x27;,
&#x27;How can you get all active runs from experiments IDs 3, 4, and 17 that used a CNN model with 10 layers and had a prediction accuracy of 94.5% or higher?&#x27;,
&#x27;What interfaces does the MLflow client use to record MLflow entities and artifacts when running MLflow on a local machine with a SQLAlchemy-compatible database?&#x27;]</pre>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="latent-space">Latent Space<a href="#latent-space" class="hash-link" aria-label="Direct link to Latent Space" title="Direct link to Latent Space">​</a></h4>
<p>Latent space embeddings contain semantic information about the question. This can be used to
evaluate the diversity and the difference between two questions semantically. To do so, we will need to map the
high dimensional space to a lower dimensional space. We utilize PCA and TSNE to map the embeddings
into a 2-dimensional space for visualization.</p>
<p>We append 5 benchmark queries to help visualize how diverse the questions are. The first four of these questions are semantically similar and all asking about MLflow, while the last is different and asks about RAG.</p>
<div style="flex-grow:1;min-width:0;margin-top:var(--padding-md);width:100%"><div class="codeBlock_oJcR language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">benchmark_questions </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token string" style="color:#e3116c">&quot;What is MLflow?&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token string" style="color:#e3116c">&quot;What is MLflow about?&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token string" style="color:#e3116c">&quot;What is MLflow Tracking?&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token string" style="color:#e3116c">&quot;What is MLflow Evaluation?&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token string" style="color:#e3116c">&quot;Why is RAG so popular?&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">questions_to_embed </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> questions </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> benchmark_questions</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div>
<p>We apply PCA to reduce the embedding dimensions to 10 before applying TSNE to reduce it to 2 dimensions, as recommended by sklearn due to the computational complexity of TSNE.</p>
<div style="flex-grow:1;min-width:0;margin-top:var(--padding-md);width:100%"><div class="codeBlock_oJcR language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># Apply embeddings</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">embeddings </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> OpenAIEmbeddings</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">question_embeddings </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> embeddings</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">embed_documents</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">questions_to_embed</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># PCA on embeddings to reduce to 10-dim</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pca </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> PCA</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">n_components</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">10</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">question_embeddings_reduced </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> pca</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">fit_transform</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">question_embeddings</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># TSNE on embeddings to reduce to 2-dim</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">tsne </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> TSNE</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">n_components</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> random_state</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">SEED</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">lower_dim_embeddings </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> tsne</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">fit_transform</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">question_embeddings_reduced</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div>
<p>Now that we have 2-dimensional embeddings representing the semantics of the question, we can visualize it with a scatter plot, differentiating the generated questions and the benchmark questions.</p>
<div style="flex-grow:1;min-width:0;margin-top:var(--padding-md);width:100%"><div class="codeBlock_oJcR language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">labels </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> np</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">concatenate</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      np</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">full</span><span class="token punctuation" style="color:#393A34">(</span><span class="token builtin">len</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">lower_dim_embeddings</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-</span><span class="token plain"> </span><span class="token builtin">len</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">benchmark_questions</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;generated&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      np</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">full</span><span class="token punctuation" style="color:#393A34">(</span><span class="token builtin">len</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">benchmark_questions</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;benchmark&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">data </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> pd</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">DataFrame</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">{</span><span class="token string" style="color:#e3116c">&quot;x&quot;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> lower_dim_embeddings</span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">:</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;y&quot;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> lower_dim_embeddings</span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">:</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;label&quot;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> labels</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sns</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">scatterplot</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">data</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">data</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> x</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;x&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> y</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;y&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> hue</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;label&quot;</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div>
<p><img decoding="async" loading="lazy" src="data:image/png;base64,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NBoNkpOTMW3atHrt5eXluP7666HX69GpUyd8+eWXgbY1a9ZAJpNh5cqV6Nu3L3Q6HS699FKUlpbiu+++Q9euXWE2m3HLLbegrq4u8Ljvv/8eF110EaKiohAbG4trrrkGhw8fDrQfPXoUMpkMH374IYYPHw6tVotly5Y1+P2UlZVhwIABuP766+Fyuc7rd01E58fj84tdAklYRIWaP/L7/eHzJuWoAr6YBhz5qf71w6uBL+9r1R6bpUuXQqlUYvPmzXjppZfwwgsv4K233gIATJs2DRs3bsSKFSuwa9cujB07FldccQUOHToUeHxdXR2ee+45vPfee1i3bh3y8/Mxe/bsQPuiRYswdepU3HXXXdi9eze+/PJLdOzYsV4Njz/+OG666Sbs2rULV111FSZMmIDKysp69/nHP/6BV199FRs2bEBBQQFuuukmLFy4EMuXL8c333yDH374Aa+88krg/na7HbNmzcKWLVuwevVqyOVyXH/99fD7678ozp07FzNmzMC+ffswevToem0FBQUYNmwYevTogU8++QQajeb8ftlEdNbcXh/yymrxwg8H8Ndl27BoTS6OVdjhZcChliZEiLlz5wpr164V8vLyhF27dglz584VZDKZ8MMPPzT7OaxWqwBAsFqtDdocDoewd+9eweFwnFuBZQcE4TFz8FvZgXN73jMYPny40LVrV8Hv9weuPfjgg0LXrl2FY8eOCQqFQigsLKz3mJEjRwrz5s0TBEEQFi9eLAAQcnNzA+3/+te/hMTExMDXKSkpwkMPPRS0BgDCww8/HPi6trZWACB89913giAIws8//ywAEFatWhW4z/z58wUAwuHDhwPX7r77bmH06NFBv09ZWZkAQNi9e7cgCIKQl5cnABAWLlxY736LFy8WLBaLsH//fiE9PV2YPn16vd9PY87735+IGuXx+oRfDpYKHf/+jZD54NeBW5eHvxN25FeJXR5FiKbev08XMT01paWlmDhxIrKzszFy5Ejk5ORg5cqVuOyyy8Qu7STnGVZWnan9PFxwwQWQyWSBr4cMGYJDhw5h9+7d8Pl86Ny5M4xGY+C2du3aesM4er0eHTp0CHydnJyM0tJSACd/70VFRRg5cmSTNfTq1Svw3waDAWazOfAcjd0nMTERer0e7du3r3ft9MccOnQI48ePR/v27WE2m5GVlQUAyM/Pr/e8AwYM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g9hltbrhw4cLM2bMELuMFjVu3DghOTlZUKvVQmpqqjBu3DghNzdX7LJa3FdffSX06NFD0Gg0QpcuXYQ33nhD7JJa3MqVKwUAwoEDB8QupVXYbDZhxowZQkZGhqDVaoX27dsLDz30kOByucQurdXIBEHCWwsSERFRm8F9aoiIiEgSGGqIiIhIEhhqiIiISBIYaoiIiEgSGGqIiIhIEhhqiIiISBIYaoiIiEgSGGqIiIhIEhhqiIiISBIYaoiIiEgSGGqIKGKVlZUhKSkJTz/9dODahg0boFarsXr1ahErIyIx8OwnIopo3377La677jps2LAB2dnZ6NOnD6699lq88MILYpdGRCHGUENEEW/q1KlYtWoVBgwYgN27dyMnJwcajUbssogoxBhqiCjiORwO9OjRAwUFBdi6dSt69uwpdklEJALOqSGiiHf48GEUFRXB7/fj6NGjYpdDRCJhTw0RRTS3241BgwahT58+yM7OxsKFC7F7924kJCSIXRoRhRhDDRFFtDlz5uCTTz7Bzp07YTQaMXz4cFgsFnz99ddil0ZEIcbhJyKKWGvWrMHChQvx3nvvwWw2Qy6X47333sMvv/yCRYsWiV0eEYUYe2qIiIhIEthTQ0RERJLAUENERESSwFBDREREksBQQ0RERJLAUENERESSwFBDREREksBQQ0RERJLAUENERESSwFBDREREksBQQ0RERJLAUENERESSwFBDREREkvD/c9rS4Li2wfYAAAAASUVORK5CYII=" alt="" class="img_ev3q"></p>
<p>Observe that within the orange points on the scatter plot, there is one point that is further than the others. That is the unique benchmark question about RAG. This plot gives a sense of the diversity of the questions generated.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="evaluate-document-relevance">Evaluate Document Relevance<a href="#evaluate-document-relevance" class="hash-link" aria-label="Direct link to Evaluate Document Relevance" title="Direct link to Evaluate Document Relevance">​</a></h3>
<p>Another important axis to consider is how relevant the questions are to the document we provided. We want to understand whether the questions generated by the LLM is actually referring to our provided text, or whether it is hallucinating irrelevant questions. We will evaluate relevance by first manually checking certain questions against their document chunk. Then, we define a measure of relevance to analyze it quantitatively.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="manual-checking-of-document-relevance">Manual Checking of Document Relevance<a href="#manual-checking-of-document-relevance" class="hash-link" aria-label="Direct link to Manual Checking of Document Relevance" title="Direct link to Manual Checking of Document Relevance">​</a></h4>
<p>Manual qualitative check of whether the questions are relevant to the document.</p>
<div style="flex-grow:1;min-width:0;margin-top:var(--padding-md);width:100%"><div class="codeBlock_oJcR language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">all_result_df</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">sample</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">3</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div>
<div style="flex-grow:1;min-width:0;font-size:0.8rem;width:100%"><div><div>
<style scoped>
  .dataframe tbody tr th:only-of-type {
      vertical-align: middle;
  }

  .dataframe tbody tr th {
      vertical-align: top;
  }

  .dataframe thead th {
      text-align: right;
  }
</style>
<table border="1" class="dataframe">
<thead>
  <tr style="text-align: right;">
    <th></th>
    <th>question</th>
    <th>answer</th>
    <th>chunk</th>
    <th>chunk_id</th>
    <th>source</th>
  </tr>
</thead>
<tbody>
  <tr>
    <th>27</th>
    <td>What is an MLflow Project?</td>
    <td>An MLflow Project is a format for packaging da...</td>
    <td>Documentation MLflow Projects MLflow Projects ...</td>
    <td>0</td>
    <td>projects.html</td>
  </tr>
  <tr>
    <th>54</th>
    <td>What information does autologging capture when...</td>
    <td>Autologging captures the following information...</td>
    <td>when launching short-lived MLflow runs that re...</td>
    <td>21</td>
    <td>tracking.html</td>
  </tr>
  <tr>
    <th>38</th>
    <td>What is the syntax for searching runs using th...</td>
    <td>The syntax for searching runs using the MLflow...</td>
    <td>Documentation Search Runs Search Runs The MLfl...</td>
    <td>0</td>
    <td>search-runs.html</td>
  </tr>
</tbody>
</table>
</div></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="embeddings-cosine-similarity">Embeddings Cosine Similarity<a href="#embeddings-cosine-similarity" class="hash-link" aria-label="Direct link to Embeddings Cosine Similarity" title="Direct link to Embeddings Cosine Similarity">​</a></h4>
<p>The embedding of the chunk and query is placed in the same latent space, and the retriever model would extract similar chunk embeddings to a query embedding. Hence, relevance for the retriever is defined by the distance of embeddings in this latent space.</p>
<p>Cosine similarity is a measure of vector similarity, and can be used to determine the distance of embeddings between the chunk and the query. It is a distance metric that approaches 1 when the question and chunk are similar, and becomes 0 when they are different.</p>
<p>We can use the cosine similarity score directly to measure the relevancy.</p>
<div style="flex-grow:1;min-width:0;margin-top:var(--padding-md);width:100%"><div class="codeBlock_oJcR language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">embedded_queries </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> all_result_df</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">copy</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">embedded_queries</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;chunk_emb&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> all_result_df</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;chunk&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">.</span><span class="token builtin">apply</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">lambda</span><span class="token plain"> x</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> np</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">squeeze</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">cached_langchain_openai_embeddings</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">chunk</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">x</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> cache</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">embeddings_cache</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">embedded_queries</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;question_emb&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> all_result_df</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;question&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">.</span><span class="token builtin">apply</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">lambda</span><span class="token plain"> x</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> np</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">squeeze</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">cached_langchain_openai_embeddings</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">chunk</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">x</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> cache</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">embeddings_cache</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div>
<div style="flex-grow:1;min-width:0;margin-top:var(--padding-md);width:100%"><div class="codeBlock_oJcR language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">cossim</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">x</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> y</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> np</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">dot</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">x</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> y</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">/</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">np</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">linalg</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">norm</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">x</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> np</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">linalg</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">norm</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">y</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">embedded_queries</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;cossim&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> embedded_queries</span><span class="token punctuation" style="color:#393A34">.</span><span class="token builtin">apply</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">lambda</span><span class="token plain"> row</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> cossim</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">row</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;question_emb&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> row</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;chunk_emb&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> axis</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div>
<p>After we score each question by its relative relevancy, we can evaluate the generated questions as a whole.</p>
<div style="flex-grow:1;min-width:0;margin-top:var(--padding-md);width:100%"><div class="codeBlock_oJcR language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">scores </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> embedded_queries</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;cossim&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">to_list</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">plt</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">hist</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">scores</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> bins</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">5</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div>
<pre style="margin:0;border-radius:0;background:none;font-size:0.85rem;flex-grow:1;padding:var(--padding-sm)">(array([ 1.,  8., 15., 20., 12.]),
array([0.72730601, 0.76292693, 0.79854785, 0.83416876, 0.86978968,
      0.9054106 ]),
&lt;BarContainer object of 5 artists&gt;)</pre>
<p><img decoding="async" loading="lazy" src="data:image/png;base64,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uKEWjt7/2Zw5c/TRRx9p69atuu6661qtJS0tTZL8PxeXQ7j7vyAuLk433nhjwM98V7/2R44c0ebNm9v8My9dvmvfnt7j4+O1fv161dXV6ciRIzp48KCuvvpqDRw4sM1r2nDdL+j0gSUqKkqpqakqKiryH2tsbFRRUZHS09Nbnbtu3TrV19frxz/+cZNzF8LKoUOHtHnzZvXq1euitZSWlioiIqLJSyXhFK7+/9WxY8d06tQpJSUlSZLS09NVU1OjkpIS/5gtW7aosbHR/4McbuHuffny5UpNTVVKSspFa7nc1749vZ85cybgS0clKTIyUpJkjGnTmqmpqerevXvAmLKyMlVVVV3033mohKP3C/+cM2eOPvjgA23ZskUDBgy4aC2lpaWS5P+5uBzC1f+/qq2tVUVFhb+3rnztL1i5cqX69OkT8DEHLbnc1/5S/nsXHR2ta6+9Vt98841++9vfasKECW1e04br7ndZb/ENkzVr1hin02kKCgrMX//6V/P444+buLg44/F4jDHGPPLII2b+/PlN5o0ePdpMmTKlyfFz586ZH/zgB+a6664zpaWlAW9jq6+vN8YYs2vXLvPGG2+Y0tJSU1FRYVatWmXi4+PNtGnTwttsM0Ld/+nTp83cuXNNcXGxqaysNJs3bza33nqrueGGG8zZs2f948aNG2duueUWs2fPHrNz505zww03dMjbmkPZ+wVer9d85zvfMcuWLWtyzpZrH2zvCxYsMDExMeY3v/mN+fzzz83HH39sBg0aZB566KE2r2nMt29x7Nu3r9myZYvZt2+fSU9PN+np6Zev8TbU2Z7en3zySeNyucy2bdsCfubPnDljjDGmvLzcvPLKK2bfvn2msrLSfPjhh2bgwIHm7rvvvqy9GxOe/p999lmzbds2U1lZaf73f//XZGRkmN69e5sTJ074x3TVa2/Mt++O6du3r5k3b16Tx7Tl2gfb++7du81vf/tbU1FRYXbs2GG+973vmQEDBpivv/66zWsaY8d1N6aLvK3ZGGP+8z//0/Tt29dERUWZkSNHmt27d/vP3XPPPWb69OkB4w8ePGgkmY8//rjJWpWVlUZSs9uF9+WXlJSYtLQ043K5THR0tBk6dKh59dVXA36hX06h7P/MmTPmvvvuM/Hx8aZ79+6mX79+Zvbs2QF/gY359jNNsrOzzdVXX21iY2PNzJkzzenTp8PSX2tC2fsF//Vf/2V69Ohhampqmpyz6doH03tDQ4NZuHChGTRokImOjjbJycnmJz/5ScB/vC62pjHG/P3vfzc/+clPzDXXXGO+853vmEmTJpnjx4+Hs81mhbr3ln7mL3xGT1VVlbn77rtNz549jdPpNNdff7157rnnOuRzWIwJff9TpkwxSUlJJioqylx77bVmypQppry8POAxu+q1N8aYP/7xj0aSKSsra/J4Nl37YHrftm2bGTp0qHE6naZXr17mkUceafZjJzrLz7zDmBaeDwQAALBEp7+HBQAAdH0EFgAAYD0CCwAAsB6BBQAAWI/AAgAArEdgAQAA1iOwAAAA6xFYAACA9QgsAADAegQWAABgPQILAACwHoEFAABY7/8B/LGMkVz+gYoAAAAASUVORK5CYII=" alt="" class="img_ev3q"></p>
<p>There are a couple lower scores. Let&#x27;s take a look at them.</p>
<div style="flex-grow:1;min-width:0;margin-top:var(--padding-md);width:100%"><div class="codeBlock_oJcR language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">mask </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> embedded_queries</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;cossim&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0.75</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">lower_cossim </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> embedded_queries</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">mask</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> i</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> row </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> lower_cossim</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">iterrows</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string-interpolation string" style="color:#e3116c">f&quot;Question: </span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">{</span><span class="token string-interpolation interpolation">i</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">}</span><span class="token string-interpolation string" style="color:#e3116c">&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">row</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;question&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;Chunk:&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">row</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;chunk&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;cossim:&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">row</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;cossim&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div>
<pre style="margin:0;border-radius:0;background:none;font-size:0.85rem;flex-grow:1;padding:var(--padding-sm)">Question: 45
What is the purpose of the &#x27;experimentIds&#x27; variable in the given paragraph?
Chunk:
API. List&lt;Long&gt; experimentIds = Arrays.asList(&quot;1&quot;, &quot;2&quot;, &quot;4&quot;, &quot;8&quot;); List&lt;RunInfo&gt; searchResult = client.searchRuns(experimentIds, &quot;metrics.accuracy_score &lt; 99.90&quot;); Previous Next © MLflow Project, a Series of LF Projects, LLC. All rights reserved.
cossim:
0.7273060141018568</pre>
<p>Manual inspection of these less relevant questions reveals that some chunks are less informative or mainly consists of code, hence the generated question might be less useful. You can choose to filter these as desired.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/mlflow/mlflow/edit/master/docs/docs/llms/rag/notebooks/question-generation-retrieval-evaluation.ipynb" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#step-1-install-and-load-packages" class="table-of-contents__link toc-highlight">Step 1: Install and Load Packages</a></li><li><a href="#step-2-set-openai-key" class="table-of-contents__link toc-highlight">Step 2: Set OpenAI Key</a></li><li><a href="#step-3-decide-on-chunk-size" class="table-of-contents__link toc-highlight">Step 3: Decide on Chunk Size</a></li><li><a href="#step-4-prepare-document-data" class="table-of-contents__link toc-highlight">Step 4: Prepare Document Data</a><ul><li><a href="#scrape-the-documents-from-the-mlflow-website" class="table-of-contents__link toc-highlight">Scrape the documents from the MLflow website</a></li><li><a href="#select-a-subset-of-the-documents-and-split-them-into-chunks" class="table-of-contents__link toc-highlight">Select a subset of the documents and split them into chunks</a></li></ul></li><li><a href="#step-5-generate-questions" class="table-of-contents__link toc-highlight">Step 5: Generate questions</a></li><li><a href="#quality-analysis-of-questions-generated-optional" class="table-of-contents__link toc-highlight">Quality Analysis of Questions Generated (Optional)</a><ul><li><a href="#evaluating-diversity-of-questions" class="table-of-contents__link toc-highlight">Evaluating Diversity of Questions</a></li><li><a href="#evaluate-document-relevance" class="table-of-contents__link toc-highlight">Evaluate Document Relevance</a></li></ul></li></ul></div></div></div></div></main></div></div></div><footer class="footer"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://stackoverflow.com/questions/tagged/mlflow" target="_blank" rel="noopener noreferrer" class="footer__link-item">Stack Overflow<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://www.linkedin.com/company/mlflow-org" target="_blank" rel="noopener noreferrer" class="footer__link-item">LinkedIn<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://x.com/mlflow" target="_blank" rel="noopener noreferrer" class="footer__link-item">X<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">Resources</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs/latest/">Docs</a></li><li class="footer__item"><a href="https://mlflow.org/releases" target="_blank" rel="noopener noreferrer" class="footer__link-item">Releases</a></li><li class="footer__item"><a href="https://mlflow.org/blog" target="_blank" rel="noopener noreferrer" class="footer__link-item">Blog</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2025 MLflow Project, a Series of LF Projects, LLC.</div></div></div></footer></div>
</body>
</html>