
  

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Searching Experiments &mdash; MLflow 2.9.3.dev0 documentation</title>
  
   
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
  <link rel="canonical" href="https://mlflow.org/docs/latest/getting-started/logging-first-model/step4-experiment-search.html">
  
  
    <link rel="shortcut icon" href="../../_static/favicon.ico"/>
    

    

  
    

  

  
  
    

  

  
  
    <link href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,600" rel="stylesheet">
    <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/css/custom.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/css/cards.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/css/grids.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/css/mobile.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/css/simple-cards.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/css/tabs.css" type="text/css" />
    
  
        <link rel="index" title="Index"
              href="../../genindex.html"/>
        <link rel="search" title="Search" href="../../search.html"/>
    <link rel="top" title="MLflow 2.9.3.dev0 documentation" href="../../index.html"/>
        <link rel="up" title="Tutorial Overview" href="index.html"/>
        <link rel="next" title="Create a dataset about apples" href="/step5-synthetic-data.html"/>
        <link rel="prev" title="Creating Experiments" href="/step3-create-experiment.html"/> 

  
  <script src="../../_static/js/modernizr.min.js"></script>

</head>
<script type="text/javascript" src="../../_static/jquery.js"></script>
<script type="text/javascript" src="../../_static/underscore.js"></script>
<script type="text/javascript" src="../../_static/doctools.js"></script>
<script type="text/javascript" src="../../_static/languagesections.js"></script>
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/@jupyter-widgets/html-manager@^1.0.1/dist/embed-amd.js"></script>

<body class="wy-body-for-nav" role="document">
  

  
  <nav class="wy-nav-top header" role="navigation" aria-label="top navigation">
    <ul>
  <li class="menu-toggle">
    <i data-toggle="wy-nav-top" class="wy-nav-top-menu-button db-icon db-icon-menu pull-left"></i>
    <a href="../../index.html" class="wy-nav-top-logo"
      ><img src="../../_static/MLflow-logo-final-black.png" alt="MLflow"
    /></a>
    <span class="version">2.9.3.dev0</span>
  </li>
</ul>
  </nav>
  <page>
    

    <nav data-toggle="wy-nav-shift" class="wy-nav-side relative">
      <div class="wy-side-scroll">
  <div class="wy-side-nav-search">
    

    

    
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
  <input type="text" name="q" placeholder="Search" />
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
  </form>
</div>


    
  </div>

  <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
    
      <a href="../../index.html" class="main-navigation-home"><img src="../../_static/icons/nav-home.svg"> MLflow</a>
    

    
      

      
        <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../introduction/index.html">What is MLflow?</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">Getting Started with MLflow</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../index.html#guidance-on-running-tutorials">Guidance on Running Tutorials</a></li>
<li class="toctree-l2"><a class="reference internal" href="../index.html#getting-started-guides">Getting Started Guides</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../index.html#further-learning-what-s-next">Further Learning - What’s Next?</a><ul class="current">
<li class="toctree-l3 current"><a class="reference internal" href="index.html">Tutorial Overview</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="step1-tracking-server.html">Starting the MLflow Tracking Server</a></li>
<li class="toctree-l4"><a class="reference internal" href="step2-mlflow-client.html">Using the MLflow Client API</a></li>
<li class="toctree-l4"><a class="reference internal" href="step3-create-experiment.html">Creating Experiments</a></li>
<li class="toctree-l4 current"><a class="current reference internal" href="#">Searching Experiments</a></li>
<li class="toctree-l4"><a class="reference internal" href="step5-synthetic-data.html">Create a dataset about apples</a></li>
<li class="toctree-l4"><a class="reference internal" href="step6-logging-a-run.html">Logging our first runs with MLflow</a></li>
<li class="toctree-l4"><a class="reference internal" href="notebooks/index.html">Logging Your First MLflow Model Notebook</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../new-features/index.html">New Features</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../llms/index.html">LLMs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../model-evaluation/index.html">Model Evaluation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../deep-learning/index.html">Deep Learning</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../traditional-ml/index.html">Traditional ML</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../deployment/index.html">Deployment</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../tracking.html">MLflow Tracking</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../system-metrics/index.html">System Metrics</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../projects.html">MLflow Projects</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../models.html">MLflow Models</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../model-registry.html">MLflow Model Registry</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../recipes.html">MLflow Recipes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../plugins.html">MLflow Plugins</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../auth/index.html">MLflow Authentication</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../cli.html">Command-Line Interface</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../search-runs.html">Search Runs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../search-experiments.html">Search Experiments</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../python_api/index.html">Python API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../R-api.html">R API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../java_api/index.html">Java API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../rest-api.html">REST API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../docker.html">Official MLflow Docker Image</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../community-model-flavors.html">Community Model Flavors</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../tutorials-and-examples/index.html">Tutorials and Examples</a></li>
</ul>

      
    
  </div>

  <div role="contentinfo">
    

    <p>
      <a id='feedbacklink' href="https://github.com/mlflow/mlflow/blob/master/CONTRIBUTING.md" target="_blank">Contribute</a>
    </p>
  </div>
</div>
    </nav>

    <main class="wy-grid-for-nav">
      <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
        <div class="wy-nav-content">
          <div class="rst-content">
            










<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../../index.html">Documentation</a> <span class="db-icon db-icon-chevron-right"></span></li>
    
        <li><a href="../index.html">Getting Started with MLflow</a> <span class="db-icon db-icon-chevron-right"></span></li>
    
        <li><a href="index.html">Tutorial Overview</a> <span class="db-icon db-icon-chevron-right"></span></li>
    
    
      <li>Searching Experiments</li>
    
    
    <!-- <li class="wy-breadcrumbs-aside">
      <a href="https://github.com/mlflow/mlflow/blob/master/docs/source/getting-started/logging-first-model/step4-experiment-search.rst" class="fa fa-github"> Edit on GitHub</a>
    </li> -->
    
  </ul>
</div>
            <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
              <div itemprop="articleBody">
                
  <div class="section" id="searching-experiments">
<h1>Searching Experiments<a class="headerlink" href="#searching-experiments" title="Permalink to this headline"> </a></h1>
<p>In the last section, we created our first MLflow Experiment, providing custom tags so that we can find
co-related Experiments that are part of a larger project.</p>
<p>In this brief section, we’re going to see how to perform those searches with the MLflow Client API.</p>
<p>Before we perform the search, let’s take a look at our <code class="docutils literal notranslate"><span class="pre">Apple_Models</span></code> experiment in the UI.</p>
<div class="section" id="seeing-our-new-experiment-in-the-ui">
<h2>Seeing our new Experiment in the UI<a class="headerlink" href="#seeing-our-new-experiment-in-the-ui" title="Permalink to this headline"> </a></h2>
<p>As before, we’re going to connect to our running MLflow Tracking server to view the MLflow UI. If you’ve closed the browser
window that was running it, simply navigate to <code class="docutils literal notranslate"><span class="pre">http://127.0.0.1:8080</span></code> in a new browser window.</p>
<div class="figure align-center" id="id1">
<a class="reference internal image-reference" href="../../_images/first-experiment-ui.gif"><img alt="View our new experiment in the UI" src="../../_images/first-experiment-ui.gif" style="width: 1024px;" /></a>
<p class="caption"><span class="caption-text">The “Apple_Models” Experiment in the MLflow UI</span><a class="headerlink" href="#id1" title="Permalink to this image"> </a></p>
</div>
<div class="section" id="important-components-to-be-aware-of-in-the-ui">
<h3>Important components to be aware of in the UI<a class="headerlink" href="#important-components-to-be-aware-of-in-the-ui" title="Permalink to this headline"> </a></h3>
<p>There are some important elements in the UI to be aware of at this point, before we start adding more exciting things like runs to
our new experiment. Note the annotated elements on the figure below. It will be useful to know that these bits of data are there later on.</p>
<div class="figure align-center" id="id2">
<a class="reference internal image-reference" href="../../_images/experiment-page-elements.svg"><img alt="Important Data on the Experiment View Page" src="../../_images/experiment-page-elements.svg" width="1024px" /></a>
<p class="caption"><span class="caption-text">Key elements of the Experiments view page</span><a class="headerlink" href="#id2" title="Permalink to this image"> </a></p>
</div>
</div>
</div>
<div class="section" id="searching-based-on-tags">
<h2>Searching based on tags<a class="headerlink" href="#searching-based-on-tags" title="Permalink to this headline"> </a></h2>
<p>Now that we’ve seen the experiment and understand which of the tags that we specified during the creation of the experiment
are visible within the UI and which are not, we’re going to explore the reason for defining those tags as we
apply searches against the tracking server to find experiments whose custom tags values match our query terms.</p>
<p>One of the more versatile uses of setting <code class="docutils literal notranslate"><span class="pre">tags</span></code> within Experiments is to enable searching for
related Experiments based on a common tag. The filtering capabilities within the <code class="docutils literal notranslate"><span class="pre">search_experiments</span></code> API
can be seen below, where we are searching for experiments whose custom <code class="docutils literal notranslate"><span class="pre">project_name</span></code> tag exactly matches
<code class="docutils literal notranslate"><span class="pre">grocery-forecasting</span></code>.</p>
<p>Note that the format that is used for the search filtering has some nuance to it. For named entities (for instance,
here, the <code class="docutils literal notranslate"><span class="pre">tags</span></code> term in the beginning of the filter string), keys can be directly used. However, to reference custom
tags, note the particular syntax used. The custom tag names are wrapped with back ticks (`) and our matching search
condition is wrapped in single quotes.</p>
<div class="code-section docutils container">
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Use search_experiments() to search on the project_name tag key</span>

<span class="n">apples_experiment</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">search_experiments</span><span class="p">(</span>
    <span class="n">filter_string</span><span class="o">=</span><span class="s2">&quot;tags.`project_name` = &#39;grocery-forecasting&#39;&quot;</span>
<span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="nb">vars</span><span class="p">(</span><span class="n">apples_experiment</span><span class="p">[</span><span class="mi">0</span><span class="p">]))</span>
</pre></div>
</div>
</div>
<div class="literal-block-wrapper docutils container" id="id3">
<div class="code-block-caption"><span class="caption-text">The metadata associated with a created Experiment</span><a class="headerlink" href="#id3" title="Permalink to this code"> </a></div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>&lt;Experiment:<span class="w"> </span><span class="nv">artifact_location</span><span class="o">=</span><span class="s1">&#39;mlflow-artifacts:/926031323154788454&#39;</span>,
<span class="w">             </span><span class="nv">creation_time</span><span class="o">=</span><span class="m">1694018173427</span>,
<span class="w">             </span><span class="nv">experiment_id</span><span class="o">=</span><span class="s1">&#39;926031323154788454&#39;</span>,
<span class="w">             </span><span class="nv">last_update_time</span><span class="o">=</span><span class="m">1694018173427</span>,
<span class="w">             </span><span class="nv">lifecycle_stage</span><span class="o">=</span><span class="s1">&#39;active&#39;</span>,
<span class="w">             </span><span class="nv">name</span><span class="o">=</span><span class="s1">&#39;Apple_Models&#39;</span>,
<span class="w">             </span><span class="nv">tags</span><span class="o">={</span>
<span class="w">                </span><span class="s1">&#39;mlflow.note.content&#39;</span>:<span class="w"> </span><span class="s1">&#39;This is the grocery forecasting project. This &#39;</span>
<span class="w">                        </span><span class="s1">&#39;experiment contains the produce models for apples.&#39;</span>,
<span class="w">                </span><span class="s1">&#39;project_name&#39;</span>:<span class="w"> </span><span class="s1">&#39;grocery-forecasting&#39;</span>,
<span class="w">                </span><span class="s1">&#39;project_quarter&#39;</span>:<span class="w"> </span><span class="s1">&#39;Q3-2023&#39;</span>,
<span class="w">                </span><span class="s1">&#39;team&#39;</span>:<span class="w"> </span><span class="s1">&#39;stores-ml&#39;</span><span class="o">}</span>
&gt;
</pre></div>
</div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The returned results above are formatted for legibility. This return type is an <code class="docutils literal notranslate"><span class="pre">Experiment</span></code> object, not a <code class="docutils literal notranslate"><span class="pre">dict</span></code>.</p>
</div>
</div>
<div class="section" id="executing-the-search">
<h2>Executing the Search<a class="headerlink" href="#executing-the-search" title="Permalink to this headline"> </a></h2>
<div class="figure align-center" id="id4">
<a class="reference internal image-reference" href="../../_images/creating-experiment.gif"><img alt="Creating a new Experiment" src="../../_images/creating-experiment.gif" style="width: 1024px;" /></a>
<p class="caption"><span class="caption-text">Creating a new Experiment and searching based on an Experiment tag</span><a class="headerlink" href="#id4" title="Permalink to this image"> </a></p>
</div>
<p>In the next section, we’ll begin to use this experiment to log training data to runs that are associated with this experiment, introducing
another aspect of both the MLflow APIs (the fluent API) and another part of the MLflow UI (the run information page).</p>
</div>
</div>


              </div>
            </div>
            <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="step3-create-experiment.html" class="btn btn-neutral" title="Creating Experiments" accesskey="p"><span class="db-icon db-icon-chevron-left"></span> Previous</a>
      
      
        <a href="step5-synthetic-data.html" class="btn btn-neutral" title="Create a dataset about apples" accesskey="n">Next <span class="db-icon db-icon-chevron-right"></span></a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
      <p class="copyright">
          &copy; MLflow Project, a Series of LF Projects, LLC. All rights reserved.
      </p>

  </div> 

</footer>
          </div>
        </div>
      </section>
    </main>
  </page>

  


  
  <script type="text/javascript">
    var DOCUMENTATION_OPTIONS = {
      URL_ROOT:'../../',
      VERSION:'2.9.3.dev0',
      COLLAPSE_INDEX:false,
      FILE_SUFFIX:'.html',
      LINK_SUFFIX: '.html',
      HAS_SOURCE:  true
    };
  </script>

  

  <script type="text/javascript" src="../../_static/js/clipboard.min.js"></script>
  <script type="text/javascript" src="../../_static/js/jquery.waypoints.min.js"></script>

  
  
  
  <script type="text/javascript">var CLIPPY_SVG_PATH = "../../_static/clippy.svg";</script>
  <script type="text/javascript" src="../../_static/js/custom.js"></script>
  

  
  
  <script type="text/javascript">
    jQuery(function () {
      SphinxRtdTheme.StickyNav.enable();
    });

  </script>
  

  
  <script type="text/javascript">
    document.addEventListener("DOMContentLoaded", function() {
        function copyToClipboard(text) {
            const textarea = document.createElement('textarea');
            textarea.value = text;
            document.body.appendChild(textarea);
            textarea.select();
            document.execCommand('copy');
            document.body.removeChild(textarea);
        }
        // Get the code block designator class entries
        const allHighlights = document.querySelectorAll('.highlight');
        // Disable copyable links for notebook cell numbering and for cell outputs
        const highlights = Array.from(allHighlights).filter(highlight => !highlight.closest('.highlight-none') && 
            !highlight.closest('.nboutput'));
    
        highlights.forEach(function(highlight) {
            const copyIcon = document.createElement('span');
            copyIcon.classList.add('copy-icon');
            copyIcon.innerHTML = '&#xf0ea;';

            copyIcon.addEventListener('click', function() {
                const code = highlight.querySelector('pre').textContent;
                copyToClipboard(code);

                // Flash effect on click
                this.style.color = '#0194E2';
                setTimeout(() => {
                    this.style.color = ''; 
                }, 100);

                // Display "Code copied to clipboard" near the clicked icon
                const message = document.createElement('span');
                message.textContent = "Copied!";
                message.classList.add('copy-message'); 

                // Append the message to the icon
                this.appendChild(message);

                setTimeout(() => {
                    this.removeChild(message);
                }, 500);
            });

            highlight.appendChild(copyIcon);
        });
    });
  </script>


<script type="text/javascript">
    document.addEventListener("DOMContentLoaded", function() {
        // Force download for notebook-download-btn
        const downloadButtons = document.querySelectorAll('.notebook-download-btn');
        downloadButtons.forEach(function(button) {
            button.addEventListener('click', function(event) {
                event.preventDefault(); // Prevent default behavior

                // Fetch the raw content of the notebook from GitHub
                fetch(button.href)
                    .then(response => response.blob())
                    .then(blob => {
                        const url = window.URL.createObjectURL(blob);
                        const link = document.createElement('a');
                        link.style.display = 'none';
                        link.href = url;
                        const filename = button.href.split('/').pop();
                        link.download = filename; 

                        document.body.appendChild(link);
                        link.click();

                        window.URL.revokeObjectURL(url);
                        document.body.removeChild(link);
                    })
                    .catch(err => console.error('Error fetching the notebook:', err));
            });
        });
    });
</script> 
</body>
</html>