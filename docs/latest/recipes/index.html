<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-recipes/index" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.7.0">
<title data-rh="true">MLflow Recipes | MLflow</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://mlflow.org/docs/latest/recipes/"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="MLflow Recipes | MLflow"><meta data-rh="true" name="description" content="MLflow Recipes is deprecated and will be removed in a future release."><meta data-rh="true" property="og:description" content="MLflow Recipes is deprecated and will be removed in a future release."><link data-rh="true" rel="icon" href="/docs/latest/images/favicon.ico"><link data-rh="true" rel="canonical" href="https://mlflow.org/docs/latest/recipes/"><link data-rh="true" rel="alternate" href="https://mlflow.org/docs/latest/recipes/" hreflang="en"><link data-rh="true" rel="alternate" href="https://mlflow.org/docs/latest/recipes/" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://XKVLO8P882-dsn.algolia.net" crossorigin="anonymous"><link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=GTM-N6WMTTJ"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","GTM-N6WMTTJ",{anonymize_ip:!0}),gtag("config","AW-16857946923",{anonymize_ip:!0})</script>
<link rel="preconnect" href="https://www.googletagmanager.com">
<script>window.dataLayer=window.dataLayer||[]</script>
<script>!function(e,t,a,n){e[n]=e[n]||[],e[n].push({"gtm.start":(new Date).getTime(),event:"gtm.js"});var g=t.getElementsByTagName(a)[0],m=t.createElement(a);m.async=!0,m.src="https://www.googletagmanager.com/gtm.js?id=GTM-N6WMTTJ",g.parentNode.insertBefore(m,g)}(window,document,"script","dataLayer")</script>



<link rel="search" type="application/opensearchdescription+xml" title="MLflow" href="/docs/latest/opensearch.xml">

<script src="/docs/latest/js/runllm.js" defer="defer"></script><link rel="stylesheet" href="/docs/latest/assets/css/styles.907c4d58.css">
<script src="/docs/latest/assets/js/runtime~main.15d7e383.js" defer="defer"></script>
<script src="/docs/latest/assets/js/main.ef9e197c.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-N6WMTTJ" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>


<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/docs/latest/"><div class="navbar__logo"><img src="/docs/latest/images/logo-light.svg" alt="MLflow Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/docs/latest/images/logo-dark.svg" alt="MLflow Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/latest/">Docs</a><a href="https://mlflow.org/docs/latest/api_reference/index.html" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">API Reference</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/mlflow/mlflow" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite" aria-pressed="false"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search (Command+K)"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20" aria-hidden="true"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item sidebar-top-level-category"><a class="menu__link" href="/docs/latest/">MLflow</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed sidebar-top-level-category"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/latest/getting-started/">Getting Started</a><button aria-label="Expand sidebar category &#x27;Getting Started&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item sidebar-top-level-category"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="true" href="/docs/latest/llms/">Machine Learning ðŸ§ </a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/docs/latest/llms/">LLM / GenAI</a><button aria-label="Expand sidebar category &#x27;LLM / GenAI&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/docs/latest/deep-learning/">Deep Learning</a><button aria-label="Expand sidebar category &#x27;Deep Learning&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/docs/latest/traditional-ml/">Traditional ML</a><button aria-label="Expand sidebar category &#x27;Traditional ML&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item sidebar-top-level-category"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" href="/docs/latest/tracking/">Build ðŸ”¨ </a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/docs/latest/tracking/">MLflow Tracking</a><button aria-label="Expand sidebar category &#x27;MLflow Tracking&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/docs/latest/model/">MLflow Model</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/docs/latest/prompts/">MLflow Prompts ðŸ†•</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/latest/recipes/">MLflow Recipes</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item sidebar-top-level-category"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="true" href="/docs/latest/model-evaluation/">Evaluate &amp; Monitor ðŸ“Š</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/latest/model-evaluation/">MLflow Evaluation</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/docs/latest/tracing/">MLflow Tracing (Observability)</a><button aria-label="Expand sidebar category &#x27;MLflow Tracing (Observability)&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/latest/dataset/">MLflow Dataset</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item sidebar-top-level-category"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="true" href="/docs/latest/model-registry/">Deploy ðŸš€</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/latest/model-registry/">MLflow Model Registry</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/docs/latest/deployment/">MLflow Serving</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/docs/latest/llms/deployments/">MLflow AI Gateway</a><button aria-label="Expand sidebar category &#x27;MLflow AI Gateway&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed sidebar-top-level-category"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/latest/tracking/#tracking-setup">Team Collaboration ðŸ‘¥</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed sidebar-top-level-category"><div class="menu__list-item-collapsible"><a href="https://mlflow.org/docs/latest/api_reference/python_api/index.html" target="_blank" rel="noopener noreferrer" class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false">API References</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed sidebar-top-level-category"><div class="menu__list-item-collapsible"><a href="https://github.com/mlflow/mlflow/blob/master/CONTRIBUTING.md" target="_blank" rel="noopener noreferrer" class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false">More</a></div></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/docs/latest/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Build ðŸ”¨ </span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">MLflow Recipes</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>MLflow Recipes</h1></header>
<div class="theme-admonition theme-admonition-warning admonition_xJq3 alert alert--warning"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>warning</div><div class="admonitionContent_BuS1"><p>MLflow Recipes is deprecated and will be removed in a future release.</p></div></div>
<p>MLflow Recipes (previously known as MLflow Pipelines) is a framework that enables data scientists
to quickly develop high-quality models and deploy them to production.
Compared to ad-hoc ML workflows, MLflow Recipes offers several major benefits:</p>
<ul>
<li>
<p><strong>Get started quickly</strong>: <a href="#recipe-templates">Predefined templates</a> for common ML tasks,
such as <a href="#regression-template">regression modeling</a>, enable data scientists to get started
quickly and focus on building great models, eliminating the large amount of boilerplate code that
is traditionally required to curate datasets, engineer features, train &amp; tune models, and package
models for production deployment.</p>
</li>
<li>
<p><strong>Iterate faster</strong>: The intelligent recipe execution engine accelerates model development by
caching results from each step of the process and re-running the minimal set of steps as changes
are made.</p>
</li>
<li>
<p><strong>Easily ship to production</strong>: The modular, git-integrated <a href="#recipe-templates-key-concept">recipe structure</a> dramatically simplifies the handoff from development to
production by ensuring that all model code, data, and configurations are easily reviewable and
deployable by ML engineers.</p>
</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="quickstarts">Quickstarts<a href="#quickstarts" class="hash-link" aria-label="Direct link to Quickstarts" title="Direct link to Quickstarts">â€‹</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="prerequisites">Prerequisites<a href="#prerequisites" class="hash-link" aria-label="Direct link to Prerequisites" title="Direct link to Prerequisites">â€‹</a></h3>
<a id="recipes-installation" class="anchor-with-sticky-navbar"></a>
<p>MLflow Recipes is available as an extension of the
<a href="https://pypi.org/project/mlflow/" target="_blank" rel="noopener noreferrer">MLflow Python library</a>. You can install MLflow Recipes
as follows:</p>
<ul>
<li>
<p><strong>Local</strong>: Install MLflow from PyPI: <code>pip install mlflow</code>.
Note that MLflow Recipes requires <a href="https://www.gnu.org/software/make" target="_blank" rel="noopener noreferrer">Make</a>,
which may not be preinstalled on some Windows systems.
Windows users must install Make before using MLflow Recipes. For more information about
installing Make on Windows, see <a href="https://gnuwin32.sourceforge.net/install.html" target="_blank" rel="noopener noreferrer">https://gnuwin32.sourceforge.net/install.html</a>.</p>
</li>
<li>
<p><strong>Databricks</strong>: Install MLflow Recipes from a Databricks Notebook by running
<code>%pip install mlflow</code>, or install MLflow Recipes on a Databricks Cluster by
following the PyPI library installation instructions <a href="https://docs.databricks.com/libraries/cluster-libraries.html#install-a-library-on-a-cluster" target="_blank" rel="noopener noreferrer">here</a>
and specifying the <code>mlflow</code> package string.</p>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_BuS1"><p><a href="https://docs.databricks.com/runtime/dbr.html" target="_blank" rel="noopener noreferrer">Databricks Runtime</a> version 11.0
or greater is required in order to install MLflow Recipes on Databricks.</p></div></div>
</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="nyc-taxi-fare-prediction-example">NYC taxi fare prediction example<a href="#nyc-taxi-fare-prediction-example" class="hash-link" aria-label="Direct link to NYC taxi fare prediction example" title="Direct link to NYC taxi fare prediction example">â€‹</a></h3>
<p>The <a href="https://github.com/mlflow/recipes-examples/tree/main/regression" target="_blank" rel="noopener noreferrer">NYC taxi fare prediction example</a>
uses the <a href="#regression-template">MLflow Recipes Regression Template</a> to develop and score models on the
<a href="https://www1.nyc.gov/site/tlc/about/tlc-trip-record-data.page" target="_blank" rel="noopener noreferrer">NYC Taxi (TLC) Trip Record Dataset</a>.
You can run the example locally by <a href="#recipes-installation">installing MLflow Recipes</a> and running the
<a href="https://github.com/mlflow/recipes-examples/blob/main/regression/notebooks/jupyter.ipynb" target="_blank" rel="noopener noreferrer">Jupyter example regression notebook</a>.
You can run the example on Databricks by
<a href="https://docs.databricks.com/repos/work-with-notebooks-other-files.html#clone-a-remote-git-repository" target="_blank" rel="noopener noreferrer">cloning the example repository with Databricks Repos</a>
and running the <a href="https://github.com/mlflow/recipes-examples/blob/main/regression/notebooks/databricks.py" target="_blank" rel="noopener noreferrer">Databricks example regression notebook</a>.</p>
<p>To build and score models for your own use cases, we recommend using the
<a href="#regression-template">MLflow Recipes Regression Template</a>. For more information, see the
<a href="https://github.com/mlflow/recipes-regression-template/blob/main/README.md" target="_blank" rel="noopener noreferrer">Regression Template reference guide</a>.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="classification-problem-example">Classification problem example<a href="#classification-problem-example" class="hash-link" aria-label="Direct link to Classification problem example" title="Direct link to Classification problem example">â€‹</a></h3>
<p>The <a href="https://github.com/mlflow/recipes-examples/tree/main/classification" target="_blank" rel="noopener noreferrer">Classification problem example</a>
uses the <a href="#classification-template">MLflow Recipes Classification Template</a> to develop and score models on the
<a href="https://github.com/mlflow/recipes-examples/tree/main/classification/data" target="_blank" rel="noopener noreferrer">Wine Quality Dataset</a>.
You can run the example locally
by <a href="#recipes-installation">installing MLflow Recipes</a> and running the
<a href="https://github.com/mlflow/recipes-examples/blob/main/classification/notebooks/jupyter.ipynb" target="_blank" rel="noopener noreferrer">Jupyter example classification notebook</a>.
You can run the example on Databricks by
<a href="https://docs.databricks.com/repos/work-with-notebooks-other-files.html#clone-a-remote-git-repository" target="_blank" rel="noopener noreferrer">cloning the example repository with Databricks Repos</a>
and running the <a href="https://github.com/mlflow/recipes-examples/blob/main/classification/notebooks/databricks.py" target="_blank" rel="noopener noreferrer">Databricks example classification notebook</a>.</p>
<p>To build and score models for your own use cases, we recommend using the
<a href="#classification-template">MLflow Recipes Classification Template</a>. For more information, see the
<a href="https://github.com/mlflow/recipes-classification-template/blob/main/README.md" target="_blank" rel="noopener noreferrer">Classification Template reference guide</a>.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="key-concepts">Key concepts<a href="#key-concepts" class="hash-link" aria-label="Direct link to Key concepts" title="Direct link to Key concepts">â€‹</a></h2>
<a id="steps-key-concept" class="anchor-with-sticky-navbar"></a>
<ul>
<li><strong>Steps</strong>: A Step represents an individual ML operation, such as ingesting data,
fitting an estimator, evaluating a model against test data, or deploying a model
for real-time scoring. Each Step accepts a collection of well-defined inputs and
produce well-defined outputs according to user-defined configurations and code.</li>
</ul>
<a id="recipes-key-concept" class="anchor-with-sticky-navbar"></a>
<ul>
<li><strong>Recipes</strong>: A Recipe is an ordered composition of <a href="#steps-key-concept">Steps</a>
used to solve an ML problem or perform an MLOps task, such as developing a
regression model or performing batch model scoring on production data.
MLflow Recipes provides <a href="/docs/latest/api_reference/python_api/mlflow.recipes.html#mlflow.recipes.Recipe" target="_blank">API</a>
and a <a href="/docs/latest/api_reference/cli.html" target="_blank">CLI</a> for running recipes and inspecting their results.</li>
</ul>
<a id="recipe-templates-key-concept" class="anchor-with-sticky-navbar"></a>
<ul>
<li><strong>Templates</strong>: A Recipe Template is a git repository with a <a href="#recipe-template-structure">standardized, modular layout</a>
containing all of the customizable code and configurations for a <a href="#recipes-key-concept">Recipe</a>.
Configurations are defined in YAML format for easy review via the
<a href="https://github.com/mlflow/recipes-regression-template/blob/main/recipe.yaml" target="_blank" rel="noopener noreferrer">recipe.yaml</a> file and
<a href="#profiles-key-concept">Profile YAML files</a>. Each template also defines its requirements, data science notebooks, and tests. MLflow Recipes
includes <a href="#recipe-templates">predefined templates</a> for a variety of model development and
MLOps tasks.</li>
</ul>
<a id="profiles-key-concept" class="anchor-with-sticky-navbar"></a>
<ul>
<li><strong>Profiles</strong>: Profiles contain user-specific or environment-specific configurations for a
<a href="#recipes-key-concept">Recipe</a>, such as the particular set of hyperparameters being
tuned by a data scientist in development or the MLflow Model Registry URI and credentials
used to store production-worthy models. Each profile is represented as a YAML file
in the <a href="#recipe-templates-key-concept">Recipe Template</a> (e.g.
<a href="https://github.com/mlflow/recipes-examples/blob/main/regression/profiles/local.yaml" target="_blank" rel="noopener noreferrer">local.yaml</a>
and <a href="https://github.com/mlflow/recipes-examples/blob/main/regression/profiles/databricks.yaml" target="_blank" rel="noopener noreferrer">databricks.yaml</a>).</li>
</ul>
<a id="step-cards-key-concept" class="anchor-with-sticky-navbar"></a>
<ul>
<li><strong>Step Cards</strong>: Step Cards display the results produced by running a
<a href="#steps-key-concept">Step</a>, including dataset profiles, model performance &amp; explainability
plots, overviews of the best model parameters found during tuning, and more. Step Cards and their
corresponding dataset and model information are also logged to MLflow Tracking.</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="usage">Usage<a href="#usage" class="hash-link" aria-label="Direct link to Usage" title="Direct link to Usage">â€‹</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="model-development-workflow">Model development workflow<a href="#model-development-workflow" class="hash-link" aria-label="Direct link to Model development workflow" title="Direct link to Model development workflow">â€‹</a></h3>
<p>The general model development workflow for using MLflow Recipes is as follows:</p>
<ol>
<li>
<p>Clone a <a href="#recipe-templates">Recipe Template</a> git repository corresponding to the ML
problem that you wish to solve. Follow the template&#x27;s README file for template-specific
instructions.</p>
<ul>
<li>
<p>[Local] Clone the <a href="#regression-template">MLflow Recipes Regression Template</a> into a local directory.</p>
<div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">git</span><span class="token plain"> clone https://github.com/mlflow/recipes-regression-template</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>
<p>[Databricks] Clone the <a href="#regression-template">MLflow Recipes Regression Template</a> git repository using
<a href="https://docs.databricks.com/repos/index.html" target="_blank" rel="noopener noreferrer">Databricks Repos</a>.</p>
<div style="width:60%"><img decoding="async" loading="lazy" src="/docs/latest/assets/images/recipes_databricks_repo_ui-b3760db4a0f58a4e59bb9e4f80b5de5e.png" width="2796" height="1404" class="img_ev3q"></div>
</li>
</ul>
</li>
<li>
<p>Edit required fields marked by <code>FIXME::REQUIRED</code> comments in <code>recipe.yaml</code> and
<code>profiles/*.yaml</code>. The recipe is runnable once all required fields are filled with
proper values. You may proceed to step 3 if this is the first time going through this step.
Otherwise, continue to edit the YAML config files as well as <code>steps/*.py</code> files,
filling out areas marked by <code>FIXME::OPTIONAL</code> as you see fit to
customize the recipe steps to your ML problem for better model performance.</p>
<div style="width:60%"><img decoding="async" loading="lazy" src="/docs/latest/assets/images/recipes_databricks_fixme-d3976c6cd04ee9e6f07abbb8f7618d92.png" width="2204" height="1820" class="img_ev3q"></div>
</li>
<li>
<p>Run the recipe by selecting a desired profile. Profiles are used to quickly switch environment
specific recipe settings, such as ingest data location.
When a recipe run completes, you may inspect the run results. MLflow Recipes
creates and displays an interactive <strong>Step Card</strong> with the results of the last executed <a href="#steps-key-concept">step</a>.
Each <a href="#recipe-templates">Recipe Template</a> also includes a
<a href="https://github.com/mlflow/recipes-regression-template/blob/main/notebooks/databricks.py" target="_blank" rel="noopener noreferrer">Databricks Notebook</a>
and a <a href="https://github.com/mlflow/recipes-regression-template/blob/main/notebooks/jupyter.ipynb" target="_blank" rel="noopener noreferrer">Jupyter Notebook</a>
for running the recipe and inspecting its results.</p>
<p>Example API and CLI workflows for running the <a href="#regression-template">MLflow Recipes Regression Template</a> and inspecting
results. Note that recipes must be run from within their corresponding git repositories.</p>
<div class="tabs-container tabList__CuJ"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_LNqP tabs__item--active">Python</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP">Sh</li></ul><div class="margin-top--md"><div role="tabpanel" class="tabItem_Ymn6"><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> os</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> mlflow</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">recipes </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> Recipe</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> mlflow</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">pyfunc </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> PyFuncModel</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">os</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">chdir</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;~/recipes-regression-template&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">regression_recipe </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> Recipe</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">profile</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;local&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Run the full recipe</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">regression_recipe</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">run</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Inspect the model training results</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">regression_recipe</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">inspect</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">step</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;train&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Load the trained model</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">regression_model_recipe</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> PyFuncModel </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> regression_recipe</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">get_artifact</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;model&quot;</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div><div role="tabpanel" class="tabItem_Ymn6" hidden=""><div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">git</span><span class="token plain"> clone https://github.com/mlflow/recipes-regression-template</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token builtin class-name">cd</span><span class="token plain"> recipes-regression-template</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Run the full recipe</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">mlflow recipes run </span><span class="token parameter variable" style="color:#36acaa">--profile</span><span class="token plain"> </span><span class="token builtin class-name">local</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Inspect the model training results</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">mlflow recipes inspect </span><span class="token parameter variable" style="color:#36acaa">--step</span><span class="token plain"> train </span><span class="token parameter variable" style="color:#36acaa">--profile</span><span class="token plain"> </span><span class="token builtin class-name">local</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Inspect the resulting model performance evaluations</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">mlflow recipes inspect </span><span class="token parameter variable" style="color:#36acaa">--step</span><span class="token plain"> evaluate </span><span class="token parameter variable" style="color:#36acaa">--profile</span><span class="token plain"> </span><span class="token builtin class-name">local</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></div></div>
<figure style="width:60%"><p><img decoding="async" loading="lazy" src="/docs/latest/assets/images/recipes_evaluate_step_card-55a914d6dad9414b7e1c95789c732d01.png" width="2428" height="1168" class="img_ev3q"></p><figcaption>An example step
card produced by running the <strong>evaluate</strong> step of the
<a href="#regression-template">MLflow Recipes Regression Template</a>. The step card results
indicate that the trained model passed all performance validations and is ready for
registration with the <a href="/docs/latest/model-registry">MLflow Model Registry</a>.</figcaption><p></p></figure>
<figure style="width:60%"><p><img decoding="async" loading="lazy" src="/docs/latest/assets/images/recipes_databricks_logged_artifacts-1ae7b3cb40b51906d8fd0cca01c2c844.png" width="2974" height="1794" class="img_ev3q">
</p><figcaption>An example MLflow run view page, showing artifacts logged from the Recipe&#x27;s steps.</figcaption><p></p></figure>
<figure><p><img decoding="async" loading="lazy" src="/docs/latest/assets/images/recipes_databricks_notebook_ui-508317080ed050ab34c6fcc1f460591b.png" width="3224" height="1660" class="img_ev3q">
</p><figcaption>Example recipe run from the
<a href="https://github.com/mlflow/recipes-regression-template/blob/main/notebooks/databricks.py" target="_blank" rel="noopener noreferrer">Databricks Notebook</a>
included in the <a href="#regression-template">MLflow Recipes Regression Template</a>.</figcaption><p></p></figure>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_BuS1"><p>Data profiling is often best viewed with &quot;quantiles&quot; mode. To switch it on, on the Facet
data profile, find <code>Chart to show</code>, click the selector below, and choose <code>Quantiles</code>.</p></div></div>
</li>
<li>
<p>Iterate over step 2 and 3: make changes to an individual step, and test them by running
the step and observing the results it produces.
Use <code>Recipe.inspect()</code> to visualize the overall Recipe dependency graph and artifacts
each step produces.
Use <code>Recipe.get_artifact()</code> to further inspect individual step outputs in a notebook.</p>
<p>MLflow Recipes intelligently caches results from each <a href="#steps-key-concept">Recipe Step</a>,
ensuring that steps are only executed if their inputs, code, or configurations have changed,
or if such changes have occurred in dependent steps. Once you are satisfied with the results of
your changes, commit them to a branch of the <a href="#recipe-templates-key-concept">Recipe Repository</a>
in order to ensure reproducibility, and share or review the
changes with your team.</p>
<figure style="width:60%"><p><img decoding="async" loading="lazy" src="/docs/latest/assets/images/recipes_databricks_dag-c6efa40f3909566e70cdcfbf66168b12.png" width="2072" height="1812" class="img_ev3q">
</p><figcaption>Example Recipe.inspect() output, showing the dependency graph of recipe steps and artifacts each step produces.</figcaption><p></p></figure>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_BuS1"><p>Before testing changes in a staging or production environment, it is recommended that you
commit the changes to a branch of the <a href="#recipe-templates-key-concept">Recipe Repository</a>
to ensure reproducibility.</p></div></div>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_BuS1"><p>By default, MLflow Recipes caches results from each <a href="#steps-key-concept">Recipe Step</a>
within the <code>.mlflow</code> subdirectory of the home folder on the local filesystem.
The <code>MLFLOW_RECIPES_EXECUTION_DIRECTORY</code> environment variable can be used to specify
an alternative location for caching results.</p></div></div>
</li>
</ol>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="development-environments">Development environments<a href="#development-environments" class="hash-link" aria-label="Direct link to Development environments" title="Direct link to Development environments">â€‹</a></h3>
<p>We recommend using one of the following environment configurations to develop models with MLflow Recipes:</p>
<dl><dt><h4 class="anchor anchorWithStickyNavbar_LWe7" id="databricks">[Databricks]<a href="#databricks" class="hash-link" aria-label="Direct link to [Databricks]" title="Direct link to [Databricks]">â€‹</a></h4></dt><dd><ul>
<li>Edit YAML config and Python files in Databricks Repos. Open separate browser tabs for each
file module that you wish to modify. For example,
one for the recipe config file <code>recipe.yaml</code>,
one for the profile config file <code>profile/databricks.yaml</code>,
one for the driver notebook <code>notebooks/databricks.py</code>,
and one for the current step (e.g. train) under development <code>steps/train.py</code>.</li>
<li>Use <code>notebooks/databricks.py</code> as the driver to run recipe steps and inspect its output.</li>
<li>Pin the workspace browser for easy file navigation.</li>
</ul><div style="width:60%"><p><img decoding="async" loading="lazy" src="/docs/latest/assets/images/recipes_databricks_ui-0074e1c7ac262b92e2621e9028979def.png" width="3014" height="2024" class="img_ev3q"></p></div></dd><dt><h4 class="anchor anchorWithStickyNavbar_LWe7" id="local-with-jupyter-notebook">[Local with Jupyter Notebook]<a href="#local-with-jupyter-notebook" class="hash-link" aria-label="Direct link to [Local with Jupyter Notebook]" title="Direct link to [Local with Jupyter Notebook]">â€‹</a></h4></dt><dd><ul>
<li>Use <code>notebooks/jupyter.ipynb</code> as the driver to run recipe steps and inspect its output.</li>
<li>Edit <code>recipe.yaml</code>, <code>steps/*.py</code> and <code>profiles/*.yaml</code> accordingly with an editor of your
choice.</li>
<li>To run the entire recipe, either run <code>notebooks/jupyter.ipynb</code> or on commandline, invoke
<code>mlflow recipes run --profile local</code> (change the current working directory to the project root first).</li>
</ul></dd><dt><h4 class="anchor anchorWithStickyNavbar_LWe7" id="edit-locally-with-ide-vscode-and-run-on-databricks">[Edit locally with IDE (VSCode) and run on Databricks]<a href="#edit-locally-with-ide-vscode-and-run-on-databricks" class="hash-link" aria-label="Direct link to [Edit locally with IDE (VSCode) and run on Databricks]" title="Direct link to [Edit locally with IDE (VSCode) and run on Databricks]">â€‹</a></h4></dt><dd><ul>
<li>Edit files on your local machine with VSCode and Jupyter plugin.</li>
<li>Use <a href="https://docs.databricks.com/dev-tools/dbx.html" target="_blank" rel="noopener noreferrer">dbx</a> to sync them to
<a href="https://docs.databricks.com/repos/index.html" target="_blank" rel="noopener noreferrer">Databricks Repos</a> as demonstrated below.</li>
<li>On Databricks, use the <code>notebooks/databricks.py</code> notebook as the driver to run recipe
steps and inspect their outputs.</li>
</ul><p>Example workflow for efficiently editing a recipe on a local machine
and synchronizing changes to <a href="https://docs.databricks.com/repos/index.html" target="_blank" rel="noopener noreferrer">Databricks Repos</a>:</p><div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># Install the Databricks CLI, which is used to remotely access your Databricks Workspace</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pip </span><span class="token function" style="color:#d73a49">install</span><span class="token plain"> databricks-cli</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Configure remote access to your Databricks Workspace</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">databricks configure</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Install dbx, which is used to automatically sync changes to and from Databricks Repos</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pip </span><span class="token function" style="color:#d73a49">install</span><span class="token plain"> dbx</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Clone the MLflow Recipes Regression Template</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">git</span><span class="token plain"> clone https://github.com/mlflow/recipes-regression-template</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Enter the MLflow Recipes Regression Template directory and configure dbx within it</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token builtin class-name">cd</span><span class="token plain"> recipes-regression-template</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">dbx configure</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Use dbx to enable syncing from the repository directory to Databricks Repos</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">dbx </span><span class="token function" style="color:#d73a49">sync</span><span class="token plain"> repo </span><span class="token parameter variable" style="color:#36acaa">-d</span><span class="token plain"> recipes-regression-template</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Iteratively make changes to files in the repository directory and observe that they</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># are automatically synced to Databricks Repos</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></dd></dl>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="recipe-templates">Recipe Templates<a href="#recipe-templates" class="hash-link" aria-label="Direct link to Recipe Templates" title="Direct link to Recipe Templates">â€‹</a></h2>
<p>MLflow Recipes currently offers the following predefined templates that can be easily customized
to develop and deploy high-quality, production-ready models for your use cases:</p>
<a id="regression-template" class="anchor-with-sticky-navbar"></a>
<ul>
<li><strong>MLflow Recipes Regression Template</strong>: The MLflow Recipes Regression Template is designed for developing and scoring
regression models. For more information, see the <a href="https://github.com/mlflow/recipes-regression-template/blob/main/README.md" target="_blank" rel="noopener noreferrer">Regression Template reference guide</a>.</li>
</ul>
<a id="classification-template" class="anchor-with-sticky-navbar"></a>
<ul>
<li><strong>MLflow Recipes Classification Template</strong>: The MLflow Recipes Classification Template is designed for developing and scoring
classification models. For more information, see the <a href="https://github.com/mlflow/recipes-classification-template/blob/main/README.md" target="_blank" rel="noopener noreferrer">Classification Template reference guide</a>.</li>
</ul>
<p>Additional recipes for a variety of ML problems and MLOps tasks are under active development.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="detailed-reference-guide">Detailed reference guide<a href="#detailed-reference-guide" class="hash-link" aria-label="Direct link to Detailed reference guide" title="Direct link to Detailed reference guide">â€‹</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="recipe-template-structure">Template structure<a href="#recipe-template-structure" class="hash-link" aria-label="Direct link to Template structure" title="Direct link to Template structure">â€‹</a></h3>
<p>Recipe Templates are git repositories with a standardized, modular layout. The following
example provides an overview of the recipe repository structure. It is adapted from the
<a href="#regression-template">MLflow Recipes Regression Template</a>.</p>
<div class="language-plaintext codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-plaintext codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">â”œâ”€â”€ recipe.yaml</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”œâ”€â”€ requirements.txt</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”œâ”€â”€ steps</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”‚   â”œâ”€â”€ ingest.py</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”‚   â”œâ”€â”€ split.py</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”‚   â”œâ”€â”€ transform.py</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”‚   â”œâ”€â”€ train.py</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”‚   â”œâ”€â”€ custom_metrics.py</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”œâ”€â”€ profiles</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”‚   â”œâ”€â”€ local.yaml</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”‚   â”œâ”€â”€ databricks.yaml</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”œâ”€â”€ tests</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”‚   â”œâ”€â”€ ingest_test.py</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”‚   â”œâ”€â”€ ...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”‚   â”œâ”€â”€ train_test.py</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”‚   â”œâ”€â”€ ...</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>The main components of the Recipe Template layout, which are common across all recipes, are:</p>
<ul>
<li>
<p><code>recipe.yaml</code>: The main recipe configuration file that declaratively defines the
attributes and behavior of each recipe step, such as the input dataset to use for training
a model or the performance criteria for promoting a model to production. For reference,
see the <a href="https://github.com/mlflow/recipes-regression-template/blob/main/recipe.yaml" target="_blank" rel="noopener noreferrer">recipe.yaml</a>
configuration file from the <a href="#regression-template">MLflow Recipes Regression Template</a>.</p>
</li>
<li>
<p><code>requirements.txt</code>: A <a href="https://pip.pypa.io/en/stable/reference/requirements-file-format" target="_blank" rel="noopener noreferrer">pip requirements file</a>
specifying packages that must be installed in order to run the recipe.</p>
</li>
<li>
<p><code>steps</code>: A directory containing Python code modules used by the recipe steps. For example,
the <a href="#regression-template">MLflow Recipes Regression Template</a> defines the estimator type and parameters to use
when training a model in <a href="https://github.com/mlflow/recipes-regression-template/blob/main/steps/train.py" target="_blank" rel="noopener noreferrer">steps/train.py</a>
and defines custom metric computations in
<a href="https://github.com/mlflow/recipes-regression-template/blob/main/steps/custom_metrics.py" target="_blank" rel="noopener noreferrer">steps/custom_metrics.py</a>.</p>
<a id="profiles-directory" class="anchor-with-sticky-navbar"></a>
</li>
<li>
<p><code>profiles</code>: A directory containing <a href="#profiles-key-concept">Profile</a> customizations for
the configurations defined in <code>recipe.yaml</code>. For example, the
<a href="#regression-template">MLflow Recipes Regression Template</a> defines a
<a href="https://github.com/mlflow/recipes-regression-template/blob/main/profiles/local.yaml" target="_blank" rel="noopener noreferrer">profiles/local.yaml profile</a> that
<a href="https://github.com/mlflow/recipes-regression-template/blob/main/profiles/local.yaml#L17" target="_blank" rel="noopener noreferrer">customizes the dataset used for local model development</a>
and <a href="https://github.com/mlflow/recipes-regression-template/blob/main/profiles/local.yaml#L4-L7" target="_blank" rel="noopener noreferrer">specifies a local MLflow Tracking store for logging model content</a>.
The <a href="#regression-template">MLflow Recipes Regression Template</a> also
defines a |databricks profile| for development on Databricks.</p>
</li>
<li>
<p><code>tests</code>: A directory containing Python test code for recipe steps. For example, the
<a href="#regression-template">MLflow Recipes Regression Template</a> implements tests for the transformer and the estimator
defined in the respective <code>steps/transform.py</code> and <code>steps/train.py</code> modules.</p>
</li>
</ul>
<p>Shown below is an example <a href="https://github.com/mlflow/recipes-regression-template/blob/main/recipe.yaml" target="_blank" rel="noopener noreferrer">recipe.yaml</a>
configuration file adapted from the <a href="#regression-template">MLflow Recipes Regression Template</a>.
<code>recipe.yaml</code> is the main configuration file for a recipe containing aggregated configurations for
all recipe steps; <a href="#profiles-key-concept">Profile</a>-based substitutions and overrides are supported using
<a href="https://jinja.palletsprojects.com/" target="_blank" rel="noopener noreferrer">Jinja2</a> templating syntax.</p>
<div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">recipe</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;regression/v1&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">target_col</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;fare_amount&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">primary_metrics</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;root_mean_squared_error&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">steps</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">ingest</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">INGEST_CONFIG</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">split</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">split_ratios</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">SPLIT_RATIOS</span><span class="token punctuation" style="color:#393A34">|</span><span class="token plain">default(</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">0.75</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0.125</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0.125</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain">)</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">transform</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">using</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> custom</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">transformer_method</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> transformer_fn</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">train</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">using</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> custom</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">estimator_method</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> estimator_fn</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">evaluate</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">validation_criteria</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">metric</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> root_mean_squared_error</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token key atrule" style="color:#00a4db">threshold</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">10</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">metric</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> weighted_mean_squared_error</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token key atrule" style="color:#00a4db">threshold</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">20</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">register</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">allow_non_validated_model</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean important" style="color:#36acaa">false</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">custom_metrics</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> weighted_mean_squared_error</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">function</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> weighted_mean_squared_error</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">greater_is_better</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean important" style="color:#36acaa">False</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="working-with-profiles">Working with profiles<a href="#working-with-profiles" class="hash-link" aria-label="Direct link to Working with profiles" title="Direct link to Working with profiles">â€‹</a></h3>
<p>A profile is a collection of customizations for the configurations defined in the recipe&#x27;s main
<a href="#recipe-template-structure">recipe.yaml</a> file. Profiles are defined as YAML files
within the recipe repository&#x27;s <a href="#profiles-directory">profiles directory</a>. When running a
recipe or inspecting its results, the desired profile is specified as an API or CLI argument.</p>
<p>Example API and CLI workflows for running recipes with different profile customizations</p>
<div class="tabs-container tabList__CuJ"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_LNqP tabs__item--active">Python</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP">Sh</li></ul><div class="margin-top--md"><div role="tabpanel" class="tabItem_Ymn6"><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> os</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> mlflow</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">recipes </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> Recipe</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">os</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">chdir</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;~/recipes-regression-template&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Run the regression recipe to train and evaluate the performance of an ElasticNet regressor</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">regression_recipe_local_elasticnet </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> Recipe</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">profile</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;local-elasticnet&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">regression_recipe_local_elasticnet</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">run</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Run the recipe again to train and evaluate the performance of an SGD regressor</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">regression_recipe_local_sgd </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> Recipe</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">profile</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;local-sgd&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">regression_recipe_local_sgd</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">run</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># After finding the best model type and updating the &#x27;shared-workspace&#x27; profile accordingly,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># run the recipe again to retrain the best model in a workspace where teammates can view it</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">regression_recipe_shared </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> Recipe</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">profile</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;shared-workspace&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">regression_recipe_shared</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">run</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div><div role="tabpanel" class="tabItem_Ymn6" hidden=""><div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">git</span><span class="token plain"> clone https://github.com/mlflow/recipes-regression-template</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token builtin class-name">cd</span><span class="token plain"> recipes-regression-template</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Run the regression recipe to train and evaluate the performance of an ElasticNet regressor</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">mlflow recipes run </span><span class="token parameter variable" style="color:#36acaa">--profile</span><span class="token plain"> local-elasticnet</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Run the recipe again to train and evaluate the performance of an SGD regressor</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">mlflow recipes run </span><span class="token parameter variable" style="color:#36acaa">--profile</span><span class="token plain"> local-sgd</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># After finding the best model type and updating the &#x27;shared-workspace&#x27; profile accordingly,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># run the recipe again to retrain the best model in a workspace where teammates can view it</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">mlflow recipes run </span><span class="token parameter variable" style="color:#36acaa">--profile</span><span class="token plain"> shared-workspace</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></div></div>
<p>The following profile customizations are supported:</p>
<ul>
<li>
<p><strong>overrides</strong></p>
<ul>
<li>
<p>If the <code>recipe.yaml</code> configuration file defines a <a href="https://jinja.palletsprojects.com/" target="_blank" rel="noopener noreferrer">Jinja2</a>-templated
attribute with a default value, a profile can override the value by mapping the attribute to a different
value using YAML dictionary syntax. Note that override values may have arbitrarily nested
types (e.g. lists, dictionaries, lists of dictionaries, ...).</p>
<p>Example <code>recipe.yaml</code> configuration file defining an overridable
<code>RMSE_THRESHOLD</code> attribute for validating model performance with a
default value of <code>10</code></p>
<div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">steps</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">evaluate</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">validation_criteria</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">metric</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> root_mean_squared_error</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic"># The maximum RMSE value on the test dataset that a model can have</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic"># to be eligible for production deployment</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token key atrule" style="color:#00a4db">threshold</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> RMSE_THRESHOLD</span><span class="token punctuation" style="color:#393A34">|</span><span class="token plain">default(10) </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Example <code>prod.yaml</code> profile that overrides <code>RMSE_THRESHOLD</code> with
a custom value to more aggressively validate model quality for production</p>
<div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">RMSE_THRESHOLD</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">5.2</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
</ul>
</li>
<li>
<p><strong>substitutions</strong></p>
<ul>
<li>
<p>If the <code>recipe.yaml</code> configuration file defines a <a href="https://jinja.palletsprojects.com/" target="_blank" rel="noopener noreferrer">Jinja2</a>-templated
attribute without a default value, a profile <em>must</em> map the attribute to a specific value using
YAML dictionary syntax. Note that substitute values may have arbitrarily nested types
(e.g. lists, dictionaries, lists of dictionaries, ...).</p>
<p>Example <code>recipe.yaml</code> configuration file defining a <code>DATASET_INFO</code>
variable whose value must be specified by the selected recipe profile</p>
<div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># Specifies the dataset to use for model training</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">ingest</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> INGEST_CONFIG </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Example <code>dev.yaml</code> profile that provides a value for <code>DATASET_INFO</code>
corresponding to a small dataset for development purposes</p>
<div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">INGEST_CONFIG</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">location</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> ./data/taxi</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">small.parquet</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">format</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> parquet</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
</ul>
</li>
<li>
<p><strong>additions</strong></p>
<ul>
<li>
<p>If the <code>recipe.yaml</code> configuration file does not define a particular attribute, a
profile may define it instead. This capability is helpful for providing values of
optional configurations that, if unspecified, a recipe would otherwise ignore.</p>
<p>Example <code>local.yaml</code> profile that specifies a
<a href="https://www.sqlite.org/index.html" target="_blank" rel="noopener noreferrer">sqlite</a>-based
<a href="/docs/latest/tracking">MLflow Tracking</a> store for local testing on a laptop</p>
<div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">experiment</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">tracking_uri</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;sqlite:///metadata/mlflow/mlruns.db&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;sklearn_regression_experiment&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">artifact_location</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;./metadata/mlflow/mlartifacts&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
</ul>
</li>
</ul>
<div class="theme-admonition theme-admonition-warning admonition_xJq3 alert alert--warning"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>warning</div><div class="admonitionContent_BuS1"><p>If the <code>recipe.yaml</code> configuration file defines an attribute that cannot be overridden
or substituted (i.e. because its value is not specified using <a href="https://jinja.palletsprojects.com/" target="_blank" rel="noopener noreferrer">Jinja2</a>
templating syntax), a profile must not define it. Defining such an attribute in a profile produces an error.</p></div></div></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/latest/llms/prompt-engineering/"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Prompt Engineering UI (Experimental)</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/latest/model-evaluation/"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">MLflow Evaluation</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#quickstarts" class="table-of-contents__link toc-highlight">Quickstarts</a><ul><li><a href="#prerequisites" class="table-of-contents__link toc-highlight">Prerequisites</a></li><li><a href="#nyc-taxi-fare-prediction-example" class="table-of-contents__link toc-highlight">NYC taxi fare prediction example</a></li><li><a href="#classification-problem-example" class="table-of-contents__link toc-highlight">Classification problem example</a></li></ul></li><li><a href="#key-concepts" class="table-of-contents__link toc-highlight">Key concepts</a></li><li><a href="#usage" class="table-of-contents__link toc-highlight">Usage</a><ul><li><a href="#model-development-workflow" class="table-of-contents__link toc-highlight">Model development workflow</a></li><li><a href="#development-environments" class="table-of-contents__link toc-highlight">Development environments</a></li></ul></li><li><a href="#recipe-templates" class="table-of-contents__link toc-highlight">Recipe Templates</a></li><li><a href="#detailed-reference-guide" class="table-of-contents__link toc-highlight">Detailed reference guide</a><ul><li><a href="#recipe-template-structure" class="table-of-contents__link toc-highlight">Template structure</a></li><li><a href="#working-with-profiles" class="table-of-contents__link toc-highlight">Working with profiles</a></li></ul></li></ul></div></div></div></div></main></div></div></div><footer class="footer"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://stackoverflow.com/questions/tagged/mlflow" target="_blank" rel="noopener noreferrer" class="footer__link-item">Stack Overflow<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://www.linkedin.com/company/mlflow-org" target="_blank" rel="noopener noreferrer" class="footer__link-item">LinkedIn<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://x.com/mlflow" target="_blank" rel="noopener noreferrer" class="footer__link-item">X<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">Resources</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs/latest/">Docs</a></li><li class="footer__item"><a href="https://mlflow.org/releases" target="_blank" rel="noopener noreferrer" class="footer__link-item">Releases</a></li><li class="footer__item"><a href="https://mlflow.org/blog" target="_blank" rel="noopener noreferrer" class="footer__link-item">Blog</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2025 MLflow Project, a Series of LF Projects, LLC.</div></div></div></footer></div>
</body>
</html>