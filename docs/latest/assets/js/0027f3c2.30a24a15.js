"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[6052],{28453:(e,n,i)=>{i.d(n,{R:()=>l,x:()=>a});var s=i(96540);const r={},t=s.createContext(r);function l(e){const n=s.useContext(t);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:l(e.components),s.createElement(t.Provider,{value:n},e.children)}},86304:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>d,contentTitle:()=>a,default:()=>h,frontMatter:()=>l,metadata:()=>s,toc:()=>o});const s=JSON.parse('{"id":"auth/index","title":"MLflow Authentication","description":"This feature is still experimental and may be enhanced in a future release without warning.","source":"@site/docs/classic-ml/auth/index.mdx","sourceDirName":"auth","slug":"/auth/","permalink":"/docs/latest/ml/auth/","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"classicMLSidebar","previous":{"title":"Docker","permalink":"/docs/latest/ml/docker/"},"next":{"title":"MLflow Projects \ud83d\udce6","permalink":"/docs/latest/ml/projects/"}}');var r=i(74848),t=i(28453);const l={},a="MLflow Authentication",d={},o=[{value:"Quick Start",id:"quick-start",level:2},{value:"Installation &amp; Setup",id:"installation--setup",level:3},{value:"Default Admin Access",id:"default-admin-access",level:3},{value:"Core Concepts",id:"core-concepts",level:2},{value:"Permission Levels",id:"permission-levels",level:3},{value:"Resource Types",id:"resource-types",level:3},{value:"Authentication Methods",id:"authentication-methods",level:2},{value:"Interactive Login (Recommended)",id:"interactive-login-recommended",level:3},{value:"Environment Variables",id:"environment-variables",level:3},{value:"Credentials File",id:"credentials-file",level:3},{value:"Advanced Authentication Options",id:"advanced-authentication-options",level:3},{value:"Token-based Authentication",id:"token-based-authentication",level:4},{value:"AWS SigV4 Authentication",id:"aws-sigv4-authentication",level:4},{value:"Custom Authentication Headers",id:"custom-authentication-headers",level:4},{value:"TLS/SSL Configuration",id:"tlsssl-configuration",level:4},{value:"User Management",id:"user-management",level:2},{value:"Creating Users",id:"creating-users",level:3},{value:"Using the Web Interface",id:"using-the-web-interface",level:4},{value:"Using the Python Client",id:"using-the-python-client",level:4},{value:"Using REST API",id:"using-rest-api",level:4},{value:"Managing Admin Status",id:"managing-admin-status",level:3},{value:"Permission Management",id:"permission-management",level:2},{value:"Experiment Permissions",id:"experiment-permissions",level:3},{value:"Registered Model Permissions",id:"registered-model-permissions",level:3},{value:"API Reference",id:"api-reference",level:2},{value:"Core Endpoints",id:"core-endpoints",level:3},{value:"User Management",id:"user-management-1",level:4},{value:"Experiment Permissions",id:"experiment-permissions-1",level:4},{value:"Model Registry Permissions",id:"model-registry-permissions",level:4},{value:"Enhanced Behavior",id:"enhanced-behavior",level:3},{value:"Configuration",id:"configuration",level:2},{value:"Database Configuration",id:"database-configuration",level:3},{value:"Database Migration",id:"database-migration",level:3},{value:"Advanced Topics",id:"advanced-topics",level:2},{value:"Custom Authentication",id:"custom-authentication",level:3},{value:"Plugin Development",id:"plugin-development",level:3},{value:"Security Best Practices",id:"security-best-practices",level:2},{value:"Password Security",id:"password-security",level:3},{value:"Network Security",id:"network-security",level:3},{value:"Database Security",id:"database-security",level:3},{value:"Monitoring",id:"monitoring",level:3},{value:"Troubleshooting",id:"troubleshooting",level:2},{value:"Common Issues",id:"common-issues",level:3},{value:"Debugging Tips",id:"debugging-tips",level:3},{value:"Migration Guide",id:"migration-guide",level:2},{value:"Enabling Authentication on Existing Server",id:"enabling-authentication-on-existing-server",level:3},{value:"Disabling Authentication",id:"disabling-authentication",level:3}];function c(e){const n={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,t.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"mlflow-authentication",children:"MLflow Authentication"})}),"\n",(0,r.jsx)(n.admonition,{title:"Experimental Feature",type:"note",children:(0,r.jsx)(n.p,{children:"This feature is still experimental and may be enhanced in a future release without warning."})}),"\n",(0,r.jsx)(n.p,{children:"MLflow Authentication provides secure access control for experiments and registered models through HTTP basic authentication. Once enabled, users must authenticate before accessing any resources on the Tracking Server."}),"\n",(0,r.jsx)(n.h2,{id:"quick-start",children:"Quick Start"}),"\n",(0,r.jsx)(n.h3,{id:"installation--setup",children:"Installation & Setup"}),"\n",(0,r.jsx)(n.p,{children:"Install MLflow with authentication dependencies:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"pip install mlflow[auth]\n"})}),"\n",(0,r.jsx)(n.p,{children:"Set your server secret key and start the authenticated server:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:'export MLFLOW_FLASK_SERVER_SECRET_KEY="my-secret-key"\nmlflow server --app-name basic-auth\n'})}),"\n",(0,r.jsx)(n.admonition,{title:"Important",type:"warning",children:(0,r.jsx)(n.p,{children:"The secret key must be consistent across multiple servers to prevent validation errors."})}),"\n",(0,r.jsx)(n.h3,{id:"default-admin-access",children:"Default Admin Access"}),"\n",(0,r.jsx)(n.p,{children:"MLflow creates a default admin user on first startup:"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Username"}),(0,r.jsx)(n.th,{children:"Password"})]})}),(0,r.jsx)(n.tbody,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"admin"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"password1234"})})]})})]}),"\n",(0,r.jsx)(n.admonition,{title:"Security Recommendation",type:"tip",children:(0,r.jsxs)(n.p,{children:["Update the default admin password immediately after first login using the ",(0,r.jsx)(n.code,{children:"/api/2.0/mlflow/users/update-password"})," endpoint."]})}),"\n",(0,r.jsx)(n.h2,{id:"core-concepts",children:"Core Concepts"}),"\n",(0,r.jsx)(n.h3,{id:"permission-levels",children:"Permission Levels"}),"\n",(0,r.jsx)(n.p,{children:"MLflow uses a hierarchical permission system with four levels:"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Permission"}),(0,r.jsx)(n.th,{children:"Read"}),(0,r.jsx)(n.th,{children:"Update"}),(0,r.jsx)(n.th,{children:"Delete"}),(0,r.jsx)(n.th,{children:"Manage"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"READ"})}),(0,r.jsx)(n.td,{children:"\u2705"}),(0,r.jsx)(n.td,{children:"\u274c"}),(0,r.jsx)(n.td,{children:"\u274c"}),(0,r.jsx)(n.td,{children:"\u274c"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"EDIT"})}),(0,r.jsx)(n.td,{children:"\u2705"}),(0,r.jsx)(n.td,{children:"\u2705"}),(0,r.jsx)(n.td,{children:"\u274c"}),(0,r.jsx)(n.td,{children:"\u274c"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"MANAGE"})}),(0,r.jsx)(n.td,{children:"\u2705"}),(0,r.jsx)(n.td,{children:"\u2705"}),(0,r.jsx)(n.td,{children:"\u2705"}),(0,r.jsx)(n.td,{children:"\u2705"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"NO_PERMISSIONS"})}),(0,r.jsx)(n.td,{children:"\u274c"}),(0,r.jsx)(n.td,{children:"\u274c"}),(0,r.jsx)(n.td,{children:"\u274c"}),(0,r.jsx)(n.td,{children:"\u274c"})]})]})]}),"\n",(0,r.jsxs)(n.p,{children:["The default permission for all users is ",(0,r.jsx)(n.strong,{children:"READ"}),", configurable in the auth configuration file."]}),"\n",(0,r.jsx)(n.h3,{id:"resource-types",children:"Resource Types"}),"\n",(0,r.jsx)(n.p,{children:"Permissions are granted on two main resource types:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Experiments"})," - Controls access to experiment data and runs"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Registered Models"})," - Controls access to model registry operations"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"authentication-methods",children:"Authentication Methods"}),"\n",(0,r.jsx)(n.h3,{id:"interactive-login-recommended",children:"Interactive Login (Recommended)"}),"\n",(0,r.jsxs)(n.p,{children:["Use ",(0,r.jsx)(n.code,{children:"mlflow.login()"})," for a guided authentication setup:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:'import mlflow\n\n# Interactive login with prompts\nmlflow.login()\n\n# Login to Databricks (currently the only supported backend)\nmlflow.login(backend="databricks", interactive=True)\n\n# Non-interactive mode (requires existing credentials)\nmlflow.login(backend="databricks", interactive=False)\n\n# After login, start using MLflow normally\nwith mlflow.start_run():\n    mlflow.log_metric("accuracy", 0.95)\n'})}),"\n",(0,r.jsx)(n.admonition,{title:"Interactive Experience",type:"tip",children:(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"mlflow.login()"})," will prompt you for credentials if none are found and automatically save them for future use. For Databricks, it saves to ",(0,r.jsx)(n.code,{children:"~/.databrickscfg"}),"."]})}),"\n",(0,r.jsx)(n.h3,{id:"environment-variables",children:"Environment Variables"}),"\n",(0,r.jsx)(n.p,{children:"Set authentication credentials in your environment:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"export MLFLOW_TRACKING_USERNAME=your_username\nexport MLFLOW_TRACKING_PASSWORD=your_password\n"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:'import mlflow\n\nmlflow.set_tracking_uri("https://your-mlflow-server.com")\nwith mlflow.start_run():\n    # Your authenticated MLflow operations\n    mlflow.log_metric("accuracy", 0.95)\n'})}),"\n",(0,r.jsx)(n.h3,{id:"credentials-file",children:"Credentials File"}),"\n",(0,r.jsxs)(n.p,{children:["Store credentials in ",(0,r.jsx)(n.code,{children:"~/.mlflow/credentials"})," (protected by filesystem permissions):"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-ini",children:"[mlflow]\nmlflow_tracking_username = your_username\nmlflow_tracking_password = your_password\n"})}),"\n",(0,r.jsx)(n.admonition,{title:"Credential Priority",type:"note",children:(0,r.jsx)(n.p,{children:"Environment variables take precedence over credentials file. This allows for easy overrides in different environments."})}),"\n",(0,r.jsx)(n.h3,{id:"advanced-authentication-options",children:"Advanced Authentication Options"}),"\n",(0,r.jsx)(n.p,{children:"MLflow supports additional authentication methods and security configurations:"}),"\n",(0,r.jsx)(n.h4,{id:"token-based-authentication",children:"Token-based Authentication"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:'import os\n\nos.environ["MLFLOW_TRACKING_TOKEN"] = "your_api_token"\n'})}),"\n",(0,r.jsx)(n.h4,{id:"aws-sigv4-authentication",children:"AWS SigV4 Authentication"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:'import os\n\nos.environ["MLFLOW_TRACKING_AWS_SIGV4"] = "true"\n'})}),"\n",(0,r.jsx)(n.h4,{id:"custom-authentication-headers",children:"Custom Authentication Headers"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:'import os\n\nos.environ["MLFLOW_TRACKING_AUTH"] = "custom_auth_header_value"\n'})}),"\n",(0,r.jsx)(n.h4,{id:"tlsssl-configuration",children:"TLS/SSL Configuration"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:'import os\n\n# Disable TLS verification (not recommended for production)\nos.environ["MLFLOW_TRACKING_INSECURE_TLS"] = "true"\n\n# Custom client certificate\nos.environ["MLFLOW_TRACKING_CLIENT_CERT_PATH"] = "/path/to/client.crt"\n\n# Custom server certificate\nos.environ["MLFLOW_TRACKING_SERVER_CERT_PATH"] = "/path/to/server.crt"\n'})}),"\n",(0,r.jsx)(n.admonition,{title:"Security Note",type:"warning",children:(0,r.jsx)(n.p,{children:"Only disable TLS verification in development environments. Always use proper certificates in production."})}),"\n",(0,r.jsx)(n.h2,{id:"user-management",children:"User Management"}),"\n",(0,r.jsx)(n.h3,{id:"creating-users",children:"Creating Users"}),"\n",(0,r.jsx)(n.h4,{id:"using-the-web-interface",children:"Using the Web Interface"}),"\n",(0,r.jsxs)(n.p,{children:["Navigate to ",(0,r.jsx)(n.code,{children:"<tracking_uri>/signup"})," to access the user creation form."]}),"\n",(0,r.jsx)(n.h4,{id:"using-the-python-client",children:"Using the Python Client"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:'from mlflow.server import get_app_client\n\n# Authenticate as admin\nauth_client = get_app_client("basic-auth", tracking_uri="https://your-server.com")\nuser = auth_client.create_user(username="newuser", password="secure_password")\n\nprint(f"Created user: {user.username} (ID: {user.id})")\n'})}),"\n",(0,r.jsx)(n.h4,{id:"using-rest-api",children:"Using REST API"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:'import requests\n\nresponse = requests.post(\n    "https://your-server.com/api/2.0/mlflow/users/create",\n    json={"username": "newuser", "password": "secure_password"},\n    auth=("admin", "password1234"),\n)\n'})}),"\n",(0,r.jsx)(n.h3,{id:"managing-admin-status",children:"Managing Admin Status"}),"\n",(0,r.jsx)(n.p,{children:"Only existing admins can promote users to admin status:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:'# Promote user to admin\nauth_client.update_user_admin(username="newuser", is_admin=True)\n\n# Remove admin privileges\nauth_client.update_user_admin(username="newuser", is_admin=False)\n'})}),"\n",(0,r.jsx)(n.h2,{id:"permission-management",children:"Permission Management"}),"\n",(0,r.jsx)(n.h3,{id:"experiment-permissions",children:"Experiment Permissions"}),"\n",(0,r.jsx)(n.p,{children:"Grant users specific permissions on experiments:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:'from mlflow import MlflowClient\n\n# Create experiment and grant permissions\nclient = MlflowClient(tracking_uri="https://your-server.com")\nexperiment_id = client.create_experiment("my_experiment")\n\n# Grant MANAGE permission to user\nauth_client.create_experiment_permission(\n    experiment_id=experiment_id, username="data_scientist", permission="MANAGE"\n)\n\n# Update existing permission\nauth_client.update_experiment_permission(\n    experiment_id=experiment_id, username="data_scientist", permission="EDIT"\n)\n\n# Check current permission\npermission = auth_client.get_experiment_permission(\n    experiment_id=experiment_id, username="data_scientist"\n)\nprint(f"User permission: {permission.permission}")\n'})}),"\n",(0,r.jsx)(n.h3,{id:"registered-model-permissions",children:"Registered Model Permissions"}),"\n",(0,r.jsx)(n.p,{children:"Control access to model registry operations:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:'# Create model with automatic MANAGE permission for creator\nmodel = client.create_registered_model("my_model")\n\n# Grant READ permission to another user\nauth_client.create_registered_model_permission(\n    name="my_model", username="ml_engineer", permission="READ"\n)\n\n# Update to EDIT permission\nauth_client.update_registered_model_permission(\n    name="my_model", username="ml_engineer", permission="EDIT"\n)\n'})}),"\n",(0,r.jsx)(n.h2,{id:"api-reference",children:"API Reference"}),"\n",(0,r.jsx)(n.h3,{id:"core-endpoints",children:"Core Endpoints"}),"\n",(0,r.jsx)(n.h4,{id:"user-management-1",children:"User Management"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Endpoint"}),(0,r.jsx)(n.th,{children:"Method"}),(0,r.jsx)(n.th,{children:"Description"}),(0,r.jsx)(n.th,{children:"Required Permission"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"/api/2.0/mlflow/users/create"})}),(0,r.jsx)(n.td,{children:"POST"}),(0,r.jsx)(n.td,{children:"Create new user"}),(0,r.jsx)(n.td,{children:"Admin only"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"/api/2.0/mlflow/users/get"})}),(0,r.jsx)(n.td,{children:"GET"}),(0,r.jsx)(n.td,{children:"Get user info"}),(0,r.jsx)(n.td,{children:"Self only"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"/api/2.0/mlflow/users/update-password"})}),(0,r.jsx)(n.td,{children:"PATCH"}),(0,r.jsx)(n.td,{children:"Update password"}),(0,r.jsx)(n.td,{children:"Self only"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"/api/2.0/mlflow/users/update-admin"})}),(0,r.jsx)(n.td,{children:"PATCH"}),(0,r.jsx)(n.td,{children:"Update admin status"}),(0,r.jsx)(n.td,{children:"Admin only"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"/api/2.0/mlflow/users/delete"})}),(0,r.jsx)(n.td,{children:"DELETE"}),(0,r.jsx)(n.td,{children:"Delete user"}),(0,r.jsx)(n.td,{children:"Admin only"})]})]})]}),"\n",(0,r.jsx)(n.h4,{id:"experiment-permissions-1",children:"Experiment Permissions"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Endpoint"}),(0,r.jsx)(n.th,{children:"Method"}),(0,r.jsx)(n.th,{children:"Required Permission"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"/api/2.0/mlflow/experiments/permissions/create"})}),(0,r.jsx)(n.td,{children:"POST"}),(0,r.jsx)(n.td,{children:"can_manage"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"/api/2.0/mlflow/experiments/permissions/get"})}),(0,r.jsx)(n.td,{children:"GET"}),(0,r.jsx)(n.td,{children:"can_manage"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"/api/2.0/mlflow/experiments/permissions/update"})}),(0,r.jsx)(n.td,{children:"PATCH"}),(0,r.jsx)(n.td,{children:"can_manage"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"/api/2.0/mlflow/experiments/permissions/delete"})}),(0,r.jsx)(n.td,{children:"DELETE"}),(0,r.jsx)(n.td,{children:"can_manage"})]})]})]}),"\n",(0,r.jsx)(n.h4,{id:"model-registry-permissions",children:"Model Registry Permissions"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Endpoint"}),(0,r.jsx)(n.th,{children:"Method"}),(0,r.jsx)(n.th,{children:"Required Permission"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"/api/2.0/mlflow/registered-models/permissions/create"})}),(0,r.jsx)(n.td,{children:"POST"}),(0,r.jsx)(n.td,{children:"can_manage"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"/api/2.0/mlflow/registered-models/permissions/get"})}),(0,r.jsx)(n.td,{children:"GET"}),(0,r.jsx)(n.td,{children:"can_manage"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"/api/2.0/mlflow/registered-models/permissions/update"})}),(0,r.jsx)(n.td,{children:"PATCH"}),(0,r.jsx)(n.td,{children:"can_manage"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"/api/2.0/mlflow/registered-models/permissions/delete"})}),(0,r.jsx)(n.td,{children:"DELETE"}),(0,r.jsx)(n.td,{children:"can_manage"})]})]})]}),"\n",(0,r.jsx)(n.h3,{id:"enhanced-behavior",children:"Enhanced Behavior"}),"\n",(0,r.jsx)(n.p,{children:"When authentication is enabled, certain APIs automatically filter results based on user permissions:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Search Experiments"})," - Returns only experiments the user can read"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Search Runs"})," - Returns only runs from readable experiments"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Search Registered Models"})," - Returns only models the user can read"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Create Operations"})," - Automatically grants MANAGE permission to creators"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"configuration",children:"Configuration"}),"\n",(0,r.jsx)(n.h3,{id:"database-configuration",children:"Database Configuration"}),"\n",(0,r.jsx)(n.p,{children:"MLflow uses SQLite by default, but supports centralized databases for multi-node deployments:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-ini",children:"# /path/to/auth_config.ini\n[mlflow]\ndatabase_uri = postgresql://username:password@hostname:port/database\ndefault_permission = READ\nadmin_username = admin\nadmin_password = password1234\nauthorization_function = mlflow.server.auth:authenticate_request_basic_auth\n"})}),"\n",(0,r.jsx)(n.p,{children:"Start the server with custom configuration:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"MLFLOW_AUTH_CONFIG_PATH=/path/to/auth_config.ini mlflow server --app-name basic-auth\n"})}),"\n",(0,r.jsx)(n.h3,{id:"database-migration",children:"Database Migration"}),"\n",(0,r.jsx)(n.p,{children:"Run database migrations when needed:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"python -m mlflow.server.auth db upgrade --url <database_url>\n"})}),"\n",(0,r.jsx)(n.h2,{id:"advanced-topics",children:"Advanced Topics"}),"\n",(0,r.jsx)(n.h3,{id:"custom-authentication",children:"Custom Authentication"}),"\n",(0,r.jsx)(n.p,{children:"MLflow supports custom authentication methods through pluggable functions:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:"# custom_auth.py\nfrom werkzeug.datastructures import Authorization\nfrom flask import Response\n\n\ndef custom_authenticate() -> Union[Authorization, Response]:\n    # Your custom authentication logic\n    # Return Authorization object if authenticated\n    # Return Response object (401) if not authenticated\n    pass\n"})}),"\n",(0,r.jsx)(n.p,{children:"Update configuration to use your custom function:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-ini",children:"[mlflow]\nauthorization_function = custom_auth:custom_authenticate\n"})}),"\n",(0,r.jsx)(n.h3,{id:"plugin-development",children:"Plugin Development"}),"\n",(0,r.jsx)(n.p,{children:"Create installable authentication plugins:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:"# my_auth_plugin/__init__.py\nfrom flask import Flask\nfrom mlflow.server import app\n\n\ndef create_app(app: Flask = app):\n    # Extend MLflow app with custom auth logic\n    app.add_url_rule(...)\n    return app\n\n\nclass MyAuthClient:\n    # Custom client for managing permissions\n    pass\n"})}),"\n",(0,r.jsx)(n.p,{children:"Register your plugin:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:'# setup.py\nsetup(\n    entry_points={\n        "mlflow.app": ["my-auth=my_auth_plugin:create_app"],\n        "mlflow.app.client": ["my-auth=my_auth_plugin:MyAuthClient"],\n    }\n)\n'})}),"\n",(0,r.jsx)(n.h2,{id:"security-best-practices",children:"Security Best Practices"}),"\n",(0,r.jsx)(n.h3,{id:"password-security",children:"Password Security"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Use strong passwords (minimum 12 characters)"}),"\n",(0,r.jsx)(n.li,{children:"Rotate credentials regularly"}),"\n",(0,r.jsx)(n.li,{children:"Store credentials securely using environment variables or secure credential files"}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"network-security",children:"Network Security"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Use HTTPS in production environments"}),"\n",(0,r.jsx)(n.li,{children:"Configure proper firewall rules"}),"\n",(0,r.jsx)(n.li,{children:"Consider using reverse proxy with additional security headers"}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"database-security",children:"Database Security"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Use encrypted connections to your database"}),"\n",(0,r.jsx)(n.li,{children:"Regularly backup authentication data"}),"\n",(0,r.jsx)(n.li,{children:"Implement proper database access controls"}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"monitoring",children:"Monitoring"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Monitor authentication logs for suspicious activity"}),"\n",(0,r.jsx)(n.li,{children:"Set up alerts for failed authentication attempts"}),"\n",(0,r.jsx)(n.li,{children:"Regularly audit user permissions"}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"troubleshooting",children:"Troubleshooting"}),"\n",(0,r.jsx)(n.h3,{id:"common-issues",children:"Common Issues"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Secret Key Errors"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"Solution: Ensure MLFLOW_FLASK_SERVER_SECRET_KEY is set and consistent across all servers\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Permission Denied (403)"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"Solution: Check user permissions using get_experiment_permission or get_registered_model_permission\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Authentication Failed (401)"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"Solution: Verify username/password and ensure user exists in the system\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Database Connection Issues"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"Solution: Verify database_uri in configuration and ensure database is accessible\n"})}),"\n",(0,r.jsx)(n.h3,{id:"debugging-tips",children:"Debugging Tips"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Enable Debug Logging"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"export MLFLOW_LOGGING_LEVEL=DEBUG\n"})}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Check User Permissions"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:'# Verify current user permissions\nuser = auth_client.get_user("username")\nprint(f"Is admin: {user.is_admin}")\n\npermission = auth_client.get_experiment_permission("exp_id", "username")\nprint(f"Experiment permission: {permission.permission}")\n'})}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Database Inspection"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:'# Check database tables\nsqlite3 basic_auth.db ".tables"\nsqlite3 basic_auth.db "SELECT * FROM users;"\n'})}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"migration-guide",children:"Migration Guide"}),"\n",(0,r.jsx)(n.h3,{id:"enabling-authentication-on-existing-server",children:"Enabling Authentication on Existing Server"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Backup your data"})," before enabling authentication"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Install auth dependencies"}),": ",(0,r.jsx)(n.code,{children:"pip install mlflow[auth]"})]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Set secret key"}),": ",(0,r.jsx)(n.code,{children:'export MLFLOW_FLASK_SERVER_SECRET_KEY="your-key"'})]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Restart server"}),": ",(0,r.jsx)(n.code,{children:"mlflow server --app-name basic-auth"})]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Update admin password"})," immediately after first login"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"disabling-authentication",children:"Disabling Authentication"}),"\n",(0,r.jsxs)(n.p,{children:["To disable authentication, simply restart the server without the ",(0,r.jsx)(n.code,{children:"--app-name basic-auth"})," flag. User data and permissions will be preserved for future re-enabling."]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Need Help?"})," Check the ",(0,r.jsx)(n.a,{href:"https://mlflow.org/docs/latest/python_api/mlflow.server.auth.html",children:"MLflow Authentication API Reference"})," for detailed function documentation."]})]})}function h(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(c,{...e})}):c(e)}}}]);