/*! For license information please see 8852b4af.3ef0574c.js.LICENSE.txt */
"use strict";(globalThis.webpackChunkdocs=globalThis.webpackChunkdocs||[]).push([[7341],{6789:(e,l,t)=>{t.d(l,{A:()=>c});t(96540);var n=t(28774),a=t(34164);const i={tileCard:"tileCard_NHsj",tileIcon:"tileIcon_pyoR",tileLink:"tileLink_iUbu",tileImage:"tileImage_O4So"};var r=t(86025),o=t(15626),s=t(74848);function c({icon:e,image:l,imageDark:t,imageWidth:c,imageHeight:p,iconSize:m=32,containerHeight:h,title:f,description:d,href:u,linkText:w="Learn more \u2192",className:g}){if(!e&&!l)throw new Error("TileCard requires either an icon or image prop");const _=h?{height:`${h}px`}:{},y={};return c&&(y.width=`${c}px`),p&&(y.height=`${p}px`),(0,s.jsxs)(n.A,{href:u,className:(0,a.A)(i.tileCard,g),children:[(0,s.jsx)("div",{className:i.tileIcon,style:_,children:e?(0,s.jsx)(e,{size:m}):t?(0,s.jsx)(o.A,{sources:{light:(0,r.default)(l),dark:(0,r.default)(t)},alt:f,className:i.tileImage,style:y}):(0,s.jsx)("img",{src:(0,r.default)(l),alt:f,className:i.tileImage,style:y})}),(0,s.jsx)("h3",{children:f}),(0,s.jsx)("p",{children:d}),(0,s.jsx)("div",{className:i.tileLink,children:w})]})}},28453:(e,l,t)=>{t.d(l,{R:()=>r,x:()=>o});var n=t(96540);const a={},i=n.createContext(a);function r(e){const l=n.useContext(i);return n.useMemo(function(){return"function"==typeof e?e(l):{...l,...e}},[l,e])}function o(e){let l;return l=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:r(e.components),n.createElement(i.Provider,{value:l},e.children)}},30045:(e,l,t)=>{t.r(l),t.d(l,{assets:()=>u,contentTitle:()=>d,default:()=>_,frontMatter:()=>f,metadata:()=>n,toc:()=>w});const n=JSON.parse('{"id":"eval-monitor/scorers/llm-judge/guidelines","title":"Guidelines-based LLM Scorers","description":"Guidelines is a powerful scorer class designed to let you quickly and easily customize evaluation by defining natural language criteria that are framed as pass/fail conditions. It is ideal for checking compliance with rules, style guides, or information inclusion/exclusion.","source":"@site/docs/genai/eval-monitor/scorers/llm-judge/guidelines.mdx","sourceDirName":"eval-monitor/scorers/llm-judge","slug":"/eval-monitor/scorers/llm-judge/guidelines","permalink":"/mlflow-website/docs/latest/genai/eval-monitor/scorers/llm-judge/guidelines","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"genAISidebar","previous":{"title":"Template-based","permalink":"/mlflow-website/docs/latest/genai/eval-monitor/scorers/llm-judge/make-judge"},"next":{"title":"Agent-as-a-Judge","permalink":"/mlflow-website/docs/latest/genai/eval-monitor/scorers/llm-judge/agentic-overview"}}');var a=t(74848),i=t(28453),r=t(49374),o=t(66927),s=t(6789),c=t(65592),p=t(42640),m=t(61878),h=t(47504);const f={},d="Guidelines-based LLM Scorers",u={},w=[{value:"Example usage",id:"example-usage",level:3},{value:"Selecting Judge Models",id:"selecting-judge-models",level:2},{value:"Next Steps",id:"next-steps",level:2}];function g(e){const l={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",p:"p",pre:"pre",...(0,i.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(l.header,{children:(0,a.jsx)(l.h1,{id:"guidelines-based-llm-scorers",children:"Guidelines-based LLM Scorers"})}),"\n",(0,a.jsxs)(l.p,{children:[(0,a.jsx)(r.B,{fn:"mlflow.genai.scorers.Guidelines",children:"Guidelines"})," is a powerful scorer class designed to let you quickly and easily customize evaluation by defining natural language criteria that are framed as pass/fail conditions. It is ideal for checking compliance with rules, style guides, or information inclusion/exclusion."]}),"\n",(0,a.jsx)(l.p,{children:'Guidelines have the distinct advantage of being easy to explain to business stakeholders ("we are evaluating if the app delivers upon this set of rules") and, as such, can often be directly written by domain experts.'}),"\n",(0,a.jsx)(l.h3,{id:"example-usage",children:"Example usage"}),"\n",(0,a.jsx)(l.p,{children:"First, define the guidelines as a simple string:"}),"\n",(0,a.jsx)(l.pre,{children:(0,a.jsx)(l.code,{className:"language-python",children:'tone = "The response must maintain a courteous, respectful tone throughout.  It must show empathy for customer concerns."\neasy_to_understand = "The response must use clear, concise language and structure responses logically. It must avoid jargon or explain technical terms when used."\nbanned_topics = "If the request is a question about product pricing, the response must politely decline to answer and refer the user to the pricing page."\n'})}),"\n",(0,a.jsxs)(l.p,{children:["Then pass each guideline to the ",(0,a.jsx)(l.code,{children:"Guidelines"})," class to create a scorer and run evaluation:"]}),"\n",(0,a.jsx)(l.pre,{children:(0,a.jsx)(l.code,{className:"language-python",children:'import mlflow\n\neval_dataset = [\n    {\n        "inputs": {"question": "I\'m having trouble with my account.  I can\'t log in."},\n        "outputs": "I\'m sorry to hear that you\'re having trouble logging in. Please provide me with your username and the specific issue you\'re experiencing, and I\'ll be happy to help you resolve it.",\n    },\n    {\n        "inputs": {"question": "How much does a microwave cost?"},\n        "outputs": "The microwave costs $100.",\n    },\n    {\n        "inputs": {"question": "How does a refrigerator work?"},\n        "outputs": "A refrigerator operates via thermodynamic vapor-compression cycles utilizing refrigerant phase transitions. The compressor pressurizes vapor which condenses externally, then expands through evaporator coils to absorb internal heat through endothermic vaporization.",\n    },\n]\n\nmlflow.genai.evaluate(\n    data=eval_dataset,\n    scorers=[\n        # Create a scorer for each guideline\n        Guidelines(name="tone", guidelines=tone),\n        Guidelines(name="easy_to_understand", guidelines=easy_to_understand),\n        Guidelines(name="banned_topics", guidelines=banned_topics),\n    ],\n)\n'})}),"\n",(0,a.jsx)(o.A,{src:"/images/mlflow-3/eval-monitor/scorers/guideline-scorers-results.png",alt:"Guidelines scorers result"}),"\n",(0,a.jsx)(l.h2,{id:"selecting-judge-models",children:"Selecting Judge Models"}),"\n",(0,a.jsx)(l.p,{children:"MLflow supports all major LLM providers, such as OpenAI, Anthropic, Google, xAI, and more."}),"\n",(0,a.jsxs)(l.p,{children:["See ",(0,a.jsx)(l.a,{href:"/genai/eval-monitor/scorers/llm-judge#supported-models",children:"Supported Models"})," for more details."]}),"\n",(0,a.jsx)(l.h2,{id:"next-steps",children:"Next Steps"}),"\n",(0,a.jsxs)(c.A,{children:[(0,a.jsx)(s.A,{icon:p.A,title:"Evaluate Agents",description:"Learn how to evaluate AI agents with specialized techniques and scorers",href:"/genai/eval-monitor/running-evaluation/agents"}),(0,a.jsx)(s.A,{icon:m.A,title:"Evaluate Traces",description:"Evaluate production traces to understand and improve your AI application's behavior",href:"/genai/eval-monitor/running-evaluation/traces"}),(0,a.jsx)(s.A,{icon:h.A,title:"Collect User Feedback",description:"Integrate user feedback to continuously improve your evaluation criteria and model performance",href:"/genai/assessments/feedback/"})]})]})}function _(e={}){const{wrapper:l}={...(0,i.R)(),...e.components};return l?(0,a.jsx)(l,{...e,children:(0,a.jsx)(g,{...e})}):g(e)}},42640:(e,l,t)=>{t.d(l,{A:()=>n});const n=(0,t(84722).A)("bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]])},47504:(e,l,t)=>{t.d(l,{A:()=>n});const n=(0,t(84722).A)("message-square",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]])},49374:(e,l,t)=>{t.d(l,{B:()=>o});t(96540);const n=JSON.parse('{"mlflow.ag2":"api_reference/python_api/mlflow.ag2.html","mlflow.agno":"api_reference/python_api/mlflow.agno.html","mlflow.anthropic":"api_reference/python_api/mlflow.anthropic.html","mlflow.artifacts":"api_reference/python_api/mlflow.artifacts.html","mlflow.autogen":"api_reference/python_api/mlflow.autogen.html","mlflow.bedrock":"api_reference/python_api/mlflow.bedrock.html","mlflow.catboost":"api_reference/python_api/mlflow.catboost.html","mlflow.client":"api_reference/python_api/mlflow.client.html","mlflow.config":"api_reference/python_api/mlflow.config.html","mlflow.crewai":"api_reference/python_api/mlflow.crewai.html","mlflow.data":"api_reference/python_api/mlflow.data.html","mlflow.deployments":"api_reference/python_api/mlflow.deployments.html","mlflow.diviner":"api_reference/python_api/mlflow.diviner.html","mlflow.dspy":"api_reference/python_api/mlflow.dspy.html","mlflow.entities":"api_reference/python_api/mlflow.entities.html","mlflow.environment_variables":"api_reference/python_api/mlflow.environment_variables.html","mlflow.gateway":"api_reference/python_api/mlflow.gateway.html","mlflow.gemini":"api_reference/python_api/mlflow.gemini.html","mlflow.genai":"api_reference/python_api/mlflow.genai.html","mlflow.groq":"api_reference/python_api/mlflow.groq.html","mlflow.h2o":"api_reference/python_api/mlflow.h2o.html","mlflow.johnsnowlabs":"api_reference/python_api/mlflow.johnsnowlabs.html","mlflow.keras":"api_reference/python_api/mlflow.keras.html","mlflow.langchain":"api_reference/python_api/mlflow.langchain.html","mlflow.lightgbm":"api_reference/python_api/mlflow.lightgbm.html","mlflow.litellm":"api_reference/python_api/mlflow.litellm.html","mlflow.llama_index":"api_reference/python_api/mlflow.llama_index.html","mlflow.metrics":"api_reference/python_api/mlflow.metrics.html","mlflow.mistral":"api_reference/python_api/mlflow.mistral.html","mlflow.models":"api_reference/python_api/mlflow.models.html","mlflow.onnx":"api_reference/python_api/mlflow.onnx.html","mlflow.openai":"api_reference/python_api/mlflow.openai.html","mlflow.paddle":"api_reference/python_api/mlflow.paddle.html","mlflow.pmdarima":"api_reference/python_api/mlflow.pmdarima.html","mlflow.projects":"api_reference/python_api/mlflow.projects.html","mlflow.prophet":"api_reference/python_api/mlflow.prophet.html","mlflow.pydantic_ai":"api_reference/python_api/mlflow.pydantic_ai.html","mlflow.pyfunc":"api_reference/python_api/mlflow.pyfunc.html","mlflow.pyspark.ml":"api_reference/python_api/mlflow.pyspark.ml.html","mlflow.pytorch":"api_reference/python_api/mlflow.pytorch.html","mlflow":"api_reference/python_api/mlflow.html","mlflow.sagemaker":"api_reference/python_api/mlflow.sagemaker.html","mlflow.sentence_transformers":"api_reference/python_api/mlflow.sentence_transformers.html","mlflow.server":"api_reference/python_api/mlflow.server.html","mlflow.shap":"api_reference/python_api/mlflow.shap.html","mlflow.sklearn":"api_reference/python_api/mlflow.sklearn.html","mlflow.smolagents":"api_reference/python_api/mlflow.smolagents.html","mlflow.spacy":"api_reference/python_api/mlflow.spacy.html","mlflow.spark":"api_reference/python_api/mlflow.spark.html","mlflow.statsmodels":"api_reference/python_api/mlflow.statsmodels.html","mlflow.system_metrics":"api_reference/python_api/mlflow.system_metrics.html","mlflow.tensorflow":"api_reference/python_api/mlflow.tensorflow.html","mlflow.tracing":"api_reference/python_api/mlflow.tracing.html","mlflow.transformers":"api_reference/python_api/mlflow.transformers.html","mlflow.types":"api_reference/python_api/mlflow.types.html","mlflow.utils":"api_reference/python_api/mlflow.utils.html","mlflow.webhooks":"api_reference/python_api/mlflow.webhooks.html","mlflow.xgboost":"api_reference/python_api/mlflow.xgboost.html","mlflow.server.auth":"api_reference/auth/python-api.html","mlflow.server.cli":"api_reference/cli.html","mlflow.r":"api_reference/R-api.html","mlflow.java":"api_reference/java_api/index.html","mlflow.python":"api_reference/python_api/index.html","mlflow.rest":"api_reference/rest-api.html","mlflow.typescript":"api_reference/typescript_api/index.html","mlflow.llms.deployments.api":"api_reference/llms/deployments/api.html"}');var a=t(86025),i=t(74848);const r=e=>{const l=e.split(".");for(let t=l.length;t>0;t--){const e=l.slice(0,t).join(".");if(n[e])return e}return null};function o({fn:e,children:l,hash:t}){const o=r(e);if(!o)return(0,i.jsx)(i.Fragment,{children:l});const s=(0,a.default)(`/${n[o]}#${t??e}`);return(0,i.jsx)("a",{href:s,target:"_blank",children:l??(0,i.jsxs)("code",{children:[e,"()"]})})}},61878:(e,l,t)=>{t.d(l,{A:()=>n});const n=(0,t(84722).A)("git-branch",[["line",{x1:"6",x2:"6",y1:"3",y2:"15",key:"17qcm7"}],["circle",{cx:"18",cy:"6",r:"3",key:"1h7g24"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M18 9a9 9 0 0 1-9 9",key:"n2h4wq"}]])},65592:(e,l,t)=>{t.d(l,{A:()=>r});t(96540);var n=t(34164);const a={tilesGrid:"tilesGrid_hB9N"};var i=t(74848);function r({children:e,className:l}){return(0,i.jsx)("div",{className:(0,n.A)(a.tilesGrid,l),children:e})}},66927:(e,l,t)=>{t.d(l,{A:()=>r});t(96540);const n={container:"container_JwLF",imageWrapper:"imageWrapper_RfGN",image:"image_bwOA",caption:"caption_jo2G"};var a=t(86025),i=t(74848);function r({src:e,alt:l,width:t,caption:r,className:o}){return(0,i.jsxs)("div",{className:`${n.container} ${o||""}`,children:[(0,i.jsx)("div",{className:n.imageWrapper,style:t?{width:t}:{},children:(0,i.jsx)("img",{src:(0,a.default)(e),alt:l,className:n.image})}),r&&(0,i.jsx)("p",{className:n.caption,children:r})]})}},84722:(e,l,t)=>{t.d(l,{A:()=>c});var n=t(96540);const a=e=>{const l=(e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,l,t)=>t?t.toUpperCase():l.toLowerCase()))(e);return l.charAt(0).toUpperCase()+l.slice(1)},i=(...e)=>e.filter((e,l,t)=>Boolean(e)&&""!==e.trim()&&t.indexOf(e)===l).join(" ").trim(),r=e=>{for(const l in e)if(l.startsWith("aria-")||"role"===l||"title"===l)return!0};var o={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const s=(0,n.forwardRef)(({color:e="currentColor",size:l=24,strokeWidth:t=2,absoluteStrokeWidth:a,className:s="",children:c,iconNode:p,...m},h)=>(0,n.createElement)("svg",{ref:h,...o,width:l,height:l,stroke:e,strokeWidth:a?24*Number(t)/Number(l):t,className:i("lucide",s),...!c&&!r(m)&&{"aria-hidden":"true"},...m},[...p.map(([e,l])=>(0,n.createElement)(e,l)),...Array.isArray(c)?c:[c]])),c=(e,l)=>{const t=(0,n.forwardRef)(({className:t,...r},o)=>{return(0,n.createElement)(s,{ref:o,iconNode:l,className:i(`lucide-${c=a(e),c.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,`lucide-${e}`,t),...r});var c});return t.displayName=a(e),t}}}]);