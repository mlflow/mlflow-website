"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[5803],{25848:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>c,contentTitle:()=>o,default:()=>l,frontMatter:()=>a,metadata:()=>i,toc:()=>h});const i=JSON.parse('{"id":"getting-started/logging-first-model/step4-experiment-search/index","title":"Searching Experiments","description":"In the last section, we created our first MLflow Experiment, providing custom tags so that we can find","source":"@site/docs/getting-started/logging-first-model/step4-experiment-search/index.mdx","sourceDirName":"getting-started/logging-first-model/step4-experiment-search","slug":"/getting-started/logging-first-model/step4-experiment-search/","permalink":"/docs/latest/getting-started/logging-first-model/step4-experiment-search/","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":4,"frontMatter":{"sidebar_position":4}}');var r=n(74848),s=n(28453);const a={sidebar_position:4},o="Searching Experiments",c={},h=[{value:"Seeing our new Experiment in the UI",id:"seeing-our-new-experiment-in-the-ui",level:2},{value:"Important components to be aware of in the UI",id:"important-components-to-be-aware-of-in-the-ui",level:3},{value:"Searching based on tags",id:"searching-based-on-tags",level:2},{value:"Executing the Search",id:"executing-the-search",level:2}];function d(e){const t={admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",img:"img",p:"p",pre:"pre",...(0,s.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(t.header,{children:(0,r.jsx)(t.h1,{id:"searching-experiments",children:"Searching Experiments"})}),"\n",(0,r.jsx)(t.p,{children:"In the last section, we created our first MLflow Experiment, providing custom tags so that we can find\nco-related Experiments that are part of a larger project."}),"\n",(0,r.jsx)(t.p,{children:"In this brief section, we're going to see how to perform those searches with the MLflow Client API."}),"\n",(0,r.jsxs)(t.p,{children:["Before we perform the search, let's take a look at our ",(0,r.jsx)(t.code,{children:"Apple_Models"})," experiment in the UI."]}),"\n",(0,r.jsx)(t.h2,{id:"seeing-our-new-experiment-in-the-ui",children:"Seeing our new Experiment in the UI"}),"\n",(0,r.jsxs)(t.p,{children:["As before, we're going to connect to our running MLflow Tracking server to view the MLflow UI. If you've closed the browser\nwindow that was running it, simply navigate to ",(0,r.jsx)(t.code,{children:"http://127.0.0.1:8080"})," in a new browser window."]}),"\n",(0,r.jsx)("figure",{className:"center-div",style:{width:1024,maxWidth:"100%",textAlign:"center"},children:(0,r.jsxs)(t.p,{children:[(0,r.jsx)(t.img,{alt:"View our new experiment in the UI",src:n(98873).A+"",width:"2048",height:"1084"}),"\n",(0,r.jsx)("figcaption",{children:'The "Apple_Models" Experiment in the MLflow UI'})]})}),"\n",(0,r.jsx)(t.h3,{id:"important-components-to-be-aware-of-in-the-ui",children:"Important components to be aware of in the UI"}),"\n",(0,r.jsx)(t.p,{children:"There are some important elements in the UI to be aware of at this point, before we start adding more exciting things like runs to\nour new experiment. Note the annotated elements on the figure below. It will be useful to know that these bits of data are there later on."}),"\n",(0,r.jsx)("figure",{className:"center-div",style:{width:1024,maxWidth:"100%",textAlign:"center"},children:(0,r.jsxs)(t.p,{children:[(0,r.jsx)(t.img,{alt:"Important Data on the Experiment View Page",src:n(47351).A+"",width:"1460",height:"831"}),"\n",(0,r.jsx)("figcaption",{children:"Key elements of the Experiments view page"})]})}),"\n",(0,r.jsx)(t.h2,{id:"searching-based-on-tags",children:"Searching based on tags"}),"\n",(0,r.jsx)(t.p,{children:"Now that we've seen the experiment and understand which of the tags that we specified during the creation of the experiment\nare visible within the UI and which are not, we're going to explore the reason for defining those tags as we\napply searches against the tracking server to find experiments whose custom tags values match our query terms."}),"\n",(0,r.jsxs)(t.p,{children:["One of the more versatile uses of setting ",(0,r.jsx)(t.code,{children:"tags"})," within Experiments is to enable searching for\nrelated Experiments based on a common tag. The filtering capabilities within the ",(0,r.jsx)(t.code,{children:"search_experiments"})," API\ncan be seen below, where we are searching for experiments whose custom ",(0,r.jsx)(t.code,{children:"project_name"})," tag exactly matches\n",(0,r.jsx)(t.code,{children:"grocery-forecasting"}),"."]}),"\n",(0,r.jsxs)(t.p,{children:["Note that the format that is used for the search filtering has some nuance to it. For named entities (for instance,\nhere, the ",(0,r.jsx)(t.code,{children:"tags"})," term in the beginning of the filter string), keys can be directly used. However, to reference custom\ntags, note the particular syntax used. The custom tag names are wrapped with back ticks (`) and our matching search"]}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-python",children:"# Use search_experiments() to search on the project_name tag key\n\napples_experiment = client.search_experiments(\n    filter_string=\"tags.`project_name` = 'grocery-forecasting'\"\n)\n\nprint(vars(apples_experiment[0]))\n"})}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-bash",metastring:'title="The metadata associated with a created Experiment"',children:"<Experiment: artifact_location='mlflow-artifacts:/926031323154788454',\n              creation_time=1694018173427,\n              experiment_id='926031323154788454',\n              last_update_time=1694018173427,\n              lifecycle_stage='active',\n              name='Apple_Models',\n              tags={\n                'mlflow.note.content': 'This is the grocery forecasting project. This '\n                        'experiment contains the produce models for apples.',\n                'project_name': 'grocery-forecasting',\n                'project_quarter': 'Q3-2023',\n                'team': 'stores-ml'}\n>\n"})}),"\n",(0,r.jsx)(t.admonition,{type:"note",children:(0,r.jsxs)(t.p,{children:["The returned results above are formatted for legibility. This return type is an ",(0,r.jsx)(t.code,{children:"Experiment"})," object, not a ",(0,r.jsx)(t.code,{children:"dict"}),"."]})}),"\n",(0,r.jsx)(t.h2,{id:"executing-the-search",children:"Executing the Search"}),"\n",(0,r.jsx)("figure",{className:"center-div",style:{width:1024,maxWidth:"100%",textAlign:"center"},children:(0,r.jsxs)(t.p,{children:[(0,r.jsx)(t.img,{alt:"Creating a new Experiment",src:n(77715).A+"",width:"2048",height:"1216"}),"\n",(0,r.jsx)("figcaption",{children:"Creating a new Experiment and searching based on an Experiment tag"})]})}),"\n",(0,r.jsx)(t.p,{children:"In the next section, we'll begin to use this experiment to log training data to runs that are associated with this experiment, introducing\nanother aspect of both the MLflow APIs (the fluent API) and another part of the MLflow UI (the run information page)."})]})}function l(e={}){const{wrapper:t}={...(0,s.R)(),...e.components};return t?(0,r.jsx)(t,{...e,children:(0,r.jsx)(d,{...e})}):d(e)}},28453:(e,t,n)=>{n.d(t,{R:()=>a,x:()=>o});var i=n(96540);const r={},s=i.createContext(r);function a(e){const t=i.useContext(s);return i.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function o(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:a(e.components),i.createElement(s.Provider,{value:t},e.children)}},47351:(e,t,n)=>{n.d(t,{A:()=>i});const i=n.p+"assets/images/experiment-page-elements-a6058a7765d6b1e2aae764feabf33498.svg"},77715:(e,t,n)=>{n.d(t,{A:()=>i});const i=n.p+"assets/images/creating-experiment-8b81c39758e49cb83f0f137ec7851367.gif"},98873:(e,t,n)=>{n.d(t,{A:()=>i});const i=n.p+"assets/images/first-experiment-ui-0c25ec239ea9a1d964427b21a52cdf74.gif"}}]);