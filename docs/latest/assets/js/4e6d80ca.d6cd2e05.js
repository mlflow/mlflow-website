"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([["5905"],{50083(e,t,n){n.r(t),n.d(t,{metadata:()=>r,default:()=>g,frontMatter:()=>l,contentTitle:()=>s,toc:()=>d,assets:()=>c});var r=JSON.parse('{"id":"tracing/integrations/listing/google-adk","title":"Tracing Google Agent Development Kit (ADK)","description":"MLflow Tracing provides automatic tracing capability for Google ADK, a flexible and modular AI agents framework developed by Google. MLflow supports tracing for Google ADK through the OpenTelemetry integration.","source":"@site/docs/genai/tracing/integrations/listing/google-adk.mdx","sourceDirName":"tracing/integrations/listing","slug":"/tracing/integrations/listing/google-adk","permalink":"/mlflow-website/docs/latest/genai/tracing/integrations/listing/google-adk","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":5,"frontMatter":{"sidebar_position":5,"sidebar_label":"Google ADK"},"sidebar":"genAISidebar","previous":{"title":"DSPy","permalink":"/mlflow-website/docs/latest/genai/tracing/integrations/listing/dspy"},"next":{"title":"Haystack","permalink":"/mlflow-website/docs/latest/genai/tracing/integrations/listing/haystack"}}'),a=n(74848),o=n(28453),i=n(46077);let l={sidebar_position:5,sidebar_label:"Google ADK"},s="Tracing Google Agent Development Kit (ADK)",c={},d=[{value:"Step 1: Install libraries",id:"step-1-install-libraries",level:2},{value:"Step 2: Start the MLflow Tracking Server",id:"step-2-start-the-mlflow-tracking-server",level:2},{value:"Step 3: Configure OpenTelemetry",id:"step-3-configure-opentelemetry",level:2},{value:"Step 4: Run the Agent",id:"step-4-run-the-agent",level:2},{value:"Next Steps",id:"next-steps",level:2}];function p(e){let t={a:"a",code:"code",h1:"h1",h2:"h2",header:"header",li:"li",p:"p",pre:"pre",ul:"ul",...(0,o.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(t.header,{children:(0,a.jsx)(t.h1,{id:"tracing-google-agent-development-kit-adk",children:"Tracing Google Agent Development Kit (ADK)"})}),"\n",(0,a.jsx)(i.A,{src:"/images/llms/tracing/google-adk-tracing.png",alt:"Google ADK Tracing"}),"\n",(0,a.jsxs)(t.p,{children:[(0,a.jsx)(t.a,{href:"/genai/tracing",children:"MLflow Tracing"})," provides automatic tracing capability for ",(0,a.jsx)(t.a,{href:"https://google.github.io/adk-docs/",children:"Google ADK"}),", a flexible and modular AI agents framework developed by Google. MLflow supports tracing for Google ADK through the ",(0,a.jsx)(t.a,{href:"/genai/tracing/opentelemetry",children:"OpenTelemetry"})," integration."]}),"\n",(0,a.jsx)(t.h2,{id:"step-1-install-libraries",children:"Step 1: Install libraries"}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-bash",children:"pip install 'mlflow[genai]>=3.6.0' google-adk opentelemetry-exporter-otlp-proto-http\n"})}),"\n",(0,a.jsx)(t.h2,{id:"step-2-start-the-mlflow-tracking-server",children:"Step 2: Start the MLflow Tracking Server"}),"\n",(0,a.jsx)(t.p,{children:"Start the MLflow Tracking Server with a SQL-based backend store:"}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-bash",children:"mlflow server --backend-store-uri sqlite:///mlflow.db --port 5000\n"})}),"\n",(0,a.jsxs)(t.p,{children:["This example uses SQLite as the backend store. To use other types of SQL databases such as PostgreSQL, MySQL, and MSSQL, change the store URI as described in the ",(0,a.jsx)(t.a,{href:"/self-hosting/architecture/backend-store",children:"backend store documentation"}),". OpenTelemetry ingestion is not supported with file-based backend stores."]}),"\n",(0,a.jsx)(t.h2,{id:"step-3-configure-opentelemetry",children:"Step 3: Configure OpenTelemetry"}),"\n",(0,a.jsx)(t.p,{children:"Configure the OpenTelemetry tracer to export traces to the MLflow Tracking Server endpoint."}),"\n",(0,a.jsxs)(t.ul,{children:["\n",(0,a.jsxs)(t.li,{children:["Set the endpoint to the MLflow Tracking Server's ",(0,a.jsx)(t.code,{children:"/v1/traces"})," endpoint (OTLP)."]}),"\n",(0,a.jsxs)(t.li,{children:["Set the ",(0,a.jsx)(t.code,{children:"x-mlflow-experiment-id"})," header to the MLflow experiment ID. If you don't have an experiment ID, create it from Python SDK or the MLflow UI."]}),"\n"]}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-bash",children:"export OTEL_EXPORTER_OTLP_ENDPOINT=http://localhost:5000\nexport OTEL_EXPORTER_OTLP_HEADERS=x-mlflow-experiment-id=123\n"})}),"\n",(0,a.jsx)(t.h2,{id:"step-4-run-the-agent",children:"Step 4: Run the Agent"}),"\n",(0,a.jsxs)(t.p,{children:["Define and invoke the agent in a Python script like ",(0,a.jsx)(t.code,{children:"my_agent/agent.py"})," as usual. Google ADK will generate traces for your agent and send them to the MLflow Tracking Server endpoint.\nTo enable tracing for Google ADK and send traces to MLflow, set up the OpenTelemetry tracer provider with the ",(0,a.jsx)(t.code,{children:"OTLPSpanExporter"})," before running the agent."]}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-python",children:'# my_agent/agent.py\nfrom google.adk.agents import LlmAgent\nfrom google.adk.tools import FunctionTool\n\nfrom opentelemetry import trace\nfrom opentelemetry.exporter.otlp.proto.http.trace_exporter import OTLPSpanExporter\nfrom opentelemetry.sdk.trace import TracerProvider\nfrom opentelemetry.sdk.trace.export import SimpleSpanProcessor\n\n# Configure the tracer provider and add the exporter\ntracer_provider = TracerProvider()\ntracer_provider.add_span_processor(SimpleSpanProcessor(OTLPSpanExporter()))\ntrace.set_tracer_provider(tracer_provider)\n\n\ndef calculator(a: float, b: float) -> str:\n    """Add two numbers and return the result.\n\n    Args:\n        a: First number\n        b: Second number\n\n    Returns:\n        The sum of a and b\n    """\n    return str(a + b)\n\n\ncalculator_tool = FunctionTool(func=calculator)\n\nroot_agent = LlmAgent(\n    name="MathAgent",\n    model="gemini-2.0-flash-exp",\n    instruction=(\n        "You are a helpful assistant that can do math. "\n        "When asked a math problem, use the calculator tool to solve it."\n    ),\n    tools=[calculator_tool],\n)\n'})}),"\n",(0,a.jsxs)(t.p,{children:["Run the agent with the ",(0,a.jsx)(t.code,{children:"adk run"})," command or the web UI."]}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-bash",children:"adk run my_agent\n"})}),"\n",(0,a.jsxs)(t.p,{children:["Open the MLflow UI at ",(0,a.jsx)(t.code,{children:"http://localhost:5000"})," and navigate to the experiment to see the traces."]}),"\n",(0,a.jsx)(t.h2,{id:"next-steps",children:"Next Steps"}),"\n",(0,a.jsxs)(t.ul,{children:["\n",(0,a.jsxs)(t.li,{children:[(0,a.jsx)(t.a,{href:"/genai/eval-monitor/running-evaluation/agents",children:"Evaluate the Agent"}),": Learn how to evaluate the agent's performance."]}),"\n",(0,a.jsxs)(t.li,{children:[(0,a.jsx)(t.a,{href:"/genai/prompt-registry",children:"Manage Prompts"}),": Learn how to manage prompts for the agent."]}),"\n",(0,a.jsxs)(t.li,{children:[(0,a.jsx)(t.a,{href:"/genai/prompt-registry/optimize-prompts",children:"Automatic Agent Optimization"}),": Learn how to automatically optimize the agent end-to-end with state-of-the-art optimization algorithms."]}),"\n"]})]})}function g(e={}){let{wrapper:t}={...(0,o.R)(),...e.components};return t?(0,a.jsx)(t,{...e,children:(0,a.jsx)(p,{...e})}):p(e)}},46077(e,t,n){n.d(t,{A:()=>o});var r=n(74848);n(96540);var a=n(66497);function o({src:e,alt:t,width:n,caption:o,className:i}){return(0,r.jsxs)("div",{className:`container_JwLF ${i||""}`,children:[(0,r.jsx)("div",{className:"imageWrapper_RfGN",style:n?{width:n}:{},children:(0,r.jsx)("img",{src:(0,a.default)(e),alt:t,className:"image_bwOA"})}),o&&(0,r.jsx)("p",{className:"caption_jo2G",children:o})]})}},28453(e,t,n){n.d(t,{R:()=>i,x:()=>l});var r=n(96540);let a={},o=r.createContext(a);function i(e){let t=r.useContext(o);return r.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function l(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:i(e.components),r.createElement(o.Provider,{value:t},e.children)}}}]);