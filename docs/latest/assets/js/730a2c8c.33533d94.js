"use strict";(globalThis.webpackChunkdocs=globalThis.webpackChunkdocs||[]).push([[5634],{47020:(e,i,s)=>{s.d(i,{A:()=>r});s(96540);const n={wrapper:"wrapper_sf5q"};var t=s(74848);function r({children:e}){return(0,t.jsx)("div",{className:n.wrapper,children:e})}},56955:(e,i,s)=>{s.d(i,{A:()=>H});var n=s(96540);const t="loopContainer_P7aD",r="loopTitle_JPUj",a="loopContent_d_OB",o="circleContainer_r3vu",l="svgCanvas_uDoP",c="arrowPath_C9al",d="arrowHead_pHvN",h="stepNode_dfTI",p="stepNodeContent_qttg",u="highlighted_oNtg",m="focusNode_z3RB",x="stepNumber_LNrP",g="stepLabel_vl8R",v="centerIcon_KAOa",j="loopIconWrapper_xBPW",y="loopText_T4eg",f="tooltip_UzKu",w="tooltipTitle_HAKW",A="tooltipDescription_EDYJ",b="tooltipArrow_WNhr",N="centerTooltip_R18b",_="centerTooltipDescription_ttXB",C="mobileLinearContent_PCYK",I="mobileStepItem_x9mX",M="mobileStepIndicator_zWzO",k="mobileStepNumber_HnjD",L="mobileFocusNode_FTRa",P="mobileStepConnector_kK9y",T="mobileStepContent_jmKx",D="mobileStepTitle_P2DM",S="mobileStepDescription_qbMN",z="mobileLoopBack_nXtn",R="mobileLoopIcon_FAGz",$="mobileLoopContent_BRFV",E="mobileLoopTitle_JcCt",q="mobileLoopDescription_5B8T";var W=s(74848);const H=({steps:e,title:i,loopBackIcon:s,loopBackText:H,loopBackDescription:O,circleSize:G=400})=>{const[U,B]=(0,n.useState)(null),[F,K]=(0,n.useState)(!1),[J,Q]=(0,n.useState)({x:0,y:0}),[X,V]=(0,n.useState)(!1),Y=(0,n.useRef)(null);n.useEffect(()=>{const e=()=>{V(window.innerWidth<=768)};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]);const Z=X?280:G,ee=(()=>{const i=G/2,s=X?100:140,n=X?130:220,t=Math.min(1.2,.8+.05*e.length),r=(i-(X?50:80))*t;return Math.max(s,Math.min(n,r))})(),ie=Z/2,se=Z/2,ne=i=>{const s=2*i*Math.PI/e.length-Math.PI/2;return{x:ie+ee*Math.cos(s),y:se+ee*Math.sin(s)}},te=(e,i)=>{const s=ne(e),n=ne(i),t=n.x-s.x,r=n.y-s.y,a=(s.x+n.x)/2,o=(s.y+n.y)/2,l=Math.sqrt(t*t+r*r),c=t/l,d=r/l;return`M ${a-10*c} ${o-10*d} L ${a+10*c} ${o+10*d}`},re=()=>{B(null)};return X?(0,W.jsxs)("div",{className:t,children:[i&&(0,W.jsx)("h3",{className:r,children:i}),(0,W.jsxs)("div",{className:C,children:[e.map((i,s)=>(0,W.jsxs)("div",{className:I,children:[(0,W.jsxs)("div",{className:M,children:[(0,W.jsx)("div",{className:`${k} ${i.isFocus?L:""}`,children:i.icon?(0,W.jsx)(i.icon,{size:20}):(0,W.jsx)("span",{children:s+1})}),s<e.length-1&&(0,W.jsx)("div",{className:P})]}),(0,W.jsxs)("div",{className:T,children:[(0,W.jsx)("h4",{className:D,children:i.title}),(0,W.jsx)("p",{className:S,children:i.detailedDescription||i.description})]})]},s)),s&&O&&(0,W.jsxs)("div",{className:z,children:[(0,W.jsx)("div",{className:R,children:(0,W.jsx)(s,{size:24})}),(0,W.jsxs)("div",{className:$,children:[(0,W.jsx)("h4",{className:E,children:H||"Iterate"}),(0,W.jsx)("p",{className:q,children:O})]})]})]})]}):(0,W.jsxs)("div",{className:t,children:[i&&(0,W.jsx)("h3",{className:r,children:i}),(0,W.jsx)("div",{className:a,children:(0,W.jsxs)("div",{className:o,ref:Y,style:{width:`${Z}px`,height:`${Z}px`},children:[(0,W.jsxs)("svg",{width:Z,height:Z,className:l,children:[e.map((i,s)=>{const n=(s+1)%e.length;return(0,W.jsxs)("g",{children:[(0,W.jsx)("defs",{children:(0,W.jsx)("marker",{id:`arrowhead-${s}`,markerWidth:"6",markerHeight:"6",refX:"5",refY:"3",orient:"auto",children:(0,W.jsx)("path",{d:"M 0 0 L 6 3 L 0 6 L 1.5 3 Z",fill:"currentColor",opacity:"1",className:d})})}),(0,W.jsx)("path",{d:te(s,n),fill:"none",stroke:"currentColor",strokeWidth:"2",strokeDasharray:"0",opacity:"0.9",markerEnd:`url(#arrowhead-${s})`,className:c})]},`arrow-${s}`)}),s&&(0,W.jsxs)("g",{className:v,onMouseEnter:()=>K(!0),onMouseLeave:()=>K(!1),style:{cursor:"pointer"},children:[(0,W.jsx)("foreignObject",{x:ie-35,y:se-35,width:"70",height:"70",children:(0,W.jsx)("div",{className:j,children:(0,W.jsx)(s,{size:32})})}),H&&(0,W.jsx)("text",{x:ie,y:se+50,textAnchor:"middle",className:y,children:H})]})]}),e.map((e,i)=>{const s=ne(i);return(0,W.jsxs)("div",{className:`${h} ${e.highlight?u:""} ${e.isFocus?m:""}`,style:{left:`${s.x}px`,top:`${s.y}px`,transform:"translate(-50%, -50%)"},onMouseEnter:e=>(e=>{if(B(e),Y.current){Y.current.getBoundingClientRect();const i=ne(e);Q({x:i.x,y:i.y})}})(i),onMouseLeave:re,children:[(0,W.jsx)("div",{className:p,children:e.icon?(0,W.jsx)(e.icon,{size:24}):(0,W.jsx)("span",{className:x,children:i+1})}),(0,W.jsx)("div",{className:g,children:e.title})]},i)}),null!==U&&(0,W.jsxs)("div",{className:f,style:{left:`${J.x}px`,top:`${J.y}px`,transform:"translate(-50%, -120%)"},children:[(0,W.jsx)("h4",{className:w,children:e[U].title}),(0,W.jsx)("p",{className:A,children:e[U].detailedDescription||e[U].description}),(0,W.jsx)("div",{className:b})]}),F&&O&&(0,W.jsx)("div",{className:N,style:{left:`${ie}px`,top:`${se}px`,transform:"translate(-50%, -50%)"},children:(0,W.jsx)("p",{className:_,children:O})})]})})]})}},66927:(e,i,s)=>{s.d(i,{A:()=>a});s(96540);const n={container:"container_JwLF",imageWrapper:"imageWrapper_RfGN",image:"image_bwOA",caption:"caption_jo2G"};var t=s(86025),r=s(74848);function a({src:e,alt:i,width:s,caption:a,className:o}){return(0,r.jsxs)("div",{className:`${n.container} ${o||""}`,children:[(0,r.jsx)("div",{className:n.imageWrapper,style:s?{width:s}:{},children:(0,r.jsx)("img",{src:(0,t.default)(e),alt:i,className:n.image})}),a&&(0,r.jsx)("p",{className:n.caption,children:a})]})}},79206:(e,i,s)=>{s.d(i,{A:()=>r});s(96540);const n={conceptOverview:"conceptOverview_x8T_",overviewTitle:"overviewTitle_HyAI",conceptGrid:"conceptGrid_uJNV",conceptCard:"conceptCard_oday",conceptHeader:"conceptHeader_HCk5",conceptIcon:"conceptIcon_gejw",conceptTitle:"conceptTitle_TGMM",conceptDescription:"conceptDescription_ZyDn"};var t=s(74848);function r({concepts:e,title:i}){return(0,t.jsxs)("div",{className:n.conceptOverview,children:[i&&(0,t.jsx)("h3",{className:n.overviewTitle,children:i}),(0,t.jsx)("div",{className:n.conceptGrid,children:e.map((e,i)=>(0,t.jsxs)("div",{className:n.conceptCard,children:[(0,t.jsxs)("div",{className:n.conceptHeader,children:[e.icon&&(0,t.jsx)("div",{className:n.conceptIcon,children:(0,t.jsx)(e.icon,{size:20})}),(0,t.jsx)("h4",{className:n.conceptTitle,children:e.title})]}),(0,t.jsx)("p",{className:n.conceptDescription,children:e.description})]},i))})]})}},82238:(e,i,s)=>{s.d(i,{A:()=>r});s(96540);const n={featureHighlights:"featureHighlights_Ardf",highlightItem:"highlightItem_XPnN",highlightIcon:"highlightIcon_SUR8",highlightContent:"highlightContent_d0XP"};var t=s(74848);function r({features:e,col:i=2}){return(0,t.jsx)("div",{className:n.featureHighlights,style:{gridTemplateColumns:`repeat(${i}, 1fr)`},children:e.map((e,i)=>(0,t.jsxs)("div",{className:n.highlightItem,children:[e.icon&&(0,t.jsx)("div",{className:n.highlightIcon,children:(0,t.jsx)(e.icon,{size:24})}),(0,t.jsxs)("div",{className:n.highlightContent,children:[(0,t.jsx)("h4",{children:e.title}),(0,t.jsx)("p",{children:e.description})]})]},i))})}},82303:(e,i,s)=>{s.r(i),s.d(i,{assets:()=>_,contentTitle:()=>N,default:()=>M,frontMatter:()=>b,metadata:()=>n,toc:()=>C});const n=JSON.parse('{"id":"eval-monitor/ai-insights/ai-issue-discovery","title":"AI Issue Discovery","description":"Automatically analyze traces in your MLflow experiments to find operational issues, quality problems, and performance patterns. The Analyze Experiment tool uses hypothesis-driven analysis to systematically examine your GenAI application\'s behavior, identify the most important problems, and create a plan for addressing them in the form of a comprehensive markdown report.","source":"@site/docs/genai/eval-monitor/ai-insights/ai-issue-discovery.mdx","sourceDirName":"eval-monitor/ai-insights","slug":"/eval-monitor/ai-insights/ai-issue-discovery","permalink":"/mlflow-website/docs/latest/genai/eval-monitor/ai-insights/ai-issue-discovery","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"genAISidebar","previous":{"title":"Ground Truth Expectations","permalink":"/mlflow-website/docs/latest/genai/assessments/expectations"},"next":{"title":"Migrating from MLflow 2 LLM Evaluation","permalink":"/mlflow-website/docs/latest/genai/eval-monitor/legacy-llm-evaluation"}}');var t=s(74848),r=s(28453),a=s(11470),o=s(19365),l=s(47020),c=s(82238),d=s(56955),h=s(79206),p=s(66927),u=s(418),m=s(47792),x=s(94140),g=s(44080),v=s(61878),j=s(98445),y=s(42640),f=s(43598),w=s(80827),A=s(22864);const b={},N="AI Issue Discovery",_={},C=[{value:"Overview",id:"overview",level:2},{value:"Usage",id:"usage",level:2},{value:"Using MCP",id:"using-mcp",level:3},{value:"Prerequisites",id:"prerequisites",level:3},{value:"Using CLI",id:"using-cli",level:3},{value:"Prerequisites",id:"prerequisites-1",level:3},{value:"Analysis Workflow",id:"analysis-workflow",level:2},{value:"1. Setup and Authentication",id:"1-setup-and-authentication",level:3},{value:"2. Experiment Selection",id:"2-experiment-selection",level:3},{value:"3. Agent Purpose Identification",id:"3-agent-purpose-identification",level:3},{value:"4. Hypothesis-Driven Analysis",id:"4-hypothesis-driven-analysis",level:3},{value:"5. Report Generation",id:"5-report-generation",level:3},{value:"Report Content",id:"report-content",level:2}];function I(e){const i={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(i.header,{children:(0,t.jsx)(i.h1,{id:"ai-issue-discovery",children:"AI Issue Discovery"})}),"\n",(0,t.jsx)(i.p,{children:"Automatically analyze traces in your MLflow experiments to find operational issues, quality problems, and performance patterns. The Analyze Experiment tool uses hypothesis-driven analysis to systematically examine your GenAI application's behavior, identify the most important problems, and create a plan for addressing them in the form of a comprehensive markdown report."}),"\n",(0,t.jsx)(i.h2,{id:"overview",children:"Overview"}),"\n",(0,t.jsx)(i.p,{children:"The Analyze Experiment command examines traces logged in an MLflow experiment to automatically discover:"}),"\n",(0,t.jsx)(c.A,{features:[{icon:u.A,title:"Operational Issues",description:"Detect errors, timeouts, rate limiting, authentication failures, and performance bottlenecks"},{icon:m.A,title:"Quality Issues",description:"Identify overly verbose responses, inconsistent outputs, repetitive content, and inappropriate response formats"},{icon:x.A,title:"Success Patterns",description:"Discover what's working well, effective tool usage, and high-quality interactions"},{icon:g.A,title:"Performance Metrics",description:"Analyze latency distributions, success rates, and error patterns"}]}),"\n",(0,t.jsx)(i.p,{children:"The tool generates a detailed markdown report with specific trace examples, quantitative evidence, and actionable recommendations for improvement."}),"\n",(0,t.jsx)(i.h2,{id:"usage",children:"Usage"}),"\n",(0,t.jsx)(i.p,{children:"The Analyze Experiment functionality is available through two methods:"}),"\n",(0,t.jsx)(l.A,{children:(0,t.jsxs)(a.A,{children:[(0,t.jsxs)(o.A,{value:"mcp",label:"MCP",default:!0,children:[(0,t.jsx)(i.h3,{id:"using-mcp",children:"Using MCP"}),(0,t.jsx)(i.p,{children:"If you have MLflow's MCP server configured, you can simply run:"}),(0,t.jsx)(i.pre,{children:(0,t.jsx)(i.code,{children:"/analyze-experiment\n"})}),(0,t.jsx)(i.h3,{id:"prerequisites",children:"Prerequisites"}),(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsxs)(i.li,{children:["MLflow MCP server (see ",(0,t.jsx)(i.a,{href:"/genai/mcp/",children:"MCP setup guide"}),")"]}),"\n",(0,t.jsx)(i.li,{children:"A coding agent with MCP support (e.g., Claude Code, Cursor, Windsurf, etc.) configured to connect to MLflow MCP server"}),"\n",(0,t.jsx)(i.li,{children:"MLflow experiment with logged traces"}),"\n"]})]}),(0,t.jsxs)(o.A,{value:"cli",label:"CLI",children:[(0,t.jsx)(i.h3,{id:"using-cli",children:"Using CLI"}),(0,t.jsx)(i.p,{children:"Run the analyze experiment command directly:"}),(0,t.jsx)(i.pre,{children:(0,t.jsx)(i.code,{className:"language-bash",children:"mlflow ai-commands run genai/analyze_experiment\n"})}),(0,t.jsxs)(i.p,{children:[(0,t.jsx)(i.strong,{children:"Note"}),": This command must be run inside a coding agent with MCP support. The agent will interactively guide you through the analysis process."]}),(0,t.jsx)(i.h3,{id:"prerequisites-1",children:"Prerequisites"}),(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsx)(i.li,{children:"A coding agent with MCP support (e.g., Claude Code, Cursor, Windsurf, etc.)"}),"\n",(0,t.jsxs)(i.li,{children:["MLflow 3.4 or later: ",(0,t.jsx)(i.code,{children:"pip install mlflow>=3.4"})]}),"\n",(0,t.jsx)(i.li,{children:"Access to MLflow tracking server with logged traces"}),"\n"]})]})]})}),"\n",(0,t.jsx)(i.h2,{id:"analysis-workflow",children:"Analysis Workflow"}),"\n",(0,t.jsx)(d.A,{title:"Analyze Experiment Workflow",circleSize:450,steps:[{icon:v.A,title:"Setup & Authentication",description:"Configure MLflow connection",detailedDescription:"Connect to your MLflow tracking server (Databricks, local, or cloud) with appropriate credentials"},{icon:j.A,title:"Select Experiment",description:"Choose experiment to analyze",detailedDescription:"Browse and select the experiment containing traces you want to analyze for issues"},{icon:y.A,title:"Identify Agent Purpose",description:"Understand agent capabilities",detailedDescription:"Automatically detect what your agent does, its tools, and data sources from trace patterns"},{icon:f.A,title:"Analyze Issues",description:"Test hypotheses systematically",detailedDescription:"Systematically analyze operational and quality issues through hypothesis-driven testing"},{icon:w.A,title:"Generate Report",description:"Create actionable insights",detailedDescription:"Produce comprehensive markdown report with issues, recommendations, and improvement plans"}]}),"\n",(0,t.jsx)(i.h3,{id:"1-setup-and-authentication",children:"1. Setup and Authentication"}),"\n",(0,t.jsx)(i.p,{children:"The tool will ask you to configure authentication:"}),"\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.strong,{children:"Databricks"}),": Provide workspace URL and personal access token, or use a Databricks CLI profile"]}),"\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.strong,{children:"Local MLflow"}),": Specify tracking URI (SQLite, PostgreSQL, MySQL, or file store)"]}),"\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.strong,{children:"Environment Variables"}),": Use pre-configured MLflow environment variables like ",(0,t.jsx)(i.code,{children:"MLFLOW_TRACKING_URI"})," (see ",(0,t.jsx)(i.a,{href:"/genai/getting-started/connect-environment",children:"environment setup guide"}),")"]}),"\n"]}),"\n",(0,t.jsx)(p.A,{src:"/images/genai/ai-issue-discovery/setup-authentication.png",alt:"Setup and Authentication",width:"90%"}),"\n",(0,t.jsx)(i.h3,{id:"2-experiment-selection",children:"2. Experiment Selection"}),"\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsx)(i.li,{children:"Browse available experiments or search by name"}),"\n",(0,t.jsx)(i.li,{children:"Select the experiment containing traces to analyze"}),"\n",(0,t.jsx)(i.li,{children:"Verify trace availability and data structure"}),"\n"]}),"\n",(0,t.jsx)(p.A,{src:"/images/genai/ai-issue-discovery/experiment-selection.png",alt:"Experiment Selection",width:"90%"}),"\n",(0,t.jsx)(i.h3,{id:"3-agent-purpose-identification",children:"3. Agent Purpose Identification"}),"\n",(0,t.jsx)(i.p,{children:"The tool examines trace inputs and outputs to understand:"}),"\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsx)(i.li,{children:'What your agent\'s job is (e.g., "a customer service agent that helps users with billing questions")'}),"\n",(0,t.jsx)(i.li,{children:"What data sources and tools the agent has access to"}),"\n",(0,t.jsx)(i.li,{children:"Common patterns in user interactions"}),"\n"]}),"\n",(0,t.jsx)(i.p,{children:"You'll be asked to confirm or correct this understanding before analysis continues."}),"\n",(0,t.jsx)(p.A,{src:"/images/genai/ai-issue-discovery/agent-purpose.png",alt:"Agent Purpose Identification",width:"90%"}),"\n",(0,t.jsx)(i.h3,{id:"4-hypothesis-driven-analysis",children:"4. Hypothesis-Driven Analysis"}),"\n",(0,t.jsx)(i.p,{children:"The tool systematically tests hypotheses about potential issues:"}),"\n",(0,t.jsxs)(i.p,{children:[(0,t.jsx)(i.strong,{children:"Operational Issues"}),":"]}),"\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsx)(i.li,{children:"Error patterns (authentication failures, timeouts, API failures)"}),"\n",(0,t.jsx)(i.li,{children:"Performance bottlenecks (slow tool calls, sequential vs parallel execution)"}),"\n",(0,t.jsx)(i.li,{children:"Rate limiting and resource contention"}),"\n"]}),"\n",(0,t.jsxs)(i.p,{children:[(0,t.jsx)(i.strong,{children:"Quality Issues"}),":"]}),"\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsx)(i.li,{children:"Content problems (verbosity, repetition, inconsistency)"}),"\n",(0,t.jsx)(i.li,{children:"Response appropriateness for query types"}),"\n",(0,t.jsx)(i.li,{children:"Context handling and conversation flow"}),"\n"]}),"\n",(0,t.jsx)(p.A,{src:"/images/genai/ai-issue-discovery/hypothesis-analysis.png",alt:"Hypothesis-Driven Analysis",width:"90%"}),"\n",(0,t.jsx)(i.h3,{id:"5-report-generation",children:"5. Report Generation"}),"\n",(0,t.jsx)(i.p,{children:"The tool generates a comprehensive markdown report containing:"}),"\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.strong,{children:"Summary Statistics"}),": Success rates, latency metrics, error distributions"]}),"\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.strong,{children:"Confirmed Issues"}),": Detailed analysis with specific trace examples and root causes"]}),"\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.strong,{children:"Strengths"}),": What's working well in your application"]}),"\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.strong,{children:"Recommendations"}),": Actionable improvements based on findings"]}),"\n"]}),"\n",(0,t.jsx)(p.A,{src:"/images/genai/ai-issue-discovery/report-generation.png",alt:"Report Generation",width:"90%"}),"\n",(0,t.jsx)(i.h2,{id:"report-content",children:"Report Content"}),"\n",(0,t.jsx)(i.p,{children:"Each generated report provides comprehensive insights into your application's behavior:"}),"\n",(0,t.jsx)(h.A,{concepts:[{icon:A.A,title:"Quantitative Metrics",description:"Key performance indicators including total traces analyzed, success rates (OK vs ERROR), latency statistics (average, median, P95), and error rate distributions"},{icon:m.A,title:"Issue Analysis",description:"Detailed breakdown of confirmed issues with problem statements, trace examples with inputs/outputs, root cause analysis, frequency assessment, and specific trace IDs for investigation"},{icon:f.A,title:"Actionable Recommendations",description:"Prioritized improvement suggestions with implementation guidance and expected impact of changes to help you systematically address identified problems"}]})]})}function M(e={}){const{wrapper:i}={...(0,r.R)(),...e.components};return i?(0,t.jsx)(i,{...e,children:(0,t.jsx)(I,{...e})}):I(e)}}}]);