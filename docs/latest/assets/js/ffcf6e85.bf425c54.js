"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[4518],{8132:(e,t,o)=>{o.r(t),o.d(t,{assets:()=>c,contentTitle:()=>s,default:()=>d,frontMatter:()=>r,metadata:()=>n,toc:()=>p});const n=JSON.parse('{"id":"getting-started/databricks-trial/index","title":"Try Managed MLflow","description":"The Databricks Free Trial offers an opportunity to experience the Databricks platform without prior cloud provider access.","source":"@site/docs/classic-ml/getting-started/databricks-trial/index.mdx","sourceDirName":"getting-started/databricks-trial","slug":"/getting-started/databricks-trial/","permalink":"/docs/latest/ml/getting-started/databricks-trial/","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":2,"frontMatter":{"sidebar_position":2},"sidebar":"classicMLSidebar","previous":{"title":"Getting Started with MLflow","permalink":"/docs/latest/ml/getting-started/"},"next":{"title":"How to Run Tutorials","permalink":"/docs/latest/ml/getting-started/running-notebooks/"}}');var i=o(74848),a=o(28453),l=o(49374);const r={sidebar_position:2},s="Try Managed MLflow",c={},p=[{value:"Start your trial",id:"start-your-trial",level:2},{value:"First Steps",id:"first-steps",level:2},{value:"Navigating the Databricks UI",id:"navigating-the-databricks-ui",level:2},{value:"Decisions about where to run your Notebook",id:"decisions-about-where-to-run-your-notebook",level:2},{value:"Importing Notebooks directly into Databricks Workspace",id:"importing-notebooks-directly-into-databricks-workspace",level:3},{value:"Running Notebooks locally and using Databricks Workspace as a remote tracking server",id:"running-notebooks-locally-and-using-databricks-workspace-as-a-remote-tracking-server",level:3},{value:"Generate a PAT",id:"generate-a-pat",level:4},{value:"Install Dependencies",id:"install-dependencies",level:4},{value:"Set Up Authentication to a Databricks Workspace",id:"set-up-authentication-to-a-databricks-workspace",level:4},{value:"Connect MLflow Session to Databricks Workspace",id:"connect-mlflow-session-to-databricks-workspace",level:4},{value:"Log Artifacts to Unity Catalog (Optional)",id:"log-artifacts-to-unity-catalog-optional",level:4},{value:"View Your Experiment on your Databricks Workspace",id:"view-your-experiment-on-your-databricks-workspace",level:4}];function h(e){const t={a:"a",admonition:"admonition",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",img:"img",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,a.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(t.header,{children:(0,i.jsx)(t.h1,{id:"try-managed-mlflow",children:"Try Managed MLflow"})}),"\n",(0,i.jsxs)(t.p,{children:["The ",(0,i.jsx)(t.a,{href:"https://docs.databricks.com/en/getting-started/free-trial.html",children:"Databricks Free Trial"})," offers an opportunity to experience the Databricks platform without prior cloud provider access.\nMost Databricks features, including full MLflow functionality are available during the trial period, allowing you to explore the platform with trial credits.\nYou create account with your email only and won't get charged unless you decide to upgrade to a paid plan and register your payment information."]}),"\n",(0,i.jsx)(t.h2,{id:"start-your-trial",children:"Start your trial"}),"\n",(0,i.jsxs)(t.p,{children:["To get started with Databricks Free Trial, visit the ",(0,i.jsx)(t.a,{href:"https://signup.databricks.com/?destination_url=/ml/experiments-signup?source=OSS_DOCS&dbx_source=TRY_MLFLOW&signup_experience_step=EXPRESS&provider=MLFLOW",children:"Databricks Trial Signup Page"}),"\nand follow the instructions outlined there. It takes about 5 minutes to set up, after which you'll have access to a nearly fully-functional Databricks Workspace for logging your tutorial experiments, traces, models, and artifacts."]}),"\n",(0,i.jsx)(t.admonition,{type:"tip",children:(0,i.jsxs)(t.p,{children:["Do you already have a Databricks trial account? ",(0,i.jsx)(t.a,{href:"https://login.databricks.com/?destination_url=/ml/experiments&dbx_source=MLFLOW_DOCS&source=MLFLOW_DOCS",children:"Click here"})," if you'd like to login and get back to the MLflow UI."]})}),"\n",(0,i.jsx)(t.h2,{id:"first-steps",children:"First Steps"}),"\n",(0,i.jsx)(t.p,{children:"When you login for the first time, you will be directed to the MLflow Tracing tutorial, giving you an opportunity to try out one of the most powerful GenAI features that MLflow has to offer."}),"\n",(0,i.jsx)(t.p,{children:"Simply click on either of the two tutorials and you will be able to test out MLflow's instrumentation capabilities within minutes."}),"\n",(0,i.jsx)("figure",{children:(0,i.jsxs)(t.p,{children:[(0,i.jsx)(t.img,{alt:"MLflow Tracing Tutorial",src:o(18098).A+"",width:"4096",height:"1772"}),"\n",(0,i.jsx)("figcaption",{style:{textAlign:"center"},children:"Learn Tracing within Databricks MLflow UI"})]})}),"\n",(0,i.jsx)(t.h2,{id:"navigating-the-databricks-ui",children:"Navigating the Databricks UI"}),"\n",(0,i.jsx)(t.p,{children:"Otherwise, once you log in to the Databricks Workspace on subsequent visits, you will see a landing page like this:"}),"\n",(0,i.jsx)("figure",{children:(0,i.jsxs)(t.p,{children:[(0,i.jsx)(t.img,{alt:"Databricks Trial Landing Page",src:o(26407).A+"",width:"2384",height:"1174"}),"\n",(0,i.jsx)("figcaption",{style:{textAlign:"center"},children:"Databricks Landing Page"})]})}),"\n",(0,i.jsx)(t.p,{children:'In order to get to the MLflow UI, you can navigate to it by clicking on the "Experiments" link on the left-hand side (denoted by the laboratory beaker icon).\nWhen you get to the MLflow UI on Databricks for the first time, you\'ll see this:'}),"\n",(0,i.jsx)("figure",{children:(0,i.jsxs)(t.p,{children:[(0,i.jsx)(t.img,{alt:"Databricks Trial MLflow UI",src:o(9024).A+"",width:"2398",height:"1192"}),"\n",(0,i.jsx)("figcaption",{style:{textAlign:"center"},children:"Databricks MLflow UI"})]})}),"\n",(0,i.jsx)(t.h2,{id:"decisions-about-where-to-run-your-notebook",children:"Decisions about where to run your Notebook"}),"\n",(0,i.jsx)(t.p,{children:"With a Databricks managed instance of MLflow, you have two options for running the tutorial notebooks: importing notebooks directly into Databricks Workspace or running notebooks locally and using Databricks Workspace as a remote tracking server."}),"\n",(0,i.jsx)(t.h3,{id:"importing-notebooks-directly-into-databricks-workspace",children:"Importing Notebooks directly into Databricks Workspace"}),"\n",(0,i.jsxs)(t.p,{children:['Once you\'re at the main page of the Databricks Workspace, you can import any of the notebooks within this tutorial.\nFirstly, click "Download this Notebook" button in a tutorial page to download the tutorial notebook.\nThen navigate to the "Workspace" tab on the left and click that link to open the workspace page.\nFrom there, navigate to ',(0,i.jsx)(t.code,{children:"Home"}),' and you can right click to bring up the "Import" option.\nThe below image shows what the import dialog should look like if you\'re going to directly import a notebook from the MLflow documentation website:']}),"\n",(0,i.jsx)(t.p,{children:(0,i.jsx)(t.img,{alt:"Databricks Workspace import Notebook from MLflow docs website",src:o(37404).A+"",width:"2280",height:"760"})}),"\n",(0,i.jsx)(t.p,{children:"At this point, you can simply just run the tutorial.\nAny calls to MLflow for creating experiments, initiating runs, logging metadata, and saving artifacts will be fully managed for you and your logging history will appear within the MLflow UI."}),"\n",(0,i.jsx)(t.admonition,{type:"note",children:(0,i.jsxs)(t.p,{children:["On the Databricks platform, an MLflow experiment is automatically created for each notebook and you can skip ",(0,i.jsx)(t.code,{children:"mlflow.set_tracking_uri()"})," and ",(0,i.jsx)(t.code,{children:"mlflow.set_experiment()"})," calls in tutorials."]})}),"\n",(0,i.jsx)(t.h3,{id:"running-notebooks-locally-and-using-databricks-workspace-as-a-remote-tracking-server",children:"Running Notebooks locally and using Databricks Workspace as a remote tracking server"}),"\n",(0,i.jsx)(t.p,{children:"In order to stay within the comfortable confines of your local machine and still have the use of the managed MLflow Tracking Server, you need to:"}),"\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsx)(t.li,{children:"Generate a Personal Access Token (PAT)"}),"\n",(0,i.jsx)(t.li,{children:"Set up Databricks workspace authentication in your dev environment."}),"\n",(0,i.jsx)(t.li,{children:"Connect to your Databricks Workspace in your MLflow experiment session."}),"\n"]}),"\n",(0,i.jsx)(t.h4,{id:"generate-a-pat",children:"Generate a PAT"}),"\n",(0,i.jsx)(t.p,{children:"If you are following along in the Tracing Tutorial, these steps are handled for you in both tutorials within the product. You can generate a remote access token directly within the tutorial."}),"\n",(0,i.jsxs)(t.p,{children:["Otherwise, follow the steps in ",(0,i.jsx)(t.a,{href:"https://docs.databricks.com/aws/en/dev-tools/auth/pat",children:"this guide"})," to create a PAT for remotely accessing your Databricks Workspace."]}),"\n",(0,i.jsx)(t.h4,{id:"install-dependencies",children:"Install Dependencies"}),"\n",(0,i.jsx)(t.p,{children:"Run the following command in your dev environment to install dependencies."}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-bash",children:"%pip install -q mlflow\n"})}),"\n",(0,i.jsx)(t.h4,{id:"set-up-authentication-to-a-databricks-workspace",children:"Set Up Authentication to a Databricks Workspace"}),"\n",(0,i.jsxs)(t.p,{children:["To set up Databricks Workspace authentication, we can use the API ",(0,i.jsx)(l.B,{fn:"mlflow.login"}),", which will prompt you for required information:"]}),"\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.strong,{children:"Databricks Host"}),': Use "https://<your workspace host>.cloud.databricks.com/']}),"\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.strong,{children:"Token"}),": Your personal access token for your Databricks Workspace."]}),"\n"]}),"\n",(0,i.jsx)(t.p,{children:'If the authentication succeeds, you should see a message "Successfully signed in to Databricks!".'}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-python",children:"import mlflow\n\nmlflow.login()\n"})}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{children:"2025/02/19 12:25:04 INFO mlflow.utils.credentials: No valid Databricks credentials found, please enter your credentials...\nDatabricks Host (should begin with https://):  https://<your workspace host>.cloud.databricks.com/\nToken:  \xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\n2025/02/19 12:26:24 INFO mlflow.utils.credentials: Successfully connected to MLflow hosted tracking server! Host: https://<your workspace host>.cloud.databricks.com.\n"})}),"\n",(0,i.jsx)(t.h4,{id:"connect-mlflow-session-to-databricks-workspace",children:"Connect MLflow Session to Databricks Workspace"}),"\n",(0,i.jsxs)(t.p,{children:["We have set up the credentials, now we need to tell MLflow to send the data into Databricks Workspace.\nTo do so, we will use ",(0,i.jsx)(t.code,{children:'mlflow.set_tracking_uri("databricks")'})," to port MLflow to Databricks Workspace. Basically\nit is the command below. Please note that you need to always use ",(0,i.jsx)(t.em,{children:'"databricks"'})," as the keyword."]}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-python",children:'mlflow.set_tracking_uri("databricks")\n'})}),"\n",(0,i.jsx)(t.p,{children:"Now you are ready to go! Let's try starting an MLflow experiment and log some dummy metrics and view it in the UI."}),"\n",(0,i.jsx)(t.h4,{id:"log-artifacts-to-unity-catalog-optional",children:"Log Artifacts to Unity Catalog (Optional)"}),"\n",(0,i.jsxs)(t.p,{children:["In order to keep all of your artifacts within a single place, you can opt to use Unity Catalog's Volumes feature.\nFirstly, you need to create a Unity Catalog Volume ",(0,i.jsx)(t.code,{children:"test.mlflow.check-databricks-connection"})," by following ",(0,i.jsx)(t.a,{href:"https://docs.databricks.com/aws/en/volumes/utility-commands#create-a-volume",children:"this guide"}),".\nThen, you can run the following code to start an experiment with the Unity Catalog Volume and log metrics to it.\nNote that your experiment name must follow the ",(0,i.jsx)(t.code,{children:"/Users/<your email>/<experiment_name>"})," format when using a Databricks Workspace."]}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-python",children:'mlflow.create_experiment(\n    "/Users/<your email>/check-databricks-connection",\n    artifact_location="dbfs:/Volumes/test/mlflow/check-databricks-connection",\n)\nmlflow.set_experiment("/Users/<your email>/check-databricks-connection")\n\nwith mlflow.start_run():\n    mlflow.log_metric("foo", 1)\n    mlflow.log_metric("bar", 2)\n'})}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{children:"2025/02/19 12:26:33 INFO mlflow.tracking.fluent: Experiment with name '/Users/<your email>/check-databricks-connection' does not exist. Creating a new experiment.\n"})}),"\n",(0,i.jsx)(t.h4,{id:"view-your-experiment-on-your-databricks-workspace",children:"View Your Experiment on your Databricks Workspace"}),"\n",(0,i.jsx)(t.p,{children:"Now let's navigate to your Databricks Workspace to view the experiment result. Log in to your\nDatabricks Workspace, and click on top left to select machine learning\nin the drop down list. Then click on the experiment icon. See the screenshot below:"}),"\n",(0,i.jsx)("div",{className:"center-div",style:{width:800,maxWidth:"100%"},children:(0,i.jsx)(t.p,{children:(0,i.jsx)(t.img,{alt:"Landing page of Databricks MLflow server",src:o(89632).A+"",width:"2496",height:"1230"})})}),"\n",(0,i.jsx)(t.p,{children:'In the "Experiments" view, you should be able to find the experiment "check-databricks-connection", similar to'}),"\n",(0,i.jsx)("div",{className:"center-div",style:{width:800,maxWidth:"100%"},children:(0,i.jsx)(t.p,{children:(0,i.jsx)(t.img,{alt:"Experiment view of Databricks MLflow server",src:o(80082).A+"",width:"2550",height:"756"})})}),"\n",(0,i.jsx)(t.p,{children:'Clicking on the run name, in our example it is "skillful-jay-111" (it\'s a randomly generated name, you will see\na different name in your Databricks console), will bring you to the run view, similar to'}),"\n",(0,i.jsx)("div",{className:"center-div",style:{width:800,maxWidth:"100%"},children:(0,i.jsx)(t.p,{children:(0,i.jsx)(t.img,{alt:"Run view of Databricks MLflow server",src:o(90352).A+"",width:"1262",height:"982"})})}),"\n",(0,i.jsxs)(t.p,{children:["In the run view, you will see your dummy metrics ",(0,i.jsx)(t.em,{children:'"foo"'})," and ",(0,i.jsx)(t.em,{children:'"bar"'})," are logged successfully."]}),"\n",(0,i.jsx)(t.p,{children:"At this point, you're ready to go! You can run any of the tutorials locally and they will log to the managed MLflow Tracking Server."})]})}function d(e={}){const{wrapper:t}={...(0,a.R)(),...e.components};return t?(0,i.jsx)(t,{...e,children:(0,i.jsx)(h,{...e})}):h(e)}},9024:(e,t,o)=>{o.d(t,{A:()=>n});const n=o.p+"assets/images/experiments-page-851d07c550322e143c7b78282a0b47e7.png"},18098:(e,t,o)=>{o.d(t,{A:()=>n});const n=o.p+"assets/images/tracing-tutorial-1b928a4c8f71cd8f0da3d28e1c556a54.png"},26407:(e,t,o)=>{o.d(t,{A:()=>n});const n=o.p+"assets/images/landing-page-6afce12b5b407957ce0a58a117d64d5b.png"},28453:(e,t,o)=>{o.d(t,{R:()=>l,x:()=>r});var n=o(96540);const i={},a=n.createContext(i);function l(e){const t=n.useContext(a);return n.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function r(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:l(e.components),n.createElement(a.Provider,{value:t},e.children)}},37404:(e,t,o)=>{o.d(t,{A:()=>n});const n=o.p+"assets/images/import-notebook-dd63c143b3ebaa8b35b026e9088d4035.png"},49374:(e,t,o)=>{o.d(t,{B:()=>s});o(96540);const n=JSON.parse('{"mlflow.anthropic":"api_reference/python_api/mlflow.anthropic.html","mlflow.artifacts":"api_reference/python_api/mlflow.artifacts.html","mlflow.ag2":"api_reference/python_api/mlflow.ag2.html","mlflow.autogen":"api_reference/python_api/mlflow.autogen.html","mlflow.bedrock":"api_reference/python_api/mlflow.bedrock.html","mlflow.catboost":"api_reference/python_api/mlflow.catboost.html","mlflow.client":"api_reference/python_api/mlflow.client.html","mlflow.config":"api_reference/python_api/mlflow.config.html","mlflow.crewai":"api_reference/python_api/mlflow.crewai.html","mlflow.data":"api_reference/python_api/mlflow.data.html","mlflow.deployments":"api_reference/python_api/mlflow.deployments.html","mlflow.diviner":"api_reference/python_api/mlflow.diviner.html","mlflow.dspy":"api_reference/python_api/mlflow.dspy.html","mlflow.entities":"api_reference/python_api/mlflow.entities.html","mlflow.environment_variables":"api_reference/python_api/mlflow.environment_variables.html","mlflow.gateway":"api_reference/python_api/mlflow.gateway.html","mlflow.gemini":"api_reference/python_api/mlflow.gemini.html","mlflow.groq":"api_reference/python_api/mlflow.groq.html","mlflow.h2o":"api_reference/python_api/mlflow.h2o.html","mlflow.johnsnowlabs":"api_reference/python_api/mlflow.johnsnowlabs.html","mlflow.keras":"api_reference/python_api/mlflow.keras.html","mlflow.langchain":"api_reference/python_api/mlflow.langchain.html","mlflow.lightgbm":"api_reference/python_api/mlflow.lightgbm.html","mlflow.litellm":"api_reference/python_api/mlflow.litellm.html","mlflow.llama_index":"api_reference/python_api/mlflow.llama_index.html","mlflow.metrics":"api_reference/python_api/mlflow.metrics.html","mlflow.mistral":"api_reference/python_api/mlflow.mistral.html","mlflow.models":"api_reference/python_api/mlflow.models.html","mlflow.onnx":"api_reference/python_api/mlflow.onnx.html","mlflow.openai":"api_reference/python_api/mlflow.openai.html","mlflow.paddle":"api_reference/python_api/mlflow.paddle.html","mlflow.pmdarima":"api_reference/python_api/mlflow.pmdarima.html","mlflow.projects":"api_reference/python_api/mlflow.projects.html","mlflow.promptflow":"api_reference/python_api/mlflow.promptflow.html","mlflow.prophet":"api_reference/python_api/mlflow.prophet.html","mlflow.pyfunc":"api_reference/python_api/mlflow.pyfunc.html","mlflow.pyspark.ml":"api_reference/python_api/mlflow.pyspark.ml.html","mlflow.pytorch":"api_reference/python_api/mlflow.pytorch.html","mlflow":"api_reference/python_api/mlflow.html","mlflow.sagemaker":"api_reference/python_api/mlflow.sagemaker.html","mlflow.sentence_transformers":"api_reference/python_api/mlflow.sentence_transformers.html","mlflow.server":"api_reference/python_api/mlflow.server.html","mlflow.shap":"api_reference/python_api/mlflow.shap.html","mlflow.sklearn":"api_reference/python_api/mlflow.sklearn.html","mlflow.spacy":"api_reference/python_api/mlflow.spacy.html","mlflow.spark":"api_reference/python_api/mlflow.spark.html","mlflow.statsmodels":"api_reference/python_api/mlflow.statsmodels.html","mlflow.system_metrics":"api_reference/python_api/mlflow.system_metrics.html","mlflow.tensorflow":"api_reference/python_api/mlflow.tensorflow.html","mlflow.tracing":"api_reference/python_api/mlflow.tracing.html","mlflow.transformers":"api_reference/python_api/mlflow.transformers.html","mlflow.types":"api_reference/python_api/mlflow.types.html","mlflow.utils":"api_reference/python_api/mlflow.utils.html","mlflow.xgboost":"api_reference/python_api/mlflow.xgboost.html","mlflow.server.auth":"api_reference/auth/python-api.html"}');var i=o(86025),a=o(28774),l=o(74848);const r=e=>{const t=e.split(".");for(let o=t.length;o>0;o--){const e=t.slice(0,o).join(".");if(n[e])return e}return null};function s({fn:e,children:t}){const o=r(e);if(!o)return(0,l.jsx)(l.Fragment,{children:t});const s=(0,i.Ay)(`/${n[o]}#${e}`);return(0,l.jsx)(a.A,{to:s,target:"_blank",children:t??(0,l.jsxs)("code",{children:[e,"()"]})})}},80082:(e,t,o)=>{o.d(t,{A:()=>n});const n=o.p+"assets/images/databricks-lighthouse-experiment-view-71da0c93ad8b015942690ab9c13aef55.png"},89632:(e,t,o)=>{o.d(t,{A:()=>n});const n=o.p+"assets/images/databricks-lighthouse-landing-page-8719ea229bc7e60265499aef09ae3ffd.png"},90352:(e,t,o)=>{o.d(t,{A:()=>n});const n=o.p+"assets/images/databricks-lighthouse-run-view-2010f6cb028c069c95e9a57661464921.png"}}]);