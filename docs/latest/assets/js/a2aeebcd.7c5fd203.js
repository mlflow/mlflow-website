"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([["1965"],{88577(e,s,r){r.r(s),r.d(s,{metadata:()=>t,default:()=>h,frontMatter:()=>i,contentTitle:()=>l,toc:()=>c,assets:()=>a});var t=JSON.parse('{"id":"index","title":"Self Hosting Overview","description":"#### _The most vendor-neutral MLOps/LLMOps platform in the world._","source":"@site/docs/self-hosting/index.mdx","sourceDirName":".","slug":"/","permalink":"/mlflow-website/docs/latest/self-hosting/","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"title":"Self Hosting Overview","sidebar_position":1},"sidebar":"selfHostingSidebar","next":{"title":"Overview","permalink":"/mlflow-website/docs/latest/self-hosting/architecture/overview"}}'),n=r(74848),o=r(28453);let i={title:"Self Hosting Overview",sidebar_position:1},l="Self-Hosting MLflow",a={},c=[{value:"<strong><em>The most vendor-neutral MLOps/LLMOps platform in the world.</em></strong>",id:"the-most-vendor-neutral-mlopsllmops-platform-in-the-world",level:4},{value:"The Quickest Path: Run <code>mlflow</code> Command",id:"the-quickest-path-run-mlflow-command",level:2},{value:"Other Deployment Options",id:"other-deployment-options",level:2},{value:"Docker Compose",id:"docker-compose",level:3},{value:"Kubernetes",id:"kubernetes",level:3},{value:"Cloud Services",id:"cloud-services",level:3},{value:"Architecture",id:"architecture",level:2},{value:"Access Control &amp; Security",id:"access-control--security",level:2},{value:"FAQs",id:"faqs",level:2}];function d(e){let s={a:"a",admonition:"admonition",blockquote:"blockquote",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,o.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(s.header,{children:(0,n.jsx)(s.h1,{id:"self-hosting-mlflow",children:"Self-Hosting MLflow"})}),"\n",(0,n.jsxs)(s.blockquote,{children:["\n",(0,n.jsx)(s.h4,{id:"the-most-vendor-neutral-mlopsllmops-platform-in-the-world",children:(0,n.jsx)(s.strong,{children:(0,n.jsx)(s.em,{children:"The most vendor-neutral MLOps/LLMOps platform in the world."})})}),"\n"]}),"\n",(0,n.jsx)(s.p,{children:"MLflow is fully open-source. Thousands of users and organizations run their own MLflow instances to meet their specific needs. Being open-source and trusted by the popular cloud providers, MLflow is the best choice for teams/organizations that worry about vendor lock-in."}),"\n",(0,n.jsxs)(s.admonition,{title:"Default Storage Backend Change",type:"warning",children:[(0,n.jsxs)(s.p,{children:["As of MLflow 3.7.0, the default tracking backend has changed from file-based storage (",(0,n.jsx)(s.code,{children:"./mlruns"}),") to SQLite database (",(0,n.jsx)(s.code,{children:"sqlite:///mlflow.db"}),") for better performance and reliability."]}),(0,n.jsxs)(s.p,{children:[(0,n.jsx)(s.strong,{children:"Existing users:"})," If you have existing data in ",(0,n.jsx)(s.code,{children:"./mlruns"}),", MLflow will automatically detect and continue using it. No action is required."]}),(0,n.jsxs)(s.p,{children:[(0,n.jsx)(s.strong,{children:"New users:"})," New MLflow servers will use SQLite by default. To use file-based storage instead, set ",(0,n.jsx)(s.code,{children:"MLFLOW_TRACKING_URI=./mlruns"})," or specify ",(0,n.jsx)(s.code,{children:"--backend-store-uri ./mlruns"})," when starting the server."]}),(0,n.jsxs)(s.p,{children:["For more details and migration guidance, see ",(0,n.jsx)(s.a,{href:"https://github.com/mlflow/mlflow/issues/18534",children:"GitHub Issue #18534"}),"."]})]}),"\n",(0,n.jsxs)(s.h2,{id:"the-quickest-path-run-mlflow-command",children:["The Quickest Path: Run ",(0,n.jsx)(s.code,{children:"mlflow"})," Command"]}),"\n",(0,n.jsxs)(s.p,{children:["The easiest way to start MLflow server is to run the ",(0,n.jsx)(s.code,{children:"mlflow"})," CLI command in your terminal. This is suitable for personal use or small teams."]}),"\n",(0,n.jsx)(s.p,{children:"First, install MLflow with:"}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-bash",children:"pip install mlflow\n"})}),"\n",(0,n.jsx)(s.p,{children:"Then, start the server with:"}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-bash",children:"mlflow server --port 5000\n"})}),"\n",(0,n.jsxs)(s.p,{children:["This will start the server and UI at ",(0,n.jsx)(s.code,{children:"http://localhost:5000"})," using SQLite as the backend store (the default). You can connect the client to the server by setting the tracking URI:"]}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-python",children:'import mlflow\n\nmlflow.set_tracking_uri("http://localhost:5000")\n\n# Start tracking!\n# Open http://localhost:5000 in your browser to view the UI.\n'})}),"\n",(0,n.jsx)(s.p,{children:"Now, you are ready to start your experiment!"}),"\n",(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsx)(s.li,{children:(0,n.jsx)(s.a,{href:"/genai/tracing/quickstart/",children:"Tracing QuickStart"})}),"\n",(0,n.jsx)(s.li,{children:(0,n.jsx)(s.a,{href:"/genai/eval-monitor/quickstart/",children:"LLM Evaluation Quickstart"})}),"\n",(0,n.jsx)(s.li,{children:(0,n.jsx)(s.a,{href:"/genai/prompt-registry/#getting-started",children:"Prompt Management Quickstart"})}),"\n",(0,n.jsx)(s.li,{children:(0,n.jsx)(s.a,{href:"/ml/tracking/quickstart/",children:"Model Training Quickstart"})}),"\n"]}),"\n",(0,n.jsx)(s.admonition,{type:"tip",children:(0,n.jsxs)(s.p,{children:["For production deployments or custom backend configurations, see ",(0,n.jsx)("ins",{children:(0,n.jsx)(s.a,{href:"./architecture/backend-store",children:"Backend Store"})})," documentation."]})}),"\n",(0,n.jsx)(s.h2,{id:"other-deployment-options",children:"Other Deployment Options"}),"\n",(0,n.jsx)(s.h3,{id:"docker-compose",children:"Docker Compose"}),"\n",(0,n.jsxs)(s.p,{children:["The MLflow repository includes a ready-to-run Compose project under ",(0,n.jsx)(s.code,{children:"docker-compose/"})," that provisions MLflow, PostgreSQL, and MinIO."]}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-bash",children:"git clone https://github.com/mlflow/mlflow.git\ncd docker-compose\ncp .env.dev.example .env\ndocker compose up -d\n"})}),"\n",(0,n.jsxs)(s.p,{children:["Read the instructions ",(0,n.jsx)(s.a,{href:"https://github.com/mlflow/mlflow/tree/master/docker-compose",children:"here"})," for more details and configuration options for the docker compose bundle."]}),"\n",(0,n.jsx)(s.h3,{id:"kubernetes",children:"Kubernetes"}),"\n",(0,n.jsxs)(s.p,{children:["To deploy on Kubernetes, use the MLflow Helm chart provided by ",(0,n.jsx)(s.a,{href:"https://artifacthub.io/packages/helm/bitnami/mlflow",children:"Bitnami"})," or ",(0,n.jsx)(s.a,{href:"https://artifacthub.io/packages/helm/community-charts/mlflow",children:"Community Helm Charts"}),"."]}),"\n",(0,n.jsx)(s.h3,{id:"cloud-services",children:"Cloud Services"}),"\n",(0,n.jsx)(s.p,{children:"If you are looking for production-scale deployments without maintenance costs, MLflow is also available as managed services from popular cloud providers."}),"\n",(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsx)(s.li,{children:(0,n.jsx)(s.a,{href:"https://www.databricks.com/product/managed-mlflow",children:"Databricks"})}),"\n",(0,n.jsx)(s.li,{children:(0,n.jsx)(s.a,{href:"https://aws.amazon.com/sagemaker/ai/experiments/",children:"AWS Sagemaker"})}),"\n",(0,n.jsx)(s.li,{children:(0,n.jsx)(s.a,{href:"https://learn.microsoft.com/en-us/azure/machine-learning/concept-mlflow?view=azureml-api-2",children:"Azure Machine Learning"})}),"\n",(0,n.jsx)(s.li,{children:(0,n.jsx)(s.a,{href:"https://nebius.com/services/managed-mlflow",children:"Nebius"})}),"\n",(0,n.jsx)(s.li,{children:(0,n.jsx)(s.a,{href:"https://gke-ai-labs.dev/docs/tutorials/frameworks-and-pipelines/mlflow/",children:"GCP (GKE)"})}),"\n"]}),"\n",(0,n.jsx)(s.h2,{id:"architecture",children:"Architecture"}),"\n",(0,n.jsx)(s.p,{children:"MLflow, at a high level, consists of the following components:"}),"\n",(0,n.jsxs)(s.ol,{children:["\n",(0,n.jsxs)(s.li,{children:[(0,n.jsx)(s.strong,{children:"Tracking Server"}),": The lightweight FastAPI server that serves the MLflow UI and API."]}),"\n",(0,n.jsxs)(s.li,{children:[(0,n.jsx)(s.strong,{children:"Backend Store"}),": The Backend Store is relational database (or file system) that stores the metadata of the experiments, runs, traces, etc."]}),"\n",(0,n.jsxs)(s.li,{children:[(0,n.jsx)(s.strong,{children:"Artifact Store"}),": The Artifact Store is responsible for storing the large artifacts such as model weights, images, etc."]}),"\n"]}),"\n",(0,n.jsx)(s.p,{children:"Each component is designed to be pluggable, so you can customize it to meet your needs. For example, you can start with a single host mode with SQLite backend and local file system for storing artifacts. To scale up, you can switch backend store to PostgreSQL cluster and point artifact store to cloud storage such as S3, GCS, or Azure Blob Storage."}),"\n",(0,n.jsxs)(s.p,{children:["To learn more about the architecture and available backend options, see ",(0,n.jsx)(s.a,{href:"./architecture/overview",children:"Architecture"}),"."]}),"\n",(0,n.jsx)(s.h2,{id:"access-control--security",children:"Access Control & Security"}),"\n",(0,n.jsxs)(s.p,{children:["MLflow support ",(0,n.jsx)(s.a,{href:"./security/basic-http-auth",children:"username/password login"})," via basic HTTP authentication, ",(0,n.jsx)(s.a,{href:"./security/sso",children:"SSO (Single Sign-On)"}),", and ",(0,n.jsx)(s.a,{href:"./security/custom",children:"custom authentication plugins"}),"."]}),"\n",(0,n.jsxs)(s.p,{children:["MLflow also provides built-in ",(0,n.jsx)(s.a,{href:"./security/network",children:"network protection"})," middleware to protect your tracking server from network exposure."]}),"\n",(0,n.jsx)(s.admonition,{title:"Try Managed MLflow",type:"tip",children:(0,n.jsxs)(s.p,{children:["Need highly secure MLflow server? Check out ",(0,n.jsx)("ins",{children:(0,n.jsx)(s.a,{href:"https://www.databricks.com/product/managed-mlflow",children:"Databricks Managed MLflow"})})," to get fully managed MLflow servers with unified governance and security."]})}),"\n",(0,n.jsx)(s.h2,{id:"faqs",children:"FAQs"}),"\n",(0,n.jsxs)(s.p,{children:["See ",(0,n.jsx)(s.a,{href:"./troubleshooting",children:"Troubleshooting & FAQs"})," for more information."]}),"\n",(0,n.jsxs)(s.admonition,{title:"ACCESS DENIED?",type:"info",children:[(0,n.jsx)(s.p,{children:"When using the remote tracking server, you may hit an access denied error when accessing the MLflow UI\nfrom a browser."}),(0,n.jsxs)(s.blockquote,{children:["\n",(0,n.jsx)(s.p,{children:"Invalid Host header - possible DNS rebinding attack detected"}),"\n"]}),(0,n.jsx)(s.p,{children:"This error typically indicates that the tracking server's network security settings need to be configured.\nThe most common causes are:"}),(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsxs)(s.li,{children:[(0,n.jsx)(s.strong,{children:"Host validation"}),": The ",(0,n.jsx)(s.code,{children:"--allowed-hosts"})," flag restricts which Host headers are accepted"]}),"\n",(0,n.jsxs)(s.li,{children:[(0,n.jsx)(s.strong,{children:"CORS restrictions"}),": The ",(0,n.jsx)(s.code,{children:"--cors-allowed-origins"})," flag controls which origins can make API requests"]}),"\n"]}),(0,n.jsx)(s.p,{children:"To resolve this, configure your tracking server with the appropriate flags. For example:"}),(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-bash",children:'mlflow server --allowed-hosts "mlflow.company.com,localhost:*" \\\n              --cors-allowed-origins "https://app.company.com"\n'})}),(0,n.jsxs)(s.p,{children:[(0,n.jsx)(s.strong,{children:"Note"}),": These security options are only available with the default FastAPI-based server (uvicorn). They are\nnot supported when using Flask directly or with ",(0,n.jsx)(s.code,{children:"--gunicorn-opts"})," or ",(0,n.jsx)(s.code,{children:"--waitress-opts"}),"."]}),(0,n.jsxs)(s.p,{children:["Refer to the ",(0,n.jsx)("ins",{children:(0,n.jsx)(s.a,{href:"/self-hosting/security/network",children:"Network Security Guide"})})," for detailed configuration options."]})]})]})}function h(e={}){let{wrapper:s}={...(0,o.R)(),...e.components};return s?(0,n.jsx)(s,{...e,children:(0,n.jsx)(d,{...e})}):d(e)}},28453(e,s,r){r.d(s,{R:()=>i,x:()=>l});var t=r(96540);let n={},o=t.createContext(n);function i(e){let s=t.useContext(o);return t.useMemo(function(){return"function"==typeof e?e(s):{...s,...e}},[s,e])}function l(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(n):e.components||n:i(e.components),t.createElement(o.Provider,{value:s},e.children)}}}]);