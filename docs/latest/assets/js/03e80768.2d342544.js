/*! For license information please see 03e80768.2d342544.js.LICENSE.txt */
"use strict";(globalThis.webpackChunkdocs=globalThis.webpackChunkdocs||[]).push([[9206],{6789:(e,r,t)=>{t.d(r,{A:()=>c});t(96540);var l=t(28774),n=t(34164);const o={tileCard:"tileCard_NHsj",tileIcon:"tileIcon_pyoR",tileLink:"tileLink_iUbu",tileImage:"tileImage_O4So"};var a=t(86025),i=t(15626),s=t(74848);function c({icon:e,image:r,imageDark:t,imageWidth:c,imageHeight:m,iconSize:h=32,containerHeight:p,title:d,description:f,href:w,linkText:u="Learn more \u2192",className:y}){if(!e&&!r)throw new Error("TileCard requires either an icon or image prop");const x=p?{height:`${p}px`}:{},g={};return c&&(g.width=`${c}px`),m&&(g.height=`${m}px`),(0,s.jsxs)(l.A,{href:w,className:(0,n.A)(o.tileCard,y),children:[(0,s.jsx)("div",{className:o.tileIcon,style:x,children:e?(0,s.jsx)(e,{size:h}):t?(0,s.jsx)(i.A,{sources:{light:(0,a.default)(r),dark:(0,a.default)(t)},alt:d,className:o.tileImage,style:g}):(0,s.jsx)("img",{src:(0,a.default)(r),alt:d,className:o.tileImage,style:g})}),(0,s.jsx)("h3",{children:d}),(0,s.jsx)("p",{children:f}),(0,s.jsx)("div",{className:o.tileLink,children:u})]})}},28453:(e,r,t)=>{t.d(r,{R:()=>a,x:()=>i});var l=t(96540);const n={},o=l.createContext(n);function a(e){const r=l.useContext(o);return l.useMemo(function(){return"function"==typeof e?e(r):{...r,...e}},[r,e])}function i(e){let r;return r=e.disableParentContext?"function"==typeof e.components?e.components(n):e.components||n:a(e.components),l.createElement(o.Provider,{value:r},e.children)}},41687:(e,r,t)=>{t.r(r),t.d(r,{assets:()=>w,contentTitle:()=>f,default:()=>x,frontMatter:()=>d,metadata:()=>l,toc:()=>u});const l=JSON.parse('{"id":"eval-monitor/scorers/index","title":"What are Scorers?","description":"Scorers are key components of the MLflow GenAI evaluation framework. They provide a unified interface to define evaluation criteria for your models, agents, and applications.","source":"@site/docs/genai/eval-monitor/scorers/index.mdx","sourceDirName":"eval-monitor/scorers","slug":"/eval-monitor/scorers/","permalink":"/mlflow-website/docs/latest/genai/eval-monitor/scorers/","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"genAISidebar","previous":{"title":"Evaluate Traces","permalink":"/mlflow-website/docs/latest/genai/eval-monitor/running-evaluation/traces"},"next":{"title":"Predefined Scorers","permalink":"/mlflow-website/docs/latest/genai/eval-monitor/scorers/llm-judge/predefined"}}');var n=t(74848),o=t(28453),a=(t(49374),t(28774)),i=(t(86025),t(6789)),s=t(65592),c=t(43975),m=t(42640),h=t(47792),p=t(96869);const d={},f="What are Scorers?",w={},u=[{value:"How Scorers Work",id:"how-scorers-work",level:2},{value:"What Scorers you should use?",id:"what-scorers-you-should-use",level:2},{value:"How to Write a Good Scorer?",id:"how-to-write-a-good-scorer",level:2},{value:"Next Steps",id:"next-steps",level:2}];function y(e){const r={a:"a",admonition:"admonition",blockquote:"blockquote",br:"br",code:"code",div:"div",em:"em",h1:"h1",h2:"h2",header:"header",li:"li",ol:"ol",p:"p",strong:"strong",...(0,o.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(r.header,{children:(0,n.jsx)(r.h1,{id:"what-are-scorers",children:"What are Scorers?"})}),"\n",(0,n.jsxs)(r.p,{children:[(0,n.jsx)(r.strong,{children:"Scorers"})," are key components of the MLflow GenAI evaluation framework. They provide a unified interface to define evaluation criteria for your models, agents, and applications."]}),"\n",(0,n.jsxs)(r.p,{children:["Scorers can be considered as ",(0,n.jsx)(r.strong,{children:"metrics"})," in the traditional ML sense. However, they are more flexible and can return more structured quality feedback, not only the scalar values that are typically represented by metrics."]}),"\n",(0,n.jsx)(r.h2,{id:"how-scorers-work",children:"How Scorers Work"}),"\n",(0,n.jsx)(r.p,{children:"Scorers analyze inputs, outputs, and traces from your GenAI application and produce quality assessments. Here's the flow:"}),"\n",(0,n.jsxs)(r.ol,{children:["\n",(0,n.jsxs)(r.li,{children:["You provide a dataset of ",(0,n.jsx)("div",{className:"inline-flex rounded-sm bg-green-100 px-2 py-1 text-sm text-green-900",children:"inputs"})," (and optionally other columns such as ",(0,n.jsx)("div",{className:"inline-flex rounded-sm bg-yellow-100 px-2 py-1 text-sm text-yellow-900",children:"expectations"}),")"]}),"\n",(0,n.jsxs)(r.li,{children:["MLflow runs your ",(0,n.jsx)(r.code,{children:"predict_fn"})," to generate ",(0,n.jsx)("div",{className:"inline-flex rounded-sm bg-orange-100 px-2 py-1 text-sm text-orange-900",children:"outputs"})," and ",(0,n.jsx)("div",{className:"inline-flex rounded-sm bg-cyan-100 px-2 py-1 text-sm text-cyan-900",children:"traces"})," for each row in the dataset. Alternatively, you can provide outputs and traces directly in the dataset and omit the predict function."]}),"\n",(0,n.jsxs)(r.li,{children:["Scorers receive the ",(0,n.jsx)("div",{className:"inline-flex rounded-sm bg-green-100 px-2 py-1 text-sm text-green-900",children:"inputs"}),", ",(0,n.jsx)("div",{className:"inline-flex rounded-sm bg-orange-100 px-2 py-1 text-sm text-orange-900",children:"outputs"}),", ",(0,n.jsx)("div",{className:"inline-flex rounded-sm bg-yellow-100 px-2 py-1 text-sm text-yellow-900",children:"expectations"}),", and ",(0,n.jsx)("div",{className:"inline-flex rounded-sm bg-cyan-100 px-2 py-1 text-sm text-cyan-900",children:"traces"})," (or a subset of them) and produce scores and metadata such as explanations and source information."]}),"\n",(0,n.jsx)(r.li,{children:"MLflow aggregates the scorer results and saves them. You can analyze the results in the UI."}),"\n"]}),"\n",(0,n.jsx)(r.h2,{id:"what-scorers-you-should-use",children:"What Scorers you should use?"}),"\n",(0,n.jsx)(r.p,{children:"MLflow provides different types of scorers to address different evaluation needs:"}),"\n",(0,n.jsxs)(r.blockquote,{children:["\n",(0,n.jsx)(r.p,{children:(0,n.jsx)(r.em,{children:"I want to try evaluation quickly and get some results fast."})}),"\n"]}),"\n",(0,n.jsxs)(r.p,{children:["\u2003\u2192 Use ",(0,n.jsx)(r.a,{href:"/genai/eval-monitor/scorers/llm-judge/predefined",children:"Predefined Scorers"})," to get started."]}),"\n",(0,n.jsxs)(r.blockquote,{children:["\n",(0,n.jsx)(r.p,{children:(0,n.jsx)(r.em,{children:'I want to evaluate my application with a simple natural language criteria, such as "The response must be polite".'})}),"\n"]}),"\n",(0,n.jsxs)(r.p,{children:["\u2003\u2192 Use ",(0,n.jsx)(r.a,{href:"/genai/eval-monitor/scorers/llm-judge/guidelines",children:"Guidelines-based Scorers"}),"."]}),"\n",(0,n.jsxs)(r.blockquote,{children:["\n",(0,n.jsx)(r.p,{children:(0,n.jsx)(r.em,{children:"I want to use more advanced prompt for evaluating my application."})}),"\n"]}),"\n",(0,n.jsxs)(r.p,{children:["\u2003\u2192 Use ",(0,n.jsx)(r.a,{href:"/genai/eval-monitor/scorers/llm-judge/make-judge",children:"Prompt-based Scorers"}),"."]}),"\n",(0,n.jsxs)(r.blockquote,{children:["\n",(0,n.jsx)(r.p,{children:(0,n.jsx)(r.em,{children:"I want to dump the entire trace to the scorer and get detailed insights from it."})}),"\n"]}),"\n",(0,n.jsxs)(r.p,{children:["\u2003\u2192 Use ",(0,n.jsx)(r.a,{href:"/genai/eval-monitor/scorers/llm-judge/agentic-overview",children:"Agent-as-a-Judge Scorers"}),"."]}),"\n",(0,n.jsxs)(r.blockquote,{children:["\n",(0,n.jsx)(r.p,{children:(0,n.jsx)(r.em,{children:"I want to write my own code for evaluating my application. Other scorers don't fit my advanced needs."})}),"\n"]}),"\n",(0,n.jsxs)(r.p,{children:["\u2003\u2192 Use ",(0,n.jsx)(r.a,{href:"/genai/eval-monitor/scorers/custom",children:"Code-based Scorers"})," to implement your own evaluation logic with Python."]}),"\n",(0,n.jsx)(r.p,{children:"If you are still not sure about which scorer to use, you can ask to the Ask AI (add image) widget in the right below."}),"\n",(0,n.jsx)(r.h2,{id:"how-to-write-a-good-scorer",children:"How to Write a Good Scorer?"}),"\n",(0,n.jsx)(r.p,{children:"The general metrics such as 'Hallucination' or 'Toxicity' rarely work in practice. Successful practitioners\nanalyze real data to uncover domain-specific failure modes and then define custom evaluation criteria from the ground up. Here is the general workflow of how to define a good scorer and iterate on it with MLflow."}),"\n",(0,n.jsx)(p.A,{width:"wide",steps:[{title:"Generate traces or collect them from production",description:(0,n.jsxs)(r.div,{children:["Start with generating ",(0,n.jsx)(a.A,{href:"/genai/tracing",children:"traces"})," from a set of realistic input samples. If you already have production traces, that is even better."]})},{title:"Gather human feedback",description:(0,n.jsxs)(r.div,{children:["Collect feedback from domain experts or users. MLflow provides ",(0,n.jsx)(a.A,{href:"/genai/assessments/feedback",children:"a UI and SDK"})," for collecting feedback on traces."]})},{title:"Error analysis",description:(0,n.jsxs)(r.div,{children:["Analyze the common failure modes (error categories) from the feedback.",(0,n.jsx)(r.br,{}),"To organize traces into error categories, use ",(0,n.jsx)(a.A,{href:"/genai/tracing/attach-tags",children:"Trace Tag"})," to label and filter traces."]})},{title:"Translate failure modes into Scorers",description:(0,n.jsxs)(r.div,{children:["Define scorers that check for the common failure modes.For example, if the answer is in an incorrect format, you may define an ",(0,n.jsx)(a.A,{href:"/genai/eval-monitor/scorers/llm-judge",children:"LLM-as-a-Judge scorer"})," that checks if the format is correct. We recommend starting with a simple instruction and then iteratively refine it."]})},{title:"Align scorers with human feedback.",description:(0,n.jsxs)(r.div,{children:["LLM-as-a-Judge has natural biases. Relying on biased evaluation will lead to incorrect decision making. Therefore, it is important to refine the scorer to align with human feedback. You can manually iterate on prompts or instructions, or use the ",(0,n.jsx)(a.A,{href:"/genai/eval-monitor/scorers/llm-judge/alignment",children:"Automatic Judge Alignment"})," feature of MLflow to optimize the instruction with a state-of-the-art algorithm powered by ",(0,n.jsx)(a.A,{href:"https://dspy.ai/",children:"DSPy"}),"."]})}]}),"\n",(0,n.jsx)(r.admonition,{title:"Pro tip: Version Control Scorers",type:"tip",children:(0,n.jsxs)(r.p,{children:["As you iterate on the scorer, version control becomes important. MLflow can track ",(0,n.jsx)("ins",{children:(0,n.jsx)(r.a,{href:"/genai/eval-monitor/scorers/versioning",children:"Scorer Versions"})})," to help you maintain changes and share the improved scorers with your team."]})}),"\n",(0,n.jsx)(r.h2,{id:"next-steps",children:"Next Steps"}),"\n",(0,n.jsxs)(s.A,{children:[(0,n.jsx)(i.A,{icon:c.A,title:"LLM-based Scorers",description:"Get started with LLM judges for evaluating qualities.",href:"/genai/eval-monitor/scorers/llm-judge"}),(0,n.jsx)(i.A,{icon:m.A,title:"Evaluate Agents",description:"Evaluate AI agents with specialized techniques and custom scorers",href:"/genai/eval-monitor/running-evaluation/agents"}),(0,n.jsx)(i.A,{icon:h.A,title:"Collect Human Feedback",description:"Gather and manage human feedback to improve your evaluation accuracy",href:"/genai/assessments/feedback"})]})]})}function x(e={}){const{wrapper:r}={...(0,o.R)(),...e.components};return r?(0,n.jsx)(r,{...e,children:(0,n.jsx)(y,{...e})}):y(e)}},42640:(e,r,t)=>{t.d(r,{A:()=>l});const l=(0,t(84722).A)("bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]])},43975:(e,r,t)=>{t.d(r,{A:()=>l});const l=(0,t(84722).A)("scale",[["path",{d:"m16 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"7g6ntu"}],["path",{d:"m2 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"ijws7r"}],["path",{d:"M7 21h10",key:"1b0cd5"}],["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"M3 7h2c2 0 5-1 7-2 2 1 5 2 7 2h2",key:"3gwbw2"}]])},47792:(e,r,t)=>{t.d(r,{A:()=>l});const l=(0,t(84722).A)("target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]])},49374:(e,r,t)=>{t.d(r,{B:()=>i});t(96540);const l=JSON.parse('{"mlflow.ag2":"api_reference/python_api/mlflow.ag2.html","mlflow.agno":"api_reference/python_api/mlflow.agno.html","mlflow.anthropic":"api_reference/python_api/mlflow.anthropic.html","mlflow.artifacts":"api_reference/python_api/mlflow.artifacts.html","mlflow.autogen":"api_reference/python_api/mlflow.autogen.html","mlflow.bedrock":"api_reference/python_api/mlflow.bedrock.html","mlflow.catboost":"api_reference/python_api/mlflow.catboost.html","mlflow.client":"api_reference/python_api/mlflow.client.html","mlflow.config":"api_reference/python_api/mlflow.config.html","mlflow.crewai":"api_reference/python_api/mlflow.crewai.html","mlflow.data":"api_reference/python_api/mlflow.data.html","mlflow.deployments":"api_reference/python_api/mlflow.deployments.html","mlflow.diviner":"api_reference/python_api/mlflow.diviner.html","mlflow.dspy":"api_reference/python_api/mlflow.dspy.html","mlflow.entities":"api_reference/python_api/mlflow.entities.html","mlflow.environment_variables":"api_reference/python_api/mlflow.environment_variables.html","mlflow.gateway":"api_reference/python_api/mlflow.gateway.html","mlflow.gemini":"api_reference/python_api/mlflow.gemini.html","mlflow.genai":"api_reference/python_api/mlflow.genai.html","mlflow.groq":"api_reference/python_api/mlflow.groq.html","mlflow.h2o":"api_reference/python_api/mlflow.h2o.html","mlflow.johnsnowlabs":"api_reference/python_api/mlflow.johnsnowlabs.html","mlflow.keras":"api_reference/python_api/mlflow.keras.html","mlflow.langchain":"api_reference/python_api/mlflow.langchain.html","mlflow.lightgbm":"api_reference/python_api/mlflow.lightgbm.html","mlflow.litellm":"api_reference/python_api/mlflow.litellm.html","mlflow.llama_index":"api_reference/python_api/mlflow.llama_index.html","mlflow.metrics":"api_reference/python_api/mlflow.metrics.html","mlflow.mistral":"api_reference/python_api/mlflow.mistral.html","mlflow.models":"api_reference/python_api/mlflow.models.html","mlflow.onnx":"api_reference/python_api/mlflow.onnx.html","mlflow.openai":"api_reference/python_api/mlflow.openai.html","mlflow.paddle":"api_reference/python_api/mlflow.paddle.html","mlflow.pmdarima":"api_reference/python_api/mlflow.pmdarima.html","mlflow.projects":"api_reference/python_api/mlflow.projects.html","mlflow.promptflow":"api_reference/python_api/mlflow.promptflow.html","mlflow.prophet":"api_reference/python_api/mlflow.prophet.html","mlflow.pydantic_ai":"api_reference/python_api/mlflow.pydantic_ai.html","mlflow.pyfunc":"api_reference/python_api/mlflow.pyfunc.html","mlflow.pyspark.ml":"api_reference/python_api/mlflow.pyspark.ml.html","mlflow.pytorch":"api_reference/python_api/mlflow.pytorch.html","mlflow":"api_reference/python_api/mlflow.html","mlflow.sagemaker":"api_reference/python_api/mlflow.sagemaker.html","mlflow.sentence_transformers":"api_reference/python_api/mlflow.sentence_transformers.html","mlflow.server":"api_reference/python_api/mlflow.server.html","mlflow.shap":"api_reference/python_api/mlflow.shap.html","mlflow.sklearn":"api_reference/python_api/mlflow.sklearn.html","mlflow.smolagents":"api_reference/python_api/mlflow.smolagents.html","mlflow.spacy":"api_reference/python_api/mlflow.spacy.html","mlflow.spark":"api_reference/python_api/mlflow.spark.html","mlflow.statsmodels":"api_reference/python_api/mlflow.statsmodels.html","mlflow.system_metrics":"api_reference/python_api/mlflow.system_metrics.html","mlflow.tensorflow":"api_reference/python_api/mlflow.tensorflow.html","mlflow.tracing":"api_reference/python_api/mlflow.tracing.html","mlflow.transformers":"api_reference/python_api/mlflow.transformers.html","mlflow.types":"api_reference/python_api/mlflow.types.html","mlflow.utils":"api_reference/python_api/mlflow.utils.html","mlflow.webhooks":"api_reference/python_api/mlflow.webhooks.html","mlflow.xgboost":"api_reference/python_api/mlflow.xgboost.html","mlflow.server.auth":"api_reference/auth/python-api.html","mlflow.server.cli":"api_reference/cli.html","mlflow.r":"api_reference/R-api.html","mlflow.java":"api_reference/java_api/index.html","mlflow.python":"api_reference/python_api/index.html","mlflow.rest":"api_reference/rest-api.html","mlflow.typescript":"api_reference/typescript_api/index.html","mlflow.llms.deployments.api":"api_reference/llms/deployments/api.html"}');var n=t(86025),o=t(74848);const a=e=>{const r=e.split(".");for(let t=r.length;t>0;t--){const e=r.slice(0,t).join(".");if(l[e])return e}return null};function i({fn:e,children:r,hash:t}){const i=a(e);if(!i)return(0,o.jsx)(o.Fragment,{children:r});const s=(0,n.default)(`/${l[i]}#${t??e}`);return(0,o.jsx)("a",{href:s,target:"_blank",children:r??(0,o.jsxs)("code",{children:[e,"()"]})})}},65592:(e,r,t)=>{t.d(r,{A:()=>a});t(96540);var l=t(34164);const n={tilesGrid:"tilesGrid_hB9N"};var o=t(74848);function a({children:e,className:r,cols:t=3}){const a=`repeat(${t}, 1fr)`;return(0,o.jsx)("div",{className:(0,l.A)(n.tilesGrid,r),style:{gridTemplateColumns:a},children:e})}},66927:(e,r,t)=>{t.d(r,{A:()=>a});t(96540);const l={container:"container_JwLF",imageWrapper:"imageWrapper_RfGN",image:"image_bwOA",caption:"caption_jo2G"};var n=t(86025),o=t(74848);function a({src:e,alt:r,width:t,caption:a,className:i}){return(0,o.jsxs)("div",{className:`${l.container} ${i||""}`,children:[(0,o.jsx)("div",{className:l.imageWrapper,style:t?{width:t}:{},children:(0,o.jsx)("img",{src:(0,n.default)(e),alt:r,className:l.image})}),a&&(0,o.jsx)("p",{className:l.caption,children:a})]})}},84722:(e,r,t)=>{t.d(r,{A:()=>c});var l=t(96540);const n=e=>{const r=(e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,r,t)=>t?t.toUpperCase():r.toLowerCase()))(e);return r.charAt(0).toUpperCase()+r.slice(1)},o=(...e)=>e.filter((e,r,t)=>Boolean(e)&&""!==e.trim()&&t.indexOf(e)===r).join(" ").trim(),a=e=>{for(const r in e)if(r.startsWith("aria-")||"role"===r||"title"===r)return!0};var i={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const s=(0,l.forwardRef)(({color:e="currentColor",size:r=24,strokeWidth:t=2,absoluteStrokeWidth:n,className:s="",children:c,iconNode:m,...h},p)=>(0,l.createElement)("svg",{ref:p,...i,width:r,height:r,stroke:e,strokeWidth:n?24*Number(t)/Number(r):t,className:o("lucide",s),...!c&&!a(h)&&{"aria-hidden":"true"},...h},[...m.map(([e,r])=>(0,l.createElement)(e,r)),...Array.isArray(c)?c:[c]])),c=(e,r)=>{const t=(0,l.forwardRef)(({className:t,...a},i)=>{return(0,l.createElement)(s,{ref:i,iconNode:r,className:o(`lucide-${c=n(e),c.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,`lucide-${e}`,t),...a});var c});return t.displayName=n(e),t}},96869:(e,r,t)=>{t.d(r,{A:()=>y});t(96540);const l="workflowContainer__N1v",n="workflowTitle_QrAr",o="stepsContainer_IGeu",a="screenshotContainer_OwzZ",i="stepItem_GyHJ",s="stepIndicator_U2Wb",c="stepNumber_vINc",m="stepNumberText_eLd7",h="stepConnector_Si86",p="stepContent_D0CA",d="stepTitle_wujx",f="stepDescription_PIaE";var w=t(66927),u=t(74848);const y=({steps:e,title:r,screenshot:t,width:y="normal"})=>(0,u.jsxs)("div",{className:l,children:[r&&(0,u.jsx)("h3",{className:n,children:r}),t&&(0,u.jsx)("div",{className:a,children:(0,u.jsx)(w.A,{src:t.src,alt:t.alt,width:t.width||"90%"})}),(0,u.jsx)("div",{className:o,style:{maxWidth:"wide"===y?"850px":"700px"},children:e.map((r,t)=>(0,u.jsxs)("div",{className:i,children:[(0,u.jsxs)("div",{className:s,children:[(0,u.jsx)("div",{className:c,children:r.icon?(0,u.jsx)(r.icon,{size:16}):(0,u.jsx)("span",{className:m,children:t+1})}),t<e.length-1&&(0,u.jsx)("div",{className:h})]}),(0,u.jsxs)("div",{className:p,children:[(0,u.jsx)("h4",{className:d,children:r.title}),(0,u.jsx)("p",{className:f,children:r.description})]})]},t))})]})}}]);