/*! For license information please see c0ac1c02.85eb8176.js.LICENSE.txt */
"use strict";(globalThis.webpackChunkdocs=globalThis.webpackChunkdocs||[]).push([[472],{6789:(e,t,n)=>{n.d(t,{A:()=>c});n(96540);var a=n(28774),r=n(34164);const s={tileCard:"tileCard_NHsj",tileIcon:"tileIcon_pyoR",tileLink:"tileLink_iUbu",tileImage:"tileImage_O4So"};var i=n(86025),l=n(15626),o=n(74848);function c({icon:e,image:t,imageDark:n,imageWidth:c,imageHeight:d,iconSize:h=32,containerHeight:p,title:m,description:u,href:f,linkText:x="Learn more \u2192",className:g}){if(!e&&!t)throw new Error("TileCard requires either an icon or image prop");const _=p?{height:`${p}px`}:{},w={};return c&&(w.width=`${c}px`),d&&(w.height=`${d}px`),(0,o.jsxs)(a.A,{href:f,className:(0,r.A)(s.tileCard,g),children:[(0,o.jsx)("div",{className:s.tileIcon,style:_,children:e?(0,o.jsx)(e,{size:h}):n?(0,o.jsx)(l.A,{sources:{light:(0,i.default)(t),dark:(0,i.default)(n)},alt:m,className:s.tileImage,style:w}):(0,o.jsx)("img",{src:(0,i.default)(t),alt:m,className:s.tileImage,style:w})}),(0,o.jsx)("h3",{children:m}),(0,o.jsx)("p",{children:u}),(0,o.jsx)("div",{className:s.tileLink,children:x})]})}},11470:(e,t,n)=>{n.d(t,{A:()=>b});var a=n(96540),r=n(34164),s=n(17559),i=n(23104),l=n(56347),o=n(205),c=n(57485),d=n(31682),h=n(70679);function p(e){return a.Children.toArray(e).filter(e=>"\n"!==e).map(e=>{if(!e||(0,a.isValidElement)(e)&&function(e){const{props:t}=e;return!!t&&"object"==typeof t&&"value"in t}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)})?.filter(Boolean)??[]}function m(e){const{values:t,children:n}=e;return(0,a.useMemo)(()=>{const e=t??function(e){return p(e).map(({props:{value:e,label:t,attributes:n,default:a}})=>({value:e,label:t,attributes:n,default:a}))}(n);return function(e){const t=(0,d.XI)(e,(e,t)=>e.value===t.value);if(t.length>0)throw new Error(`Docusaurus error: Duplicate values "${t.map(e=>e.value).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e},[t,n])}function u({value:e,tabValues:t}){return t.some(t=>t.value===e)}function f({queryString:e=!1,groupId:t}){const n=(0,l.W6)(),r=function({queryString:e=!1,groupId:t}){if("string"==typeof e)return e;if(!1===e)return null;if(!0===e&&!t)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return t??null}({queryString:e,groupId:t});return[(0,c.aZ)(r),(0,a.useCallback)(e=>{if(!r)return;const t=new URLSearchParams(n.location.search);t.set(r,e),n.replace({...n.location,search:t.toString()})},[r,n])]}function x(e){const{defaultValue:t,queryString:n=!1,groupId:r}=e,s=m(e),[i,l]=(0,a.useState)(()=>function({defaultValue:e,tabValues:t}){if(0===t.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(e){if(!u({value:e,tabValues:t}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${e}" but none of its children has the corresponding value. Available values are: ${t.map(e=>e.value).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return e}const n=t.find(e=>e.default)??t[0];if(!n)throw new Error("Unexpected error: 0 tabValues");return n.value}({defaultValue:t,tabValues:s})),[c,d]=f({queryString:n,groupId:r}),[p,x]=function({groupId:e}){const t=function(e){return e?`docusaurus.tab.${e}`:null}(e),[n,r]=(0,h.Dv)(t);return[n,(0,a.useCallback)(e=>{t&&r.set(e)},[t,r])]}({groupId:r}),g=(()=>{const e=c??p;return u({value:e,tabValues:s})?e:null})();(0,o.A)(()=>{g&&l(g)},[g]);return{selectedValue:i,selectValue:(0,a.useCallback)(e=>{if(!u({value:e,tabValues:s}))throw new Error(`Can't select invalid tab value=${e}`);l(e),d(e),x(e)},[d,x,s]),tabValues:s}}var g=n(92303);const _={tabList:"tabList__CuJ",tabItem:"tabItem_LNqP"};var w=n(74848);function y({className:e,block:t,selectedValue:n,selectValue:a,tabValues:s}){const l=[],{blockElementScrollPositionUntilNextRender:o}=(0,i.a_)(),c=e=>{const t=e.currentTarget,r=l.indexOf(t),i=s[r].value;i!==n&&(o(t),a(i))},d=e=>{let t=null;switch(e.key){case"Enter":c(e);break;case"ArrowRight":{const n=l.indexOf(e.currentTarget)+1;t=l[n]??l[0];break}case"ArrowLeft":{const n=l.indexOf(e.currentTarget)-1;t=l[n]??l[l.length-1];break}}t?.focus()};return(0,w.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,r.A)("tabs",{"tabs--block":t},e),children:s.map(({value:e,label:t,attributes:a})=>(0,w.jsx)("li",{role:"tab",tabIndex:n===e?0:-1,"aria-selected":n===e,ref:e=>{l.push(e)},onKeyDown:d,onClick:c,...a,className:(0,r.A)("tabs__item",_.tabItem,a?.className,{"tabs__item--active":n===e}),children:t??e},e))})}function j({lazy:e,children:t,selectedValue:n}){const s=(Array.isArray(t)?t:[t]).filter(Boolean);if(e){const e=s.find(e=>e.props.value===n);return e?(0,a.cloneElement)(e,{className:(0,r.A)("margin-top--md",e.props.className)}):null}return(0,w.jsx)("div",{className:"margin-top--md",children:s.map((e,t)=>(0,a.cloneElement)(e,{key:t,hidden:e.props.value!==n}))})}function v(e){const t=x(e);return(0,w.jsxs)("div",{className:(0,r.A)(s.G.tabs.container,"tabs-container",_.tabList),children:[(0,w.jsx)(y,{...t,...e}),(0,w.jsx)(j,{...t,...e})]})}function b(e){const t=(0,g.A)();return(0,w.jsx)(v,{...e,children:p(e.children)},String(t))}},19365:(e,t,n)=>{n.d(t,{A:()=>i});n(96540);var a=n(34164);const r={tabItem:"tabItem_Ymn6"};var s=n(74848);function i({children:e,hidden:t,className:n}){return(0,s.jsx)("div",{role:"tabpanel",className:(0,a.A)(r.tabItem,n),hidden:t,children:e})}},22864:(e,t,n)=>{n.d(t,{A:()=>a});const a=(0,n(84722).A)("chart-column",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]])},28453:(e,t,n)=>{n.d(t,{R:()=>i,x:()=>l});var a=n(96540);const r={},s=a.createContext(r);function i(e){const t=a.useContext(s);return a.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function l(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:i(e.components),a.createElement(s.Provider,{value:t},e.children)}},47020:(e,t,n)=>{n.d(t,{A:()=>s});n(96540);const a={wrapper:"wrapper_sf5q"};var r=n(74848);function s({children:e}){return(0,r.jsx)("div",{className:a.wrapper,children:e})}},47792:(e,t,n)=>{n.d(t,{A:()=>a});const a=(0,n(84722).A)("target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]])},49374:(e,t,n)=>{n.d(t,{B:()=>l});n(96540);const a=JSON.parse('{"mlflow.ag2":"api_reference/python_api/mlflow.ag2.html","mlflow.agno":"api_reference/python_api/mlflow.agno.html","mlflow.anthropic":"api_reference/python_api/mlflow.anthropic.html","mlflow.artifacts":"api_reference/python_api/mlflow.artifacts.html","mlflow.autogen":"api_reference/python_api/mlflow.autogen.html","mlflow.bedrock":"api_reference/python_api/mlflow.bedrock.html","mlflow.catboost":"api_reference/python_api/mlflow.catboost.html","mlflow.client":"api_reference/python_api/mlflow.client.html","mlflow.config":"api_reference/python_api/mlflow.config.html","mlflow.crewai":"api_reference/python_api/mlflow.crewai.html","mlflow.data":"api_reference/python_api/mlflow.data.html","mlflow.deployments":"api_reference/python_api/mlflow.deployments.html","mlflow.diviner":"api_reference/python_api/mlflow.diviner.html","mlflow.dspy":"api_reference/python_api/mlflow.dspy.html","mlflow.entities":"api_reference/python_api/mlflow.entities.html","mlflow.environment_variables":"api_reference/python_api/mlflow.environment_variables.html","mlflow.gateway":"api_reference/python_api/mlflow.gateway.html","mlflow.gemini":"api_reference/python_api/mlflow.gemini.html","mlflow.genai":"api_reference/python_api/mlflow.genai.html","mlflow.groq":"api_reference/python_api/mlflow.groq.html","mlflow.h2o":"api_reference/python_api/mlflow.h2o.html","mlflow.johnsnowlabs":"api_reference/python_api/mlflow.johnsnowlabs.html","mlflow.keras":"api_reference/python_api/mlflow.keras.html","mlflow.langchain":"api_reference/python_api/mlflow.langchain.html","mlflow.lightgbm":"api_reference/python_api/mlflow.lightgbm.html","mlflow.litellm":"api_reference/python_api/mlflow.litellm.html","mlflow.llama_index":"api_reference/python_api/mlflow.llama_index.html","mlflow.metrics":"api_reference/python_api/mlflow.metrics.html","mlflow.mistral":"api_reference/python_api/mlflow.mistral.html","mlflow.models":"api_reference/python_api/mlflow.models.html","mlflow.onnx":"api_reference/python_api/mlflow.onnx.html","mlflow.openai":"api_reference/python_api/mlflow.openai.html","mlflow.paddle":"api_reference/python_api/mlflow.paddle.html","mlflow.pmdarima":"api_reference/python_api/mlflow.pmdarima.html","mlflow.projects":"api_reference/python_api/mlflow.projects.html","mlflow.prophet":"api_reference/python_api/mlflow.prophet.html","mlflow.pydantic_ai":"api_reference/python_api/mlflow.pydantic_ai.html","mlflow.pyfunc":"api_reference/python_api/mlflow.pyfunc.html","mlflow.pyspark.ml":"api_reference/python_api/mlflow.pyspark.ml.html","mlflow.pytorch":"api_reference/python_api/mlflow.pytorch.html","mlflow":"api_reference/python_api/mlflow.html","mlflow.sagemaker":"api_reference/python_api/mlflow.sagemaker.html","mlflow.sentence_transformers":"api_reference/python_api/mlflow.sentence_transformers.html","mlflow.server":"api_reference/python_api/mlflow.server.html","mlflow.shap":"api_reference/python_api/mlflow.shap.html","mlflow.sklearn":"api_reference/python_api/mlflow.sklearn.html","mlflow.smolagents":"api_reference/python_api/mlflow.smolagents.html","mlflow.spacy":"api_reference/python_api/mlflow.spacy.html","mlflow.spark":"api_reference/python_api/mlflow.spark.html","mlflow.statsmodels":"api_reference/python_api/mlflow.statsmodels.html","mlflow.system_metrics":"api_reference/python_api/mlflow.system_metrics.html","mlflow.tensorflow":"api_reference/python_api/mlflow.tensorflow.html","mlflow.tracing":"api_reference/python_api/mlflow.tracing.html","mlflow.transformers":"api_reference/python_api/mlflow.transformers.html","mlflow.types":"api_reference/python_api/mlflow.types.html","mlflow.utils":"api_reference/python_api/mlflow.utils.html","mlflow.webhooks":"api_reference/python_api/mlflow.webhooks.html","mlflow.xgboost":"api_reference/python_api/mlflow.xgboost.html","mlflow.server.auth":"api_reference/auth/python-api.html","mlflow.server.cli":"api_reference/cli.html","mlflow.r":"api_reference/R-api.html","mlflow.java":"api_reference/java_api/index.html","mlflow.python":"api_reference/python_api/index.html","mlflow.rest":"api_reference/rest-api.html","mlflow.typescript":"api_reference/typescript_api/index.html","mlflow.llms.deployments.api":"api_reference/llms/deployments/api.html"}');var r=n(86025),s=n(74848);const i=e=>{const t=e.split(".");for(let n=t.length;n>0;n--){const e=t.slice(0,n).join(".");if(a[e])return e}return null};function l({fn:e,children:t,hash:n}){const l=i(e);if(!l)return(0,s.jsx)(s.Fragment,{children:t});const o=(0,r.default)(`/${a[l]}#${n??e}`);return(0,s.jsx)("a",{href:o,target:"_blank",children:t??(0,s.jsxs)("code",{children:[e,"()"]})})}},65592:(e,t,n)=>{n.d(t,{A:()=>i});n(96540);var a=n(34164);const r={tilesGrid:"tilesGrid_hB9N"};var s=n(74848);function i({children:e,className:t}){return(0,s.jsx)("div",{className:(0,a.A)(r.tilesGrid,t),children:e})}},79206:(e,t,n)=>{n.d(t,{A:()=>s});n(96540);const a={conceptOverview:"conceptOverview_x8T_",overviewTitle:"overviewTitle_HyAI",conceptGrid:"conceptGrid_uJNV",conceptCard:"conceptCard_oday",conceptHeader:"conceptHeader_HCk5",conceptIcon:"conceptIcon_gejw",conceptTitle:"conceptTitle_TGMM",conceptDescription:"conceptDescription_ZyDn"};var r=n(74848);function s({concepts:e,title:t}){return(0,r.jsxs)("div",{className:a.conceptOverview,children:[t&&(0,r.jsx)("h3",{className:a.overviewTitle,children:t}),(0,r.jsx)("div",{className:a.conceptGrid,children:e.map((e,t)=>(0,r.jsxs)("div",{className:a.conceptCard,children:[(0,r.jsxs)("div",{className:a.conceptHeader,children:[e.icon&&(0,r.jsx)("div",{className:a.conceptIcon,children:(0,r.jsx)(e.icon,{size:20})}),(0,r.jsx)("h4",{className:a.conceptTitle,children:e.title})]}),(0,r.jsx)("p",{className:a.conceptDescription,children:e.description})]},t))})]})}},80827:(e,t,n)=>{n.d(t,{A:()=>a});const a=(0,n(84722).A)("file-text",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]])},82238:(e,t,n)=>{n.d(t,{A:()=>s});n(96540);const a={featureHighlights:"featureHighlights_Ardf",highlightItem:"highlightItem_XPnN",highlightIcon:"highlightIcon_SUR8",highlightContent:"highlightContent_d0XP"};var r=n(74848);function s({features:e,col:t=2}){return(0,r.jsx)("div",{className:a.featureHighlights,style:{gridTemplateColumns:`repeat(${t}, 1fr)`},children:e.map((e,t)=>(0,r.jsxs)("div",{className:a.highlightItem,children:[e.icon&&(0,r.jsx)("div",{className:a.highlightIcon,children:(0,r.jsx)(e.icon,{size:24})}),(0,r.jsxs)("div",{className:a.highlightContent,children:[(0,r.jsx)("h4",{children:e.title}),(0,r.jsx)("p",{children:e.description})]})]},t))})}},84722:(e,t,n)=>{n.d(t,{A:()=>c});var a=n(96540);const r=e=>{const t=(e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,n)=>n?n.toUpperCase():t.toLowerCase()))(e);return t.charAt(0).toUpperCase()+t.slice(1)},s=(...e)=>e.filter((e,t,n)=>Boolean(e)&&""!==e.trim()&&n.indexOf(e)===t).join(" ").trim(),i=e=>{for(const t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0};var l={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const o=(0,a.forwardRef)(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:o="",children:c,iconNode:d,...h},p)=>(0,a.createElement)("svg",{ref:p,...l,width:t,height:t,stroke:e,strokeWidth:r?24*Number(n)/Number(t):n,className:s("lucide",o),...!c&&!i(h)&&{"aria-hidden":"true"},...h},[...d.map(([e,t])=>(0,a.createElement)(e,t)),...Array.isArray(c)?c:[c]])),c=(e,t)=>{const n=(0,a.forwardRef)(({className:n,...i},l)=>{return(0,a.createElement)(o,{ref:l,iconNode:t,className:s(`lucide-${c=r(e),c.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,`lucide-${e}`,n),...i});var c});return n.displayName=r(e),n}},93164:(e,t,n)=>{n.d(t,{A:()=>a});const a=(0,n(84722).A)("code",[["path",{d:"m16 18 6-6-6-6",key:"eg8j8"}],["path",{d:"m8 6-6 6 6 6",key:"ppft3o"}]])},93256:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>k,contentTitle:()=>b,default:()=>D,frontMatter:()=>v,metadata:()=>a,toc:()=>A});const a=JSON.parse('{"id":"datasets/sdk-guide","title":"Evaluation Datasets SDK Reference","description":"Complete API reference for creating, managing, and querying evaluation datasets programmatically.","source":"@site/docs/genai/datasets/sdk-guide.mdx","sourceDirName":"datasets","slug":"/datasets/sdk-guide","permalink":"/mlflow-website/docs/latest/genai/datasets/sdk-guide","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"genAISidebar","previous":{"title":"End-to-End Workflow","permalink":"/mlflow-website/docs/latest/genai/datasets/end-to-end-workflow"},"next":{"title":"Feedback Collection","permalink":"/mlflow-website/docs/latest/genai/assessments/feedback"}}');var r=n(74848),s=n(28453),i=n(11470),l=n(19365),o=n(49374),c=n(47020),d=n(79206),h=n(65592),p=n(6789),m=n(82238),u=n(96844),f=n(93893),x=n(93164),g=n(80827),_=n(93610),w=n(99653),y=n(22864),j=n(47792);const v={},b="Evaluation Datasets SDK Reference",k={},A=[{value:"Creating a Dataset",id:"creating-a-dataset",level:2},{value:"Adding Records to a Dataset",id:"adding-records-to-a-dataset",level:2},{value:"Updating Existing Records",id:"updating-existing-records",level:2},{value:"Retrieving Datasets",id:"retrieving-datasets",level:2},{value:"Managing Tags",id:"managing-tags",level:2},{value:"Deleting a Dataset",id:"deleting-a-dataset",level:2},{value:"Working with Dataset Records",id:"working-with-dataset-records",level:2},{value:"Advanced Topics",id:"advanced-topics",level:2},{value:"Understanding Input Uniqueness",id:"understanding-input-uniqueness",level:3},{value:"Source Type Inference",id:"source-type-inference",level:3},{value:"Inference Rules",id:"inference-rules",level:4},{value:"Manual Source Override",id:"manual-source-override",level:4},{value:"Available Source Types",id:"available-source-types",level:4},{value:"Search Filter Reference",id:"search-filter-reference",level:3},{value:"Searchable Fields",id:"searchable-fields",level:4},{value:"Filter Operators",id:"filter-operators",level:4},{value:"Common Filter Examples",id:"common-filter-examples",level:4},{value:"Next Steps",id:"next-steps",level:2}];function N(e){const t={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",hr:"hr",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,s.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(t.header,{children:(0,r.jsx)(t.h1,{id:"evaluation-datasets-sdk-reference",children:"Evaluation Datasets SDK Reference"})}),"\n",(0,r.jsx)(t.p,{children:"Complete API reference for creating, managing, and querying evaluation datasets programmatically."}),"\n",(0,r.jsx)(t.admonition,{title:"SQL Backend Required",type:"warning",children:(0,r.jsxs)(t.p,{children:["Evaluation Datasets require an MLflow Tracking Server with a ",(0,r.jsx)(t.strong,{children:(0,r.jsx)(t.a,{href:"/self-hosting/architecture/backend-store/#types-of-backend-stores",children:"SQL backend"})})," (PostgreSQL, MySQL, SQLite, or MSSQL).\nThis feature is ",(0,r.jsx)(t.strong,{children:"not available"})," with FileStore (local file system-based tracking)."]})}),"\n",(0,r.jsx)(t.h2,{id:"creating-a-dataset",children:"Creating a Dataset"}),"\n",(0,r.jsxs)(t.p,{children:["Use ",(0,r.jsx)(o.B,{fn:"mlflow.genai.datasets.create_dataset",text:"create_dataset()"})," to create a new evaluation dataset:"]}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-python",children:'from mlflow.genai.datasets import create_dataset\n\n# Create a new dataset\ndataset = create_dataset(\n    name="customer_support_qa",\n    experiment_id=["0"],  # Link to experiments\n    tags={"version": "1.0", "team": "ml-platform", "status": "active"},\n)\n\nprint(f"Created dataset: {dataset.dataset_id}")\n'})}),"\n",(0,r.jsxs)(t.p,{children:["You can also use the ",(0,r.jsx)(o.B,{fn:"mlflow.tracking.MlflowClient",text:"MlflowClient"})," API:"]}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-python",children:'from mlflow import MlflowClient\n\nclient = MlflowClient()\ndataset = client.create_dataset(\n    name="customer_support_qa",\n    experiment_id=["0"],\n    tags={"version": "1.0"},\n)\n'})}),"\n",(0,r.jsx)(t.h2,{id:"adding-records-to-a-dataset",children:"Adding Records to a Dataset"}),"\n",(0,r.jsxs)(t.p,{children:["Use the ",(0,r.jsx)(o.B,{fn:"mlflow.entities.EvaluationDataset.merge_records",text:"merge_records()"})," method to add new records to your dataset. Records can be added from dictionaries, DataFrames, or traces:"]}),"\n",(0,r.jsx)(c.A,{children:(0,r.jsxs)(i.A,{children:[(0,r.jsxs)(l.A,{value:"from-dicts",label:"From Dictionaries",default:!0,children:[(0,r.jsx)(t.p,{children:"Add records directly from Python dictionaries:"}),(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-python",children:'# Add records with inputs and expectations (ground truth)\nnew_records = [\n    {\n        "inputs": {"question": "What are your business hours?"},\n        "expectations": {\n            "expected_answer": "We\'re open Monday-Friday 9am-5pm EST",\n            "must_mention_hours": True,\n            "must_include_timezone": True,\n        },\n    },\n    {\n        "inputs": {"question": "How do I reset my password?"},\n        "expectations": {\n            "expected_answer": (\n                "Click \'Forgot Password\' and follow the email instructions"\n            ),\n            "must_include_steps": True,\n        },\n    },\n]\n\ndataset.merge_records(new_records)\nprint(f"Dataset now has {len(dataset.records)} records")\n'})})]}),(0,r.jsxs)(l.A,{value:"from-traces",label:"From Traces",children:[(0,r.jsx)(t.p,{children:"Add records from MLflow traces:"}),(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-python",children:'import mlflow\n\n# Search for traces to add to the dataset\ntraces = mlflow.search_traces(\n    experiment_ids=["0"],\n    filter_string="attributes.name = \'chat_completion\'",\n    max_results=50,\n    return_type="list",\n)\n\n# Add traces directly to the dataset\ndataset.merge_records(traces)\n'})})]}),(0,r.jsxs)(l.A,{value:"from-dataframe",label:"From DataFrame",children:[(0,r.jsx)(t.p,{children:"Add records from a pandas DataFrame:"}),(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-python",children:'import pandas as pd\n\n# Create DataFrame with structured data (ground truth expectations)\ndf = pd.DataFrame(\n    [\n        {\n            "inputs": {\n                "question": "What is MLflow?",\n                "context": "general",\n            },\n            "expectations": {\n                "expected_answer": "MLflow is an open-source platform for ML lifecycle",\n                "must_mention": ["tracking", "experiments"],\n            },\n            "tags": {"priority": "high"},\n        },\n        {\n            "inputs": {\n                "question": "How to track experiments?",\n                "context": "technical",\n            },\n            "expectations": {\n                "expected_answer": "Use mlflow.start_run() and mlflow.log_params()",\n                "must_mention": ["log_params", "start_run"],\n            },\n            "tags": {"priority": "medium"},\n        },\n    ]\n)\n\ndataset.merge_records(df)\n'})})]})]})}),"\n",(0,r.jsx)(t.h2,{id:"updating-existing-records",children:"Updating Existing Records"}),"\n",(0,r.jsxs)(t.p,{children:["The ",(0,r.jsx)(o.B,{fn:"mlflow.entities.EvaluationDataset.merge_records",text:"merge_records()"})," method intelligently handles updates. ",(0,r.jsx)(t.strong,{children:"Records are matched based on a hash of their inputs"})," - if a record with identical inputs already exists, its expectations and tags are merged rather than creating a duplicate:"]}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-python",children:'# Initial record\ndataset.merge_records(\n    [\n        {\n            "inputs": {"question": "What is MLflow?"},\n            "expectations": {\n                "expected_answer": "MLflow is a platform for ML",\n                "must_mention_tracking": True,\n            },\n        }\n    ]\n)\n\n# Update with same inputs but enhanced expectations\ndataset.merge_records(\n    [\n        {\n            "inputs": {"question": "What is MLflow?"},  # Same inputs = update\n            "expectations": {\n                # Updates existing value\n                "expected_answer": (\n                    "MLflow is an open-source platform for managing the ML lifecycle"\n                ),\n                "must_mention_models": True,  # Adds new expectation\n                # Note: "must_mention_tracking": True is preserved\n            },\n        }\n    ]\n)\n\n# Result: One record with merged expectations\n'})}),"\n",(0,r.jsx)(t.h2,{id:"retrieving-datasets",children:"Retrieving Datasets"}),"\n",(0,r.jsx)(t.p,{children:"Retrieve existing datasets by ID or search for them:"}),"\n",(0,r.jsx)(c.A,{children:(0,r.jsxs)(i.A,{children:[(0,r.jsx)(l.A,{value:"get-by-id",label:"Get by ID",default:!0,children:(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-python",children:'from mlflow.genai.datasets import get_dataset\n\n# Get a specific dataset by ID\ndataset = get_dataset(dataset_id="d-7f2e3a9b8c1d4e5f")\n\n# Access dataset properties\nprint(f"Name: {dataset.name}")\nprint(f"Records: {len(dataset.records)}")\nprint(f"Schema: {dataset.schema}")\nprint(f"Tags: {dataset.tags}")\n'})})}),(0,r.jsxs)(l.A,{value:"search",label:"Search Datasets",children:[(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-python",children:'from mlflow.genai.datasets import search_datasets\n\n# Search for datasets with filters\ndatasets = search_datasets(\n    experiment_ids=["0"],\n    filter_string="tags.status = \'active\' AND name LIKE \'%support%\'",\n    order_by=["last_update_time DESC"],\n    max_results=10,\n)\n\nfor ds in datasets:\n    print(f"{ds.name} ({ds.dataset_id}): {len(ds.records)} records")\n'})}),(0,r.jsxs)(t.p,{children:["See ",(0,r.jsx)(t.a,{href:"#search-filter-reference",children:"Search Filter Reference"})," for filter syntax details."]})]})]})}),"\n",(0,r.jsx)(t.h2,{id:"managing-tags",children:"Managing Tags"}),"\n",(0,r.jsx)(t.p,{children:"Add, update, or remove tags from datasets:"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-python",children:'from mlflow.genai.datasets import set_dataset_tags, delete_dataset_tag\n\n# Set or update tags\nset_dataset_tags(\n    dataset_id=dataset.dataset_id,\n    tags={"status": "production", "validated": "true", "version": "2.0"},\n)\n\n# Delete a specific tag\ndelete_dataset_tag(dataset_id=dataset.dataset_id, key="deprecated")\n'})}),"\n",(0,r.jsx)(t.h2,{id:"deleting-a-dataset",children:"Deleting a Dataset"}),"\n",(0,r.jsx)(t.p,{children:"Permanently delete a dataset and all its records:"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-python",children:'from mlflow.genai.datasets import delete_dataset\n\n# Delete the entire dataset\ndelete_dataset(dataset_id="d-1a2b3c4d5e6f7890")\n'})}),"\n",(0,r.jsx)(t.admonition,{type:"warning",children:(0,r.jsx)(t.p,{children:"Dataset deletion is permanent and cannot be undone. All records will be deleted."})}),"\n",(0,r.jsx)(t.h2,{id:"working-with-dataset-records",children:"Working with Dataset Records"}),"\n",(0,r.jsxs)(t.p,{children:["The ",(0,r.jsx)(o.B,{fn:"mlflow.entities.EvaluationDataset",text:"EvaluationDataset"})," object provides several ways to access and analyze records:"]}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-python",children:'# Access all records\nall_records = dataset.records\n\n# Convert to DataFrame for analysis\ndf = dataset.to_df()\nprint(df.head())\n\n# View dataset schema (auto-computed from records)\nprint(dataset.schema)\n\n# View dataset profile (statistics)\nprint(dataset.profile)\n\n# Get record count\nprint(f"Total records: {len(dataset.records)}")\n'})}),"\n",(0,r.jsx)(t.hr,{}),"\n",(0,r.jsx)(t.h2,{id:"advanced-topics",children:"Advanced Topics"}),"\n",(0,r.jsx)(t.h3,{id:"understanding-input-uniqueness",children:"Understanding Input Uniqueness"}),"\n",(0,r.jsxs)(t.p,{children:["Records are considered unique based on their ",(0,r.jsx)(t.strong,{children:"entire inputs dictionary"}),". Even small differences create separate records:"]}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-python",children:'# These are treated as different records due to different inputs\nrecord_a = {\n    "inputs": {"question": "What is MLflow?", "temperature": 0.7},\n    "expectations": {"expected_answer": "MLflow is an ML platform"},\n}\n\nrecord_b = {\n    "inputs": {\n        "question": "What is MLflow?",\n        "temperature": 0.8,\n    },  # Different temperature\n    "expectations": {"expected_answer": "MLflow is an ML platform"},\n}\n\ndataset.merge_records([record_a, record_b])\n# Results in 2 separate records due to different temperature values\n'})}),"\n",(0,r.jsx)(t.h3,{id:"source-type-inference",children:"Source Type Inference"}),"\n",(0,r.jsx)(t.p,{children:"MLflow automatically assigns source types before sending records to the backend using these rules:"}),"\n",(0,r.jsx)(d.A,{concepts:[{title:"Automatic Inference",description:"MLflow automatically infers source types based on record characteristics when no explicit source is provided."},{title:"Client-Side Processing",description:"Source type inference happens in merge_records() before records are sent to the tracking backend."},{title:"Manual Override",description:"You can always specify explicit source information to override automatic inference."}]}),"\n",(0,r.jsx)(t.h4,{id:"inference-rules",children:"Inference Rules"}),"\n",(0,r.jsx)(c.A,{children:(0,r.jsxs)(i.A,{children:[(0,r.jsxs)(l.A,{value:"trace",label:"TRACE Source",default:!0,children:[(0,r.jsxs)(t.p,{children:["Records from MLflow traces are automatically assigned the ",(0,r.jsx)(t.code,{children:"TRACE"})," source type:"]}),(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-python",children:'# When adding traces directly (automatic TRACE source)\ntraces = mlflow.search_traces(experiment_ids=["0"], return_type="list")\ndataset.merge_records(traces)\n\n# Or when using DataFrame from search_traces\ntraces_df = mlflow.search_traces(experiment_ids=["0"])  # Returns DataFrame\n# Automatically detects traces and assigns TRACE source\ndataset.merge_records(traces_df)\n'})})]}),(0,r.jsxs)(l.A,{value:"human",label:"HUMAN Source",children:[(0,r.jsxs)(t.p,{children:["Records with expectations are inferred as ",(0,r.jsx)(t.code,{children:"HUMAN"})," source:"]}),(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-python",children:'# Records with expectations indicate human review/annotation\nhuman_curated = [\n    {\n        "inputs": {"question": "What is MLflow?"},\n        "expectations": {\n            "expected_answer": "MLflow is an open-source ML platform",\n            "must_mention": ["tracking", "models", "deployment"],\n        }\n        # Automatically inferred as HUMAN source\n    }\n]\ndataset.merge_records(human_curated)\n'})})]}),(0,r.jsxs)(l.A,{value:"code",label:"CODE Source",children:[(0,r.jsxs)(t.p,{children:["Records with only inputs (no expectations) are inferred as ",(0,r.jsx)(t.code,{children:"CODE"})," source:"]}),(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-python",children:'# Records without expectations are inferred as CODE source\ngenerated_tests = [{"inputs": {"question": f"Test question {i}"}} for i in range(100)]\ndataset.merge_records(generated_tests)\n'})})]})]})}),"\n",(0,r.jsx)(t.h4,{id:"manual-source-override",children:"Manual Source Override"}),"\n",(0,r.jsx)(t.p,{children:"You can explicitly specify the source type and metadata for any record:"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-python",children:'# Specify HUMAN source with metadata\nhuman_curated = {\n    "inputs": {"question": "What are your business hours?"},\n    "expectations": {\n        "expected_answer": "We\'re open Monday-Friday 9am-5pm EST",\n        "must_include_timezone": True,\n    },\n    "source": {\n        "source_type": "HUMAN",\n        "source_data": {"curator": "support_team", "date": "2024-11-01"},\n    },\n}\n\n# Specify DOCUMENT source\nfrom_docs = {\n    "inputs": {"question": "How to install MLflow?"},\n    "expectations": {\n        "expected_answer": "pip install mlflow",\n        "must_mention_pip": True,\n    },\n    "source": {\n        "source_type": "DOCUMENT",\n        "source_data": {"document_id": "install_guide", "page": 1},\n    },\n}\n\ndataset.merge_records([human_curated, from_docs])\n'})}),"\n",(0,r.jsx)(t.h4,{id:"available-source-types",children:"Available Source Types"}),"\n",(0,r.jsx)(m.A,{features:[{icon:u.A,title:"TRACE",description:"Production data captured via MLflow tracing - automatically assigned when adding traces"},{icon:f.A,title:"HUMAN",description:"Subject matter expert annotations - inferred for records with expectations"},{icon:x.A,title:"CODE",description:"Programmatically generated tests - inferred for records without expectations"},{icon:g.A,title:"DOCUMENT",description:"Test cases from documentation or specs - must be explicitly specified"},{icon:_.A,title:"UNSPECIFIED",description:"Source unknown or not provided - for legacy or imported data"}]}),"\n",(0,r.jsx)(t.h3,{id:"search-filter-reference",children:"Search Filter Reference"}),"\n",(0,r.jsx)(t.h4,{id:"searchable-fields",children:"Searchable Fields"}),"\n",(0,r.jsxs)(t.table,{children:[(0,r.jsx)(t.thead,{children:(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.th,{children:"Field"}),(0,r.jsx)(t.th,{children:"Type"}),(0,r.jsx)(t.th,{children:"Example"})]})}),(0,r.jsxs)(t.tbody,{children:[(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:(0,r.jsx)(t.code,{children:"name"})}),(0,r.jsx)(t.td,{children:"string"}),(0,r.jsx)(t.td,{children:(0,r.jsx)(t.code,{children:"name = 'production_tests'"})})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:(0,r.jsx)(t.code,{children:"tags.<key>"})}),(0,r.jsx)(t.td,{children:"string"}),(0,r.jsx)(t.td,{children:(0,r.jsx)(t.code,{children:"tags.status = 'validated'"})})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:(0,r.jsx)(t.code,{children:"created_by"})}),(0,r.jsx)(t.td,{children:"string"}),(0,r.jsx)(t.td,{children:(0,r.jsx)(t.code,{children:"created_by = 'alice@company.com'"})})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:(0,r.jsx)(t.code,{children:"last_updated_by"})}),(0,r.jsx)(t.td,{children:"string"}),(0,r.jsx)(t.td,{children:(0,r.jsx)(t.code,{children:"last_updated_by = 'bob@company.com'"})})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:(0,r.jsx)(t.code,{children:"created_time"})}),(0,r.jsx)(t.td,{children:"timestamp"}),(0,r.jsx)(t.td,{children:(0,r.jsx)(t.code,{children:"created_time > 1698800000000"})})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:(0,r.jsx)(t.code,{children:"last_update_time"})}),(0,r.jsx)(t.td,{children:"timestamp"}),(0,r.jsx)(t.td,{children:(0,r.jsx)(t.code,{children:"last_update_time > 1698800000000"})})]})]})]}),"\n",(0,r.jsx)(t.h4,{id:"filter-operators",children:"Filter Operators"}),"\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsxs)(t.li,{children:[(0,r.jsx)(t.code,{children:"="}),", ",(0,r.jsx)(t.code,{children:"!="}),": Exact match"]}),"\n",(0,r.jsxs)(t.li,{children:[(0,r.jsx)(t.code,{children:"LIKE"}),", ",(0,r.jsx)(t.code,{children:"ILIKE"}),": Pattern matching with ",(0,r.jsx)(t.code,{children:"%"})," wildcard (ILIKE is case-insensitive)"]}),"\n",(0,r.jsxs)(t.li,{children:[(0,r.jsx)(t.code,{children:">"}),", ",(0,r.jsx)(t.code,{children:"<"}),", ",(0,r.jsx)(t.code,{children:">="}),", ",(0,r.jsx)(t.code,{children:"<="}),": Numeric/timestamp comparison"]}),"\n",(0,r.jsxs)(t.li,{children:[(0,r.jsx)(t.code,{children:"AND"}),": Combine conditions (OR is not currently supported)"]}),"\n"]}),"\n",(0,r.jsx)(t.h4,{id:"common-filter-examples",children:"Common Filter Examples"}),"\n",(0,r.jsxs)("table",{style:{width:"100%"},children:[(0,r.jsx)("thead",{children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{style:{width:"40%"},children:"Filter Expression"}),(0,r.jsx)("th",{style:{width:"30%"},children:"Description"}),(0,r.jsx)("th",{style:{width:"30%"},children:"Use Case"})]})}),(0,r.jsxs)("tbody",{children:[(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{children:(0,r.jsx)("strong",{children:(0,r.jsx)(t.code,{children:"name = 'production_qa'"})})}),(0,r.jsx)("td",{children:"Exact name match"}),(0,r.jsx)("td",{children:"Find a specific dataset"})]}),(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{children:(0,r.jsx)("strong",{children:(0,r.jsx)(t.code,{children:"name LIKE '%test%'"})})}),(0,r.jsx)("td",{children:"Pattern matching"}),(0,r.jsx)("td",{children:"Find all test datasets"})]}),(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{children:(0,r.jsx)("strong",{children:(0,r.jsx)(t.code,{children:"tags.status = 'validated'"})})}),(0,r.jsx)("td",{children:"Tag equality"}),(0,r.jsx)("td",{children:"Find production-ready datasets"})]}),(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{children:(0,r.jsx)("strong",{children:(0,r.jsx)(t.code,{children:"tags.version = '2.0' AND tags.team = 'ml'"})})}),(0,r.jsx)("td",{children:"Multiple tag conditions"}),(0,r.jsx)("td",{children:"Find team-specific versions"})]}),(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{children:(0,r.jsx)("strong",{children:(0,r.jsx)(t.code,{children:"created_by = 'alice@company.com'"})})}),(0,r.jsx)("td",{children:"Creator filter"}),(0,r.jsx)("td",{children:"Find datasets by author"})]}),(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{children:(0,r.jsx)("strong",{children:(0,r.jsx)(t.code,{children:"created_time > 1698800000000"})})}),(0,r.jsx)("td",{children:"Time-based filter"}),(0,r.jsx)("td",{children:"Find recent datasets"})]})]})]}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-python",children:'# Complex filter example\ndatasets = search_datasets(\n    filter_string="""\n        tags.status = \'production\'\n        AND name LIKE \'%customer%\'\n        AND created_time > 1698800000000\n    """,\n    order_by=["last_update_time DESC"],\n)\n'})}),"\n",(0,r.jsx)(t.hr,{}),"\n",(0,r.jsx)(t.h2,{id:"next-steps",children:"Next Steps"}),"\n",(0,r.jsxs)(h.A,{children:[(0,r.jsx)(p.A,{icon:w.A,iconSize:48,title:"End-to-End Workflow",description:"Learn the complete evaluation-driven development workflow from app building to production",href:"/genai/datasets/end-to-end-workflow",linkText:"View complete workflow \u2192",containerHeight:64}),(0,r.jsx)(p.A,{icon:y.A,iconSize:48,title:"Run Evaluations",description:"Use your datasets to systematically evaluate and improve your GenAI applications",href:"/genai/eval-monitor",linkText:"Start evaluating \u2192",containerHeight:64}),(0,r.jsx)(p.A,{icon:j.A,iconSize:48,title:"Define Expectations",description:"Learn how to add ground truth expectations to your test data for quality validation",href:"/genai/assessments/expectations",linkText:"Set expectations \u2192",containerHeight:64})]})]})}function D(e={}){const{wrapper:t}={...(0,s.R)(),...e.components};return t?(0,r.jsx)(t,{...e,children:(0,r.jsx)(N,{...e})}):N(e)}},93610:(e,t,n)=>{n.d(t,{A:()=>a});const a=(0,n(84722).A)("circle-question-mark",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]])},93893:(e,t,n)=>{n.d(t,{A:()=>a});const a=(0,n(84722).A)("users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]])},96844:(e,t,n)=>{n.d(t,{A:()=>a});const a=(0,n(84722).A)("activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]])},99653:(e,t,n)=>{n.d(t,{A:()=>a});const a=(0,n(84722).A)("rocket",[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]])}}]);