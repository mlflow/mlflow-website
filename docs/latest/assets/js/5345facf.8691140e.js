"use strict";(globalThis.webpackChunkdocs=globalThis.webpackChunkdocs||[]).push([[4006],{28453:(e,s,n)=>{n.d(s,{R:()=>o,x:()=>t});var r=n(96540);const i={},l=r.createContext(i);function o(e){const s=r.useContext(l);return r.useMemo(function(){return"function"==typeof e?e(s):{...s,...e}},[s,e])}function t(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:o(e.components),r.createElement(l.Provider,{value:s},e.children)}},95559:(e,s,n)=>{n.r(s),n.d(s,{assets:()=>c,contentTitle:()=>t,default:()=>h,frontMatter:()=>o,metadata:()=>r,toc:()=>d});const r=JSON.parse('{"id":"tracking/server/security/configuration","title":"Security Configuration","description":"Requirements","source":"@site/docs/classic-ml/tracking/server/security/configuration.mdx","sourceDirName":"tracking/server/security","slug":"/tracking/server/security/configuration","permalink":"/mlflow-website/docs/latest/ml/tracking/server/security/configuration","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"sidebar_label":"Configuration"},"sidebar":"classicMLSidebar","previous":{"title":"Server Security","permalink":"/mlflow-website/docs/latest/ml/tracking/server/security/"},"next":{"title":"UI Access & Notebooks","permalink":"/mlflow-website/docs/latest/ml/tracking/server/security/ui-access"}}');var i=n(74848),l=n(28453);const o={sidebar_label:"Configuration"},t="Security Configuration",c={},d=[{value:"Requirements",id:"requirements",level:2},{value:"Configuration Options",id:"configuration-options",level:2},{value:"--allowed-hosts",id:"--allowed-hosts",level:2},{value:"--cors-allowed-origins",id:"--cors-allowed-origins",level:2},{value:"--x-frame-options",id:"--x-frame-options",level:2},{value:"--disable-security-middleware",id:"--disable-security-middleware",level:2},{value:"Common Configurations",id:"common-configurations",level:2},{value:"Local Development",id:"local-development",level:3},{value:"Remote Access",id:"remote-access",level:3},{value:"CORS for Web Apps",id:"cors-for-web-apps",level:3},{value:"Allow iframe Embedding",id:"allow-iframe-embedding",level:3}];function a(e){const s={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,l.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(s.header,{children:(0,i.jsx)(s.h1,{id:"security-configuration",children:"Security Configuration"})}),"\n",(0,i.jsx)(s.h2,{id:"requirements",children:"Requirements"}),"\n",(0,i.jsxs)(s.p,{children:["Security middleware features require the FastAPI-based tracking server (uvicorn), which is the default server in MLflow 3.5.0+. These features are not available when using ",(0,i.jsx)(s.code,{children:"--gunicorn-opts"})," or ",(0,i.jsx)(s.code,{children:"--waitress-opts"}),"."]}),"\n",(0,i.jsx)(s.h2,{id:"configuration-options",children:"Configuration Options"}),"\n",(0,i.jsx)(s.p,{children:"Security settings can be configured through CLI options or environment variables:"}),"\n",(0,i.jsxs)(s.table,{children:[(0,i.jsx)(s.thead,{children:(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.th,{children:"Setting"}),(0,i.jsx)(s.th,{children:"CLI Option"}),(0,i.jsx)(s.th,{children:"Environment Variable"}),(0,i.jsx)(s.th,{children:"Default"})]})}),(0,i.jsxs)(s.tbody,{children:[(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:(0,i.jsx)(s.strong,{children:"Allowed Hosts"})}),(0,i.jsx)(s.td,{children:(0,i.jsx)(s.code,{children:"--allowed-hosts"})}),(0,i.jsx)(s.td,{children:(0,i.jsx)(s.code,{children:"MLFLOW_SERVER_ALLOWED_HOSTS"})}),(0,i.jsx)(s.td,{children:"localhost, private IPs"})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:(0,i.jsx)(s.strong,{children:"CORS Origins"})}),(0,i.jsx)(s.td,{children:(0,i.jsx)(s.code,{children:"--cors-allowed-origins"})}),(0,i.jsx)(s.td,{children:(0,i.jsx)(s.code,{children:"MLFLOW_SERVER_CORS_ALLOWED_ORIGINS"})}),(0,i.jsx)(s.td,{children:"localhost:*"})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:(0,i.jsx)(s.strong,{children:"X-Frame-Options"})}),(0,i.jsx)(s.td,{children:(0,i.jsx)(s.code,{children:"--x-frame-options"})}),(0,i.jsx)(s.td,{children:(0,i.jsx)(s.code,{children:"MLFLOW_SERVER_X_FRAME_OPTIONS"})}),(0,i.jsx)(s.td,{children:"SAMEORIGIN"})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:(0,i.jsx)(s.strong,{children:"Disable Security"})}),(0,i.jsx)(s.td,{children:(0,i.jsx)(s.code,{children:"--disable-security-middleware"})}),(0,i.jsx)(s.td,{children:(0,i.jsx)(s.code,{children:"MLFLOW_SERVER_DISABLE_SECURITY_MIDDLEWARE"})}),(0,i.jsx)(s.td,{children:"false"})]})]})]}),"\n",(0,i.jsx)(s.h2,{id:"--allowed-hosts",children:"--allowed-hosts"}),"\n",(0,i.jsx)(s.p,{children:"Controls which Host headers the server accepts. This prevents DNS rebinding attacks by validating incoming requests:"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-bash",children:'# Specific hosts\nmlflow server --allowed-hosts "mlflow.company.com,192.168.1.100"\n\n# Wildcard patterns\nmlflow server --allowed-hosts "*.company.com,192.168.*"\n\n# Allow all (not recommended)\nmlflow server --allowed-hosts "*"\n'})}),"\n",(0,i.jsx)(s.h2,{id:"--cors-allowed-origins",children:"--cors-allowed-origins"}),"\n",(0,i.jsx)(s.p,{children:"Specifies which web applications can make API requests from browsers:"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-bash",children:'# Specific origins\nmlflow server --cors-allowed-origins "https://app.company.com,https://notebook.company.com"\n\n# Wildcard for subdomains\nmlflow server --cors-allowed-origins "https://*.company.com"\n\n# Allow all origins (development only)\nmlflow server --cors-allowed-origins "*"\n'})}),"\n",(0,i.jsx)(s.h2,{id:"--x-frame-options",children:"--x-frame-options"}),"\n",(0,i.jsx)(s.p,{children:"Sets the X-Frame-Options header to control iframe embedding behavior:"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.code,{children:"SAMEORIGIN"})," - Only same origin can embed (default)"]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.code,{children:"DENY"})," - No embedding allowed"]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.code,{children:"NONE"})," - Any site can embed"]}),"\n"]}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-bash",children:"# Allow cross-origin iframe embedding\nmlflow server --x-frame-options NONE\n"})}),"\n",(0,i.jsx)(s.h2,{id:"--disable-security-middleware",children:"--disable-security-middleware"}),"\n",(0,i.jsx)(s.p,{children:"Completely disables security middleware. Use this only when security is handled by a reverse proxy or gateway:"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-bash",children:"mlflow server --disable-security-middleware\n"})}),"\n",(0,i.jsx)(s.h2,{id:"common-configurations",children:"Common Configurations"}),"\n",(0,i.jsx)(s.p,{children:"Examples for typical deployment scenarios:"}),"\n",(0,i.jsx)(s.h3,{id:"local-development",children:"Local Development"}),"\n",(0,i.jsx)(s.p,{children:"Default configuration works out of the box:"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-bash",children:"mlflow server\n"})}),"\n",(0,i.jsx)(s.h3,{id:"remote-access",children:"Remote Access"}),"\n",(0,i.jsx)(s.p,{children:"Allow connections from specific hosts:"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-bash",children:'mlflow server --host 0.0.0.0 --allowed-hosts "mlflow.internal:5000,localhost:*"\n'})}),"\n",(0,i.jsx)(s.h3,{id:"cors-for-web-apps",children:"CORS for Web Apps"}),"\n",(0,i.jsx)(s.p,{children:"Enable browser-based applications to access the API:"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-bash",children:'mlflow server --cors-allowed-origins "https://notebook.internal"\n'})}),"\n",(0,i.jsx)(s.h3,{id:"allow-iframe-embedding",children:"Allow iframe Embedding"}),"\n",(0,i.jsx)(s.p,{children:"Enable embedding the UI in other applications:"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-bash",children:"mlflow server --x-frame-options NONE\n"})})]})}function h(e={}){const{wrapper:s}={...(0,l.R)(),...e.components};return s?(0,i.jsx)(s,{...e,children:(0,i.jsx)(a,{...e})}):a(e)}}}]);