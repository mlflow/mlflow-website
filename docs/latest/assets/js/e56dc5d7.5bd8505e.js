/*! For license information please see e56dc5d7.5bd8505e.js.LICENSE.txt */
"use strict";(globalThis.webpackChunkdocs=globalThis.webpackChunkdocs||[]).push([[3500],{6789:(e,n,r)=>{r.d(n,{A:()=>c});r(96540);var i=r(28774),t=r(34164);const s={tileCard:"tileCard_NHsj",tileIcon:"tileIcon_pyoR",tileLink:"tileLink_iUbu",tileImage:"tileImage_O4So"};var l=r(86025),o=r(15626),a=r(74848);function c({icon:e,image:n,imageDark:r,imageWidth:c,imageHeight:d,iconSize:h=32,containerHeight:m,title:p,description:u,href:x,linkText:f="Learn more \u2192",className:g}){if(!e&&!n)throw new Error("TileCard requires either an icon or image prop");const j=m?{height:`${m}px`}:{},w={};return c&&(w.width=`${c}px`),d&&(w.height=`${d}px`),(0,a.jsxs)(i.A,{href:x,className:(0,t.A)(s.tileCard,g),children:[(0,a.jsx)("div",{className:s.tileIcon,style:j,children:e?(0,a.jsx)(e,{size:h}):r?(0,a.jsx)(o.A,{sources:{light:(0,l.default)(n),dark:(0,l.default)(r)},alt:p,className:s.tileImage,style:w}):(0,a.jsx)("img",{src:(0,l.default)(n),alt:p,className:s.tileImage,style:w})}),(0,a.jsx)("h3",{children:p}),(0,a.jsx)("p",{children:u}),(0,a.jsx)("div",{className:s.tileLink,children:f})]})}},22492:(e,n,r)=>{r.d(n,{A:()=>i});const i=(0,r(84722).A)("shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]])},28453:(e,n,r)=>{r.d(n,{R:()=>l,x:()=>o});var i=r(96540);const t={},s=i.createContext(t);function l(e){const n=i.useContext(s);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:l(e.components),i.createElement(s.Provider,{value:n},e.children)}},43839:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>d,contentTitle:()=>c,default:()=>p,frontMatter:()=>a,metadata:()=>i,toc:()=>h});const i=JSON.parse('{"id":"security/network","title":"Protect Your Tracking Server from Network Exposure","description":"MLflow 3.5.0+ includes security middleware to protect against DNS rebinding, CORS attacks, and clickjacking. These features are available with the default FastAPI-based tracking server (uvicorn).","source":"@site/docs/self-hosting/security/network.mdx","sourceDirName":"security","slug":"/security/network","permalink":"/mlflow-website/docs/latest/self-hosting/security/network","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"selfHostingSidebar","previous":{"title":"Artifact Store","permalink":"/mlflow-website/docs/latest/self-hosting/architecture/artifact-store"},"next":{"title":"Username and Password","permalink":"/mlflow-website/docs/latest/self-hosting/security/basic-http-auth"}}');var t=r(74848),s=r(28453),l=r(82238),o=(r(65592),r(6789),r(22492));const a={},c="Protect Your Tracking Server from Network Exposure",d={},h=[{value:"Allowed Hosts",id:"allowed-hosts",level:3},{value:"CORS Origins",id:"cors-origins",level:3},{value:"X-Frame-Options",id:"x-frame-options",level:3},{value:"Disable Security Middleware",id:"disable-security-middleware",level:3},{value:"Common Scenarios",id:"common-scenarios",level:2},{value:"Local Development",id:"local-development",level:3},{value:"Remote Tracking Server",id:"remote-tracking-server",level:3},{value:"Render MLflow UI within Jupyter Notebooks",id:"render-mlflow-ui-within-jupyter-notebooks",level:3},{value:"Embedding MLflow UI in Web Applications",id:"embedding-mlflow-ui-in-web-applications",level:3}];function m(e){const n={admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,s.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"protect-your-tracking-server-from-network-exposure",children:"Protect Your Tracking Server from Network Exposure"})}),"\n",(0,t.jsx)(n.p,{children:"MLflow 3.5.0+ includes security middleware to protect against DNS rebinding, CORS attacks, and clickjacking. These features are available with the default FastAPI-based tracking server (uvicorn)."}),"\n",(0,t.jsx)(l.A,{features:[{icon:o.A,title:"DNS Rebinding Protection",description:"Validates Host headers to prevent attacks on internal services"},{icon:o.A,title:"CORS Protection",description:"Controls which web apps can access your MLflow API"},{icon:o.A,title:"Clickjacking Prevention",description:"X-Frame-Options header controls iframe embedding"},{icon:o.A,title:"Security Headers",description:"Automatic headers prevent MIME sniffing and XSS"}]}),"\n",(0,t.jsx)(n.p,{children:"Security settings can be configured through CLI options or environment variables. Default settings are designed to be safe for local development while requiring explicit configuration for production:"}),"\n",(0,t.jsxs)(n.admonition,{title:"Requirements",type:"important",children:[(0,t.jsx)(n.p,{children:"Security middleware features require the FastAPI-based tracking server (uvicorn), which is the default server in MLflow 3.5.0+."}),(0,t.jsxs)(n.p,{children:["These features are not available when using ",(0,t.jsx)(n.code,{children:"--gunicorn-opts"})," or ",(0,t.jsx)(n.code,{children:"--waitress-opts"}),"."]})]}),"\n",(0,t.jsx)(n.h3,{id:"allowed-hosts",children:"Allowed Hosts"}),"\n",(0,t.jsx)(n.p,{children:"Controls which Host headers the server accepts. This prevents DNS rebinding attacks by validating incoming requests:"}),"\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"CLI Option"}),(0,t.jsx)(n.th,{children:"Environment Variable"}),(0,t.jsx)(n.th,{children:"Default"})]})}),(0,t.jsx)(n.tbody,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"--allowed-hosts"})}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"MLFLOW_SERVER_ALLOWED_HOSTS"})}),(0,t.jsx)(n.td,{children:"localhost, private IPs"})]})})]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Example"}),":"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:'# Specific hosts\nmlflow server --allowed-hosts "mlflow.company.com,192.168.1.100"\n\n# Wildcard patterns\nmlflow server --allowed-hosts "*.company.com,192.168.*"\n\n# Allow all (not recommended)\nmlflow server --allowed-hosts "*"\n'})}),"\n",(0,t.jsx)(n.h3,{id:"cors-origins",children:"CORS Origins"}),"\n",(0,t.jsx)(n.p,{children:"Specifies which web applications can make API requests from browsers:"}),"\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"CLI Option"}),(0,t.jsx)(n.th,{children:"Environment Variable"}),(0,t.jsx)(n.th,{children:"Default"})]})}),(0,t.jsx)(n.tbody,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"--cors-allowed-origins"})}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"MLFLOW_SERVER_CORS_ALLOWED_ORIGINS"})}),(0,t.jsx)(n.td,{children:"localhost:* (any localhost origin)"})]})})]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:'# Specific origins\nmlflow server --cors-allowed-origins "https://app.company.com,https://notebook.company.com"\n\n# Wildcard for subdomains\nmlflow server --cors-allowed-origins "https://*.company.com"\n\n# Allow all origins (development only)\nmlflow server --cors-allowed-origins "*"\n'})}),"\n",(0,t.jsx)(n.h3,{id:"x-frame-options",children:"X-Frame-Options"}),"\n",(0,t.jsx)(n.p,{children:"Sets the X-Frame-Options header to control iframe embedding behavior:"}),"\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"CLI Option"}),(0,t.jsx)(n.th,{children:"Environment Variable"}),(0,t.jsx)(n.th,{children:"Default"})]})}),(0,t.jsx)(n.tbody,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"--x-frame-options"})}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"MLFLOW_SERVER_X_FRAME_OPTIONS"})}),(0,t.jsx)(n.td,{children:"SAMEORIGIN"})]})})]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"SAMEORIGIN"})," - Only same origin can embed (default)"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"DENY"})," - No embedding allowed"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"NONE"})," - Any site can embed"]}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"# Allow cross-origin iframe embedding\nmlflow server --x-frame-options NONE\n"})}),"\n",(0,t.jsx)(n.h3,{id:"disable-security-middleware",children:"Disable Security Middleware"}),"\n",(0,t.jsx)(n.p,{children:"Completely disables security middleware. Use this only when security is handled by a reverse proxy or gateway:"}),"\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"CLI Option"}),(0,t.jsx)(n.th,{children:"Environment Variable"}),(0,t.jsx)(n.th,{children:"Default"})]})}),(0,t.jsx)(n.tbody,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"--disable-security-middleware"})}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"MLFLOW_SERVER_DISABLE_SECURITY_MIDDLEWARE"})}),(0,t.jsx)(n.td,{children:"false"})]})})]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"mlflow server --disable-security-middleware\n"})}),"\n",(0,t.jsx)(n.h2,{id:"common-scenarios",children:"Common Scenarios"}),"\n",(0,t.jsx)(n.h3,{id:"local-development",children:"Local Development"}),"\n",(0,t.jsx)(n.p,{children:"Default configuration works out of the box:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"mlflow server\n"})}),"\n",(0,t.jsx)(n.p,{children:"This setup accepts connections from localhost and any private IPs."}),"\n",(0,t.jsx)(n.h3,{id:"remote-tracking-server",children:"Remote Tracking Server"}),"\n",(0,t.jsx)(n.p,{children:"For a shared server accessed by multiple known users, you can configure it to allow connections\nfrom specific hosts."}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:'mlflow server --host 0.0.0.0 --allowed-hosts "mlflow.internal:5000,localhost:*"\n'})}),"\n",(0,t.jsx)(n.p,{children:"Then use MLflow Python SDK to connect to remote tracking servers:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:'import mlflow\n\n# Connect to remote server\nmlflow.set_tracking_uri("http://mlflow.company.com:5000")\n\nwith mlflow.start_run():\n    mlflow.log_param("alpha", 0.5)\n    mlflow.log_metric("rmse", 0.1)\n'})}),"\n",(0,t.jsx)(n.admonition,{title:"Host vs Allowed Hosts",type:"info"}),"\n",(0,t.jsx)(n.h3,{id:"render-mlflow-ui-within-jupyter-notebooks",children:"Render MLflow UI within Jupyter Notebooks"}),"\n",(0,t.jsx)(n.p,{children:"When notebooks run on a different domain than your MLflow server, configure CORS and frame options:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:'# Allow embedding from notebook domain\nmlflow server --host 0.0.0.0 \\\n  --x-frame-options NONE \\\n  --cors-allowed-origins "https://jupyter.company.com"\n'})}),"\n",(0,t.jsx)(n.p,{children:"Then embed specific MLflow views directly in notebook cells:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:'from IPython.display import IFrame\n\n# Embed MLflow UI\nIFrame(src="http://mlflow.company.com:5000", width=1000, height=600)\n'})}),"\n",(0,t.jsx)(n.h3,{id:"embedding-mlflow-ui-in-web-applications",children:"Embedding MLflow UI in Web Applications"}),"\n",(0,t.jsx)(n.p,{children:"Create a component to display MLflow content:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-jsx",children:"function MLflowDashboard() {\n  return (\n    <iframe\n      src=\"http://mlflow.company.com:5000/experiments/1\"\n      style={{ width: '100%', height: '800px' }}\n      title=\"MLflow\"\n    />\n  );\n}\n"})}),"\n",(0,t.jsx)(n.p,{children:"Configure the MLflow server to accept requests from your webapp:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:'mlflow server --host 0.0.0.0 \\\n  --x-frame-options NONE \\\n  --cors-allowed-origins "http://localhost:3000,https://app.company.com"\n'})}),"\n",(0,t.jsx)(n.p,{children:"Use this HTML file to verify iframe configuration works correctly:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-html",children:'<!DOCTYPE html>\n<html>\n<head>\n    <title>MLflow iframe Test</title>\n</head>\n<body>\n    <h1>MLflow Embedding Test</h1>\n    <iframe\n        src="http://localhost:5000"\n        style="width: 100%; height: 600px; border: 1px solid #ccc;"\n        onload="document.getElementById(\'status\').innerHTML = \'\u2705 Loaded\'"\n        onerror="document.getElementById(\'status\').innerHTML = \'\u274c Failed\'">\n    </iframe>\n    <div id="status">Loading...</div>\n</body>\n</html>\n'})})]})}function p(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(m,{...e})}):m(e)}},65592:(e,n,r)=>{r.d(n,{A:()=>l});r(96540);var i=r(34164);const t={tilesGrid:"tilesGrid_hB9N"};var s=r(74848);function l({children:e,className:n}){return(0,s.jsx)("div",{className:(0,i.A)(t.tilesGrid,n),children:e})}},82238:(e,n,r)=>{r.d(n,{A:()=>s});r(96540);const i={featureHighlights:"featureHighlights_Ardf",highlightItem:"highlightItem_XPnN",highlightIcon:"highlightIcon_SUR8",highlightContent:"highlightContent_d0XP"};var t=r(74848);function s({features:e,col:n=2}){return(0,t.jsx)("div",{className:i.featureHighlights,style:{gridTemplateColumns:`repeat(${n}, 1fr)`},children:e.map((e,n)=>(0,t.jsxs)("div",{className:i.highlightItem,children:[e.icon&&(0,t.jsx)("div",{className:i.highlightIcon,children:(0,t.jsx)(e.icon,{size:24})}),(0,t.jsxs)("div",{className:i.highlightContent,children:[(0,t.jsx)("h4",{children:e.title}),(0,t.jsx)("p",{children:e.description})]})]},n))})}},84722:(e,n,r)=>{r.d(n,{A:()=>c});var i=r(96540);const t=e=>{const n=(e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()))(e);return n.charAt(0).toUpperCase()+n.slice(1)},s=(...e)=>e.filter((e,n,r)=>Boolean(e)&&""!==e.trim()&&r.indexOf(e)===n).join(" ").trim(),l=e=>{for(const n in e)if(n.startsWith("aria-")||"role"===n||"title"===n)return!0};var o={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const a=(0,i.forwardRef)(({color:e="currentColor",size:n=24,strokeWidth:r=2,absoluteStrokeWidth:t,className:a="",children:c,iconNode:d,...h},m)=>(0,i.createElement)("svg",{ref:m,...o,width:n,height:n,stroke:e,strokeWidth:t?24*Number(r)/Number(n):r,className:s("lucide",a),...!c&&!l(h)&&{"aria-hidden":"true"},...h},[...d.map(([e,n])=>(0,i.createElement)(e,n)),...Array.isArray(c)?c:[c]])),c=(e,n)=>{const r=(0,i.forwardRef)(({className:r,...l},o)=>{return(0,i.createElement)(a,{ref:o,iconNode:n,className:s(`lucide-${c=t(e),c.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,`lucide-${e}`,r),...l});var c});return r.displayName=t(e),r}}}]);