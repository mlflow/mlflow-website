"use strict";(globalThis.webpackChunkdocs=globalThis.webpackChunkdocs||[]).push([[4261],{11470:(e,t,r)=>{r.d(t,{A:()=>j});var l=r(96540),a=r(34164),n=r(17559),o=r(23104),i=r(56347),s=r(205),c=r(57485),h=r(31682),p=r(70679);function f(e){return l.Children.toArray(e).filter(e=>"\n"!==e).map(e=>{if(!e||(0,l.isValidElement)(e)&&function(e){const{props:t}=e;return!!t&&"object"==typeof t&&"value"in t}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)})?.filter(Boolean)??[]}function m(e){const{values:t,children:r}=e;return(0,l.useMemo)(()=>{const e=t??function(e){return f(e).map(({props:{value:e,label:t,attributes:r,default:l}})=>({value:e,label:t,attributes:r,default:l}))}(r);return function(e){const t=(0,h.XI)(e,(e,t)=>e.value===t.value);if(t.length>0)throw new Error(`Docusaurus error: Duplicate values "${t.map(e=>e.value).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e},[t,r])}function d({value:e,tabValues:t}){return t.some(t=>t.value===e)}function u({queryString:e=!1,groupId:t}){const r=(0,i.W6)(),a=function({queryString:e=!1,groupId:t}){if("string"==typeof e)return e;if(!1===e)return null;if(!0===e&&!t)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return t??null}({queryString:e,groupId:t});return[(0,c.aZ)(a),(0,l.useCallback)(e=>{if(!a)return;const t=new URLSearchParams(r.location.search);t.set(a,e),r.replace({...r.location,search:t.toString()})},[a,r])]}function w(e){const{defaultValue:t,queryString:r=!1,groupId:a}=e,n=m(e),[o,i]=(0,l.useState)(()=>function({defaultValue:e,tabValues:t}){if(0===t.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(e){if(!d({value:e,tabValues:t}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${e}" but none of its children has the corresponding value. Available values are: ${t.map(e=>e.value).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return e}const r=t.find(e=>e.default)??t[0];if(!r)throw new Error("Unexpected error: 0 tabValues");return r.value}({defaultValue:t,tabValues:n})),[c,h]=u({queryString:r,groupId:a}),[f,w]=function({groupId:e}){const t=function(e){return e?`docusaurus.tab.${e}`:null}(e),[r,a]=(0,p.Dv)(t);return[r,(0,l.useCallback)(e=>{t&&a.set(e)},[t,a])]}({groupId:a}),_=(()=>{const e=c??f;return d({value:e,tabValues:n})?e:null})();(0,s.A)(()=>{_&&i(_)},[_]);return{selectedValue:o,selectValue:(0,l.useCallback)(e=>{if(!d({value:e,tabValues:n}))throw new Error(`Can't select invalid tab value=${e}`);i(e),h(e),w(e)},[h,w,n]),tabValues:n}}var _=r(92303);const y={tabList:"tabList__CuJ",tabItem:"tabItem_LNqP"};var v=r(74848);function g({className:e,block:t,selectedValue:r,selectValue:l,tabValues:n}){const i=[],{blockElementScrollPositionUntilNextRender:s}=(0,o.a_)(),c=e=>{const t=e.currentTarget,a=i.indexOf(t),o=n[a].value;o!==r&&(s(t),l(o))},h=e=>{let t=null;switch(e.key){case"Enter":c(e);break;case"ArrowRight":{const r=i.indexOf(e.currentTarget)+1;t=i[r]??i[0];break}case"ArrowLeft":{const r=i.indexOf(e.currentTarget)-1;t=i[r]??i[i.length-1];break}}t?.focus()};return(0,v.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,a.A)("tabs",{"tabs--block":t},e),children:n.map(({value:e,label:t,attributes:l})=>(0,v.jsx)("li",{role:"tab",tabIndex:r===e?0:-1,"aria-selected":r===e,ref:e=>{i.push(e)},onKeyDown:h,onClick:c,...l,className:(0,a.A)("tabs__item",y.tabItem,l?.className,{"tabs__item--active":r===e}),children:t??e},e))})}function b({lazy:e,children:t,selectedValue:r}){const n=(Array.isArray(t)?t:[t]).filter(Boolean);if(e){const e=n.find(e=>e.props.value===r);return e?(0,l.cloneElement)(e,{className:(0,a.A)("margin-top--md",e.props.className)}):null}return(0,v.jsx)("div",{className:"margin-top--md",children:n.map((e,t)=>(0,l.cloneElement)(e,{key:t,hidden:e.props.value!==r}))})}function x(e){const t=w(e);return(0,v.jsxs)("div",{className:(0,a.A)(n.G.tabs.container,"tabs-container",y.tabList),children:[(0,v.jsx)(g,{...t,...e}),(0,v.jsx)(b,{...t,...e})]})}function j(e){const t=(0,_.A)();return(0,v.jsx)(x,{...e,children:f(e.children)},String(t))}},19365:(e,t,r)=>{r.d(t,{A:()=>o});r(96540);var l=r(34164);const a={tabItem:"tabItem_Ymn6"};var n=r(74848);function o({children:e,hidden:t,className:r}){return(0,n.jsx)("div",{role:"tabpanel",className:(0,l.A)(a.tabItem,r),hidden:t,children:e})}},28453:(e,t,r)=>{r.d(t,{R:()=>o,x:()=>i});var l=r(96540);const a={},n=l.createContext(a);function o(e){const t=l.useContext(n);return l.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function i(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:o(e.components),l.createElement(n.Provider,{value:t},e.children)}},35312:(e,t,r)=>{r.d(t,{A:()=>l});const l=r.p+"assets/images/tracking-setup-overview-3d8cfd511355d9379328d69573763331.png"},49374:(e,t,r)=>{r.d(t,{B:()=>i});r(96540);const l=JSON.parse('{"mlflow.ag2":"api_reference/python_api/mlflow.ag2.html","mlflow.agno":"api_reference/python_api/mlflow.agno.html","mlflow.anthropic":"api_reference/python_api/mlflow.anthropic.html","mlflow.artifacts":"api_reference/python_api/mlflow.artifacts.html","mlflow.autogen":"api_reference/python_api/mlflow.autogen.html","mlflow.bedrock":"api_reference/python_api/mlflow.bedrock.html","mlflow.catboost":"api_reference/python_api/mlflow.catboost.html","mlflow.client":"api_reference/python_api/mlflow.client.html","mlflow.config":"api_reference/python_api/mlflow.config.html","mlflow.crewai":"api_reference/python_api/mlflow.crewai.html","mlflow.data":"api_reference/python_api/mlflow.data.html","mlflow.deployments":"api_reference/python_api/mlflow.deployments.html","mlflow.diviner":"api_reference/python_api/mlflow.diviner.html","mlflow.dspy":"api_reference/python_api/mlflow.dspy.html","mlflow.entities":"api_reference/python_api/mlflow.entities.html","mlflow.environment_variables":"api_reference/python_api/mlflow.environment_variables.html","mlflow.gateway":"api_reference/python_api/mlflow.gateway.html","mlflow.gemini":"api_reference/python_api/mlflow.gemini.html","mlflow.genai":"api_reference/python_api/mlflow.genai.html","mlflow.groq":"api_reference/python_api/mlflow.groq.html","mlflow.h2o":"api_reference/python_api/mlflow.h2o.html","mlflow.johnsnowlabs":"api_reference/python_api/mlflow.johnsnowlabs.html","mlflow.keras":"api_reference/python_api/mlflow.keras.html","mlflow.langchain":"api_reference/python_api/mlflow.langchain.html","mlflow.lightgbm":"api_reference/python_api/mlflow.lightgbm.html","mlflow.litellm":"api_reference/python_api/mlflow.litellm.html","mlflow.llama_index":"api_reference/python_api/mlflow.llama_index.html","mlflow.metrics":"api_reference/python_api/mlflow.metrics.html","mlflow.mistral":"api_reference/python_api/mlflow.mistral.html","mlflow.models":"api_reference/python_api/mlflow.models.html","mlflow.onnx":"api_reference/python_api/mlflow.onnx.html","mlflow.openai":"api_reference/python_api/mlflow.openai.html","mlflow.paddle":"api_reference/python_api/mlflow.paddle.html","mlflow.pmdarima":"api_reference/python_api/mlflow.pmdarima.html","mlflow.projects":"api_reference/python_api/mlflow.projects.html","mlflow.promptflow":"api_reference/python_api/mlflow.promptflow.html","mlflow.prophet":"api_reference/python_api/mlflow.prophet.html","mlflow.pydantic_ai":"api_reference/python_api/mlflow.pydantic_ai.html","mlflow.pyfunc":"api_reference/python_api/mlflow.pyfunc.html","mlflow.pyspark.ml":"api_reference/python_api/mlflow.pyspark.ml.html","mlflow.pytorch":"api_reference/python_api/mlflow.pytorch.html","mlflow":"api_reference/python_api/mlflow.html","mlflow.sagemaker":"api_reference/python_api/mlflow.sagemaker.html","mlflow.sentence_transformers":"api_reference/python_api/mlflow.sentence_transformers.html","mlflow.server":"api_reference/python_api/mlflow.server.html","mlflow.shap":"api_reference/python_api/mlflow.shap.html","mlflow.sklearn":"api_reference/python_api/mlflow.sklearn.html","mlflow.smolagents":"api_reference/python_api/mlflow.smolagents.html","mlflow.spacy":"api_reference/python_api/mlflow.spacy.html","mlflow.spark":"api_reference/python_api/mlflow.spark.html","mlflow.statsmodels":"api_reference/python_api/mlflow.statsmodels.html","mlflow.system_metrics":"api_reference/python_api/mlflow.system_metrics.html","mlflow.tensorflow":"api_reference/python_api/mlflow.tensorflow.html","mlflow.tracing":"api_reference/python_api/mlflow.tracing.html","mlflow.transformers":"api_reference/python_api/mlflow.transformers.html","mlflow.types":"api_reference/python_api/mlflow.types.html","mlflow.utils":"api_reference/python_api/mlflow.utils.html","mlflow.webhooks":"api_reference/python_api/mlflow.webhooks.html","mlflow.xgboost":"api_reference/python_api/mlflow.xgboost.html","mlflow.server.auth":"api_reference/auth/python-api.html","mlflow.server.cli":"api_reference/cli.html","mlflow.r":"api_reference/R-api.html","mlflow.java":"api_reference/java_api/index.html","mlflow.python":"api_reference/python_api/index.html","mlflow.rest":"api_reference/rest-api.html","mlflow.typescript":"api_reference/typescript_api/index.html","mlflow.llms.deployments.api":"api_reference/llms/deployments/api.html"}');var a=r(86025),n=r(74848);const o=e=>{const t=e.split(".");for(let r=t.length;r>0;r--){const e=t.slice(0,r).join(".");if(l[e])return e}return null};function i({fn:e,children:t,hash:r}){const i=o(e);if(!i)return(0,n.jsx)(n.Fragment,{children:t});const s=(0,a.Ay)(`/${l[i]}#${r??e}`);return(0,n.jsx)("a",{href:s,target:"_blank",children:t??(0,n.jsxs)("code",{children:[e,"()"]})})}},72839:(e,t,r)=>{r.d(t,{X:()=>a});var l=r(74848);function a({children:e}){return(0,l.jsx)("div",{className:"w-full overflow-x-auto",children:(0,l.jsx)("table",{children:e})})}},74001:(e,t,r)=>{r.r(t),r.d(t,{assets:()=>c,contentTitle:()=>s,default:()=>f,frontMatter:()=>i,metadata:()=>l,toc:()=>h});const l=JSON.parse('{"id":"architecture/overview","title":"Architecture Overview","description":"MLflow\'s architecture is simple yet flexible. Whether your needs are for local solo development or production-scale deployment, you can choose the right components and backend options to fit your needs.","source":"@site/docs/self-hosting/architecture/overview.mdx","sourceDirName":"architecture","slug":"/architecture/overview","permalink":"/mlflow-website/docs/latest/self-hosting/architecture/overview","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"title":"Architecture Overview"},"sidebar":"selfHostingSidebar","previous":{"title":"Overview","permalink":"/mlflow-website/docs/latest/self-hosting/"},"next":{"title":"Tracking Server","permalink":"/mlflow-website/docs/latest/self-hosting/architecture/tracking-server"}}');var a=r(74848),n=r(28453),o=(r(28774),r(49374),r(72839));r(11470),r(19365);const i={title:"Architecture Overview"},s="Architecture Overview",c={},h=[{value:"Core Components",id:"core-components",level:2},{value:"MLflow SDK",id:"mlflow-sdk",level:3},{value:"Backend Store",id:"backend-store",level:3},{value:"Artifact Store",id:"artifact-store",level:3},{value:"Tracking Server",id:"tracking-server",level:3},{value:"Common Setups",id:"common-setups",level:2}];function p(e){const t={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",img:"img",p:"p",...(0,n.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(t.header,{children:(0,a.jsx)(t.h1,{id:"architecture-overview",children:"Architecture Overview"})}),"\n",(0,a.jsx)(t.p,{children:"MLflow's architecture is simple yet flexible. Whether your needs are for local solo development or production-scale deployment, you can choose the right components and backend options to fit your needs."}),"\n",(0,a.jsx)(t.h2,{id:"core-components",children:"Core Components"}),"\n",(0,a.jsx)(t.h3,{id:"mlflow-sdk",children:"MLflow SDK"}),"\n",(0,a.jsx)(t.p,{children:"MLflow provides client SDKs in multiple languages (Python, TypeScript, Java, R) with which users interact with the backend."}),"\n",(0,a.jsx)(t.h3,{id:"backend-store",children:"Backend Store"}),"\n",(0,a.jsxs)(t.p,{children:["A database (or file system that emulates it) that stores the metadata of experiments, runs, traces, etc. MLflow supports different databases through SQLAlchemy, including ",(0,a.jsx)(t.code,{children:"postgresql"}),", ",(0,a.jsx)(t.code,{children:"mysql"}),", ",(0,a.jsx)(t.code,{children:"sqlite"})," and ",(0,a.jsx)(t.code,{children:"mssql"}),". See ",(0,a.jsx)(t.a,{href:"/self-hosting/architecture/backend-store",children:"Backend Stores"})," for more configurations of the backend store."]}),"\n",(0,a.jsx)(t.h3,{id:"artifact-store",children:"Artifact Store"}),"\n",(0,a.jsxs)(t.p,{children:["Artifact store persists (typically large) artifacts for each run, such as model weights (e.g. a pickled scikit-learn model),\nimages (e.g. PNGs), model and data files (e.g. ",(0,a.jsx)(t.a,{href:"https://parquet.apache.org",children:"Parquet"})," file). These files are too large to be stored within the tracking backend and are often less-frequently accessed than metadata, rendering them more suited for cheap object storage such as Amazon S3. See ",(0,a.jsx)(t.a,{href:"/self-hosting/architecture/artifact-store",children:"Artifact Stores"})," for supported storage options and low-level configurations."]}),"\n",(0,a.jsx)(t.h3,{id:"tracking-server",children:"Tracking Server"}),"\n",(0,a.jsxs)(t.p,{children:["MLflow Tracking Server is a FastAPI server that serves REST APIs for accessing the backend and the artifact store, as well as hosting the MLflow UI. This is optional for local development since MLflow SDK can directly interact with a local database and file system. However, the server is essential for team development and provides features such as access control. Read ",(0,a.jsx)(t.a,{href:"/self-hosting/architecture/tracking-server",children:"Tracking Server"})," for how to configure the server."]}),"\n",(0,a.jsx)(t.h2,{id:"common-setups",children:"Common Setups"}),"\n",(0,a.jsx)(t.p,{children:"By configuring these components properly, you can create an MLflow Tracking environment suitable for your team's development workflow.\nThe following diagram and table show a few common setups for the MLflow Tracking environment."}),"\n",(0,a.jsx)(t.p,{children:(0,a.jsx)(t.img,{src:r(35312).A+"",width:"2393",height:"1454"})}),"\n",(0,a.jsxs)(o.X,{children:[(0,a.jsx)("thead",{children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{}),(0,a.jsx)("th",{children:"1. Localhost (default)"}),(0,a.jsx)("th",{children:"2. Local Tracking with Local Database"}),(0,a.jsx)("th",{children:"3. Remote Tracking with MLflow Tracking Server"})]})}),(0,a.jsxs)("tbody",{children:[(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{children:"Scenario"}),(0,a.jsx)("td",{children:"Solo development"}),(0,a.jsx)("td",{children:"Solo development"}),(0,a.jsx)("td",{children:"Team development"})]}),(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{children:"Use Case"}),(0,a.jsxs)("td",{children:["By default, MLflow records metadata and artifacts for each run to a local directory, ",(0,a.jsx)(t.code,{children:"mlruns"}),". This is the simplest way to get started with MLflow Tracking, without setting up any external server, database, and storage."]}),(0,a.jsxs)("td",{children:["Database backend provides better performance and reliability than the default file backend. MLflow client SDK interfaces with a ",(0,a.jsx)(t.a,{href:"/self-hosting/architecture/backend-store",children:"SQLAlchemy-compatible database"})," (e.g., SQLite, PostgreSQL, MySQL) to manage metadata, and store artifacts to the local file system."]}),(0,a.jsxs)("td",{children:[(0,a.jsx)(t.a,{href:"/self-hosting/architecture/tracking-server",children:"MLflow Tracking Server"})," serves as a proxy for the remote access to the metadata and artifacts. This is particularly useful for team development scenarios where you want to store artifacts and experiment metadata in a shared location with proper access control."]})]}),(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{children:"Setup"}),(0,a.jsx)("td",{children:(0,a.jsx)(t.p,{children:"No additional setup (default)."})}),(0,a.jsx)("td",{children:(0,a.jsxs)(t.p,{children:["Set the tracking URI to the database URI (e.g., ",(0,a.jsx)(t.code,{children:"sqlite:///mlflow.db"}),") with the ",(0,a.jsx)(t.code,{children:"mlflow.set_tracking_uri"})," or the ",(0,a.jsx)(t.code,{children:"MLFLOW_TRACKING_URI"})," environment variable."]})}),(0,a.jsx)("td",{children:(0,a.jsxs)(t.p,{children:["Refer to the ",(0,a.jsx)(t.a,{href:"/self-hosting/#docker-compose",children:"Docker Compose"})," setup. Alternatively, you can use the ",(0,a.jsx)(t.a,{href:"https://www.databricks.com/product/managed-mlflow",children:"managed MLflow service"})," from popular cloud providers to avoid the maintenance overhead."]})})]})]})]})]})}function f(e={}){const{wrapper:t}={...(0,n.R)(),...e.components};return t?(0,a.jsx)(t,{...e,children:(0,a.jsx)(p,{...e})}):p(e)}}}]);