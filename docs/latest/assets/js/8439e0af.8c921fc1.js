"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([["1102"],{31345(e,n,t){t.r(n),t.d(n,{metadata:()=>i,default:()=>M,frontMatter:()=>w,contentTitle:()=>k,toc:()=>S,assets:()=>N});var i=JSON.parse('{"id":"eval-monitor/scorers/llm-judge/alignment","title":"Judge Alignment: Teaching AI to Match Human Preferences","description":"Transform Generic Judges into Domain Experts","source":"@site/docs/genai/eval-monitor/scorers/llm-judge/alignment.mdx","sourceDirName":"eval-monitor/scorers/llm-judge","slug":"/eval-monitor/scorers/llm-judge/alignment","permalink":"/mlflow-website/docs/latest/genai/eval-monitor/scorers/llm-judge/alignment","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"genAISidebar","previous":{"title":"Tutorial: Develop code-based scorers","permalink":"/mlflow-website/docs/latest/genai/eval-monitor/scorers/custom/tutorial"},"next":{"title":"SIMBA Optimizer","permalink":"/mlflow-website/docs/latest/genai/eval-monitor/scorers/llm-judge/simba"}}'),s=t(74848),r=t(28453),a=t(78010),l=t(57250),o=t(95986),c=t(33508),d=t(34742),u=t(10440),m=t(77541),h=t(33425),g=t(87073),p=t(47792),f=t(15977),x=t(22492),j=t(80964),v=t(93893),_=t(96393),y=t(51004),b=t(61878),A=t(46077);let w={},k="Judge Alignment: Teaching AI to Match Human Preferences",N={},S=[{value:"Transform Generic Judges into Domain Experts",id:"transform-generic-judges-into-domain-experts",level:2},{value:"Why Alignment Matters",id:"why-alignment-matters",level:2},{value:"How Judge Alignment Works",id:"how-judge-alignment-works",level:2},{value:"Quick Start: Align Your First Judge",id:"quick-start-align-your-first-judge",level:2},{value:"Step 1: Setup and Generate Traces",id:"step-1-setup-and-generate-traces",level:3},{value:"Step 2: Collect Human Feedback",id:"step-2-collect-human-feedback",level:3},{value:"Step 3: Align and Register",id:"step-3-align-and-register",level:3},{value:"Alignment Optimizers",id:"alignment-optimizers",level:2},{value:"Collecting Feedback for Alignment",id:"collecting-feedback-for-alignment",level:2},{value:"Feedback Collection Approaches",id:"feedback-collection-approaches",level:3},{value:"Testing Alignment Effectiveness",id:"testing-alignment-effectiveness",level:2},{value:"Next Steps",id:"next-steps",level:2}];function T(e){let n={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"judge-alignment-teaching-ai-to-match-human-preferences",children:"Judge Alignment: Teaching AI to Match Human Preferences"})}),"\n",(0,s.jsx)(n.h2,{id:"transform-generic-judges-into-domain-experts",children:"Transform Generic Judges into Domain Experts"}),"\n",(0,s.jsx)(n.p,{children:"Judge alignment is the process of refining LLM judges to match human evaluation standards. Through systematic learning from human feedback, judges evolve from generic evaluators to domain-specific experts that understand your unique quality criteria."}),"\n",(0,s.jsx)(n.h2,{id:"why-alignment-matters",children:"Why Alignment Matters"}),"\n",(0,s.jsx)(n.p,{children:'Even the most sophisticated LLMs need calibration to match your specific evaluation standards. What constitutes "good" customer service varies by industry. Medical accuracy requirements differ from general health advice. Alignment bridges this gap, teaching judges your specific quality standards through example.'}),"\n",(0,s.jsx)(c.A,{features:[{icon:g.A,title:"Learn from Expert Feedback",description:"Judges improve by learning from your domain experts' assessments, capturing nuanced quality criteria that generic prompts miss."},{icon:p.A,title:"Consistent Standards at Scale",description:"Once aligned, judges apply your exact quality standards consistently across millions of evaluations."},{icon:f.A,title:"Continuous Improvement",description:"As your standards evolve, judges can be re-aligned with new feedback, maintaining relevance over time."},{icon:x.A,title:"Reduced Evaluation Errors",description:"Aligned judges show 30-50% reduction in false positives/negatives compared to generic evaluation prompts."}]}),"\n",(0,s.jsx)(n.h2,{id:"how-judge-alignment-works",children:"How Judge Alignment Works"}),"\n",(0,s.jsx)(h.A,{title:"Alignment Lifecycle",steps:[{icon:j.A,title:"Create Initial Judge",description:"Define basic criteria",detailedDescription:"Start with a judge that has basic evaluation instructions. This will be refined through the alignment process."},{icon:v.A,title:"Collect Human Feedback",description:"Experts assess outputs",detailedDescription:"Domain experts review judge outputs and provide ground truth assessments that capture your specific quality standards."},{icon:g.A,title:"Run Alignment",description:"Learn from patterns",detailedDescription:"The alignment optimizer analyzes feedback patterns and automatically refines judge instructions to match human preferences.",isFocus:!0},{icon:p.A,title:"Validate Accuracy",description:"Test improvements",detailedDescription:"Compare aligned judge against baseline on held-out test data to verify genuine accuracy improvements."},{icon:_.A,title:"Monitor & Iterate",description:"Track performance",detailedDescription:"Monitor judge accuracy in production and collect new feedback for continuous improvement."}],loopBackIcon:f.A,loopBackText:"Continuous Refinement",loopBackDescription:"As standards evolve, continue collecting feedback and re-aligning",circleSize:500}),"\n",(0,s.jsx)(n.h2,{id:"quick-start-align-your-first-judge",children:"Quick Start: Align Your First Judge"}),"\n",(0,s.jsxs)(n.admonition,{title:"Critical Requirement for Alignment",type:"warning",children:[(0,s.jsxs)(n.p,{children:["For alignment to work, each trace must have BOTH judge assessments AND human feedback ",(0,s.jsx)(n.strong,{children:"with the same assessment name"}),". The alignment process learns by comparing judge assessments with human feedback on the same traces."]}),(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"The assessment name must exactly match the judge name"}),' - if your judge is named "product_quality", both the judge\'s assessments and human feedback must use the name "product_quality".']}),(0,s.jsx)(n.p,{children:"The order doesn't matter - humans can provide feedback before or after the judge evaluates."})]}),"\n",(0,s.jsx)(n.h3,{id:"step-1-setup-and-generate-traces",children:"Step 1: Setup and Generate Traces"}),"\n",(0,s.jsx)(n.p,{children:"First, create your judge and generate traces with initial assessments:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-python",children:'from mlflow.genai.judges import make_judge\nfrom mlflow.genai.judges.optimizers import SIMBAAlignmentOptimizer\nfrom mlflow.entities import AssessmentSource, AssessmentSourceType\nfrom typing import Literal\nimport mlflow\n\n# Create experiment and initial judge\nexperiment_id = mlflow.create_experiment("product-quality-alignment")\nmlflow.set_experiment(experiment_id=experiment_id)\n\ninitial_judge = make_judge(\n    name="product_quality",\n    instructions=(\n        "Evaluate if the product description in {{ outputs }} "\n        "is accurate and helpful for the query in {{ inputs }}. "\n        "Rate as: excellent, good, fair, or poor"\n    ),\n    feedback_value_type=Literal["excellent", "good", "fair", "poor"],\n    model="anthropic:/claude-opus-4-1-20250805",\n)\n\n# Generate traces from your application (minimum 10 required)\ntraces = []\nfor i in range(15):  # Generate 15 traces (more than minimum of 10)\n    with mlflow.start_span(f"product_description_{i}") as span:\n        # Your application logic\n        query = f"Product query {i}"\n        description = f"Product description for query {i}"\n        span.set_inputs({"query": query})\n        span.set_outputs({"description": description})\n        traces.append(span.trace_id)\n\n# Run the judge on these traces to get initial assessments\nfor trace_id in traces:\n    trace = mlflow.get_trace(trace_id)\n\n    # Extract inputs and outputs from the trace for field-based evaluation\n    inputs = trace.data.spans[0].inputs  # Get inputs from trace\n    outputs = trace.data.spans[0].outputs  # Get outputs from trace\n\n    # Judge evaluates using field-based approach (inputs/outputs)\n    judge_result = initial_judge(inputs=inputs, outputs=outputs)\n    # Judge\'s assessment is automatically logged when called\n'})}),"\n",(0,s.jsx)(n.h3,{id:"step-2-collect-human-feedback",children:"Step 2: Collect Human Feedback"}),"\n",(0,s.jsx)(n.p,{children:"After running your judge on traces, you need to collect human feedback. You can either:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Use the MLflow UI"})," (recommended): Review traces and add feedback through the intuitive interface"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Log programmatically"}),": If you already have ground truth labels"]}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:["For detailed instructions on collecting feedback, see ",(0,s.jsx)(n.a,{href:"#collecting-feedback-for-alignment",children:"Collecting Feedback for Alignment"})," below."]}),"\n",(0,s.jsx)(n.h3,{id:"step-3-align-and-register",children:"Step 3: Align and Register"}),"\n",(0,s.jsx)(n.p,{children:"After collecting feedback, align your judge and register it:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-python",children:'from mlflow.genai.judges.optimizers import SIMBAAlignmentOptimizer\n\n# Retrieve traces with both judge and human assessments\ntraces_for_alignment = mlflow.search_traces(\n    experiment_ids=[experiment_id], max_results=15, return_type="list"\n)\n\n# Align the judge using human corrections (minimum 10 traces recommended)\nif len(traces_for_alignment) >= 10:\n    # Use SIMBAAlignmentOptimizer explicitly (this is also the default if no optimizer is specified)\n    optimizer = SIMBAAlignmentOptimizer(model="anthropic:/claude-opus-4-1-20250805")\n    aligned_judge = initial_judge.align(traces_for_alignment, optimizer)\n\n    # Register the aligned judge\n    aligned_judge.register(experiment_id=experiment_id)\n    print("Judge aligned successfully with human feedback")\nelse:\n    print(f"Need at least 10 traces for alignment, have {len(traces_for_alignment)}")\n'})}),"\n",(0,s.jsx)(n.h2,{id:"alignment-optimizers",children:"Alignment Optimizers"}),"\n",(0,s.jsx)(n.p,{children:"MLflow provides multiple alignment optimizers:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.a,{href:"/genai/eval-monitor/scorers/llm-judge/simba",children:(0,s.jsx)(n.strong,{children:"SIMBA"})})," (default) - Uses DSPy's SIMBA algorithm for prompt optimization"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.a,{href:"/genai/eval-monitor/scorers/llm-judge/gepa",children:(0,s.jsx)(n.strong,{children:"GEPA"})})," - Uses DSPy's GEPA algorithm with LLM-driven reflection for iterative refinement"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.a,{href:"/genai/eval-monitor/scorers/llm-judge/memalign",children:(0,s.jsx)(n.strong,{children:"MemAlign"})})," (experimental) - Uses a dual-memory system for fast and cheap few-shot alignment"]}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:["You can also ",(0,s.jsx)(n.a,{href:"/genai/eval-monitor/scorers/llm-judge/custom-optimizers",children:"create custom optimizers"})," to implement domain-specific alignment strategies."]}),"\n",(0,s.jsx)(n.h2,{id:"collecting-feedback-for-alignment",children:"Collecting Feedback for Alignment"}),"\n",(0,s.jsx)(n.p,{children:"The quality of alignment depends on the quality and quantity of feedback. Choose the approach that best fits your situation:"}),"\n",(0,s.jsx)(n.h3,{id:"feedback-collection-approaches",children:"Feedback Collection Approaches"}),"\n",(0,s.jsx)(o.A,{children:(0,s.jsxs)(a.A,{children:[(0,s.jsxs)(l.A,{value:"ui",label:"MLflow UI (Recommended)",default:!0,children:[(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"When to use:"})," You don't have existing ground truth labels and need to collect human feedback."]}),(0,s.jsx)(n.p,{children:"The MLflow UI provides an intuitive interface for reviewing traces and adding feedback:"}),(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Navigate to the Traces tab"})," in your experiment"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Click on individual traces"})," to review inputs, outputs, and any existing judge assessments"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Add feedback"}),' by clicking the "Add Feedback" button']}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Select the assessment name"}),' that matches your judge name (e.g., "product_quality")']}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Provide your rating"})," according to your evaluation criteria"]}),"\n"]}),(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Tips for effective feedback collection:"})}),(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["If you're ",(0,s.jsx)(n.strong,{children:"not a domain expert"}),": Distribute traces among team members or domain experts for review"]}),"\n",(0,s.jsxs)(n.li,{children:["If you ",(0,s.jsx)(n.strong,{children:"are the domain expert"}),": Create a rubric or guidelines document to ensure consistency"]}),"\n",(0,s.jsxs)(n.li,{children:["For ",(0,s.jsx)(n.strong,{children:"multiple reviewers"}),": Organize feedback sessions where reviewers can work through batches together"]}),"\n",(0,s.jsxs)(n.li,{children:["For ",(0,s.jsx)(n.strong,{children:"consistency"}),": Document your evaluation criteria clearly before starting"]}),"\n"]}),(0,s.jsx)(n.p,{children:"The UI automatically logs feedback in the correct format for alignment."}),(0,s.jsx)(A.A,{src:"/images/assessments/add_feedback_ui.png",alt:"MLflow UI Feedback Interface",width:"800px"})]}),(0,s.jsxs)(l.A,{value:"programmatic",label:"Programmatic (Ground Truth)",children:[(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"When to use:"})," You have existing ground truth labels from your data."]}),(0,s.jsx)(n.p,{children:"If you already have labeled data, you can programmatically log it as feedback:"}),(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-python",children:'import mlflow\nfrom mlflow.entities import AssessmentSource, AssessmentSourceType\n\n# Your existing ground truth dataset\nground_truth_data = [\n    {"trace_id": "trace1", "label": "excellent", "query": "What is MLflow?"},\n    {"trace_id": "trace2", "label": "poor", "query": "How to use tracking?"},\n    {"trace_id": "trace3", "label": "good", "query": "How to log models?"},\n]\n\n# Log ground truth as feedback for alignment\nfor item in ground_truth_data:\n    mlflow.log_feedback(\n        trace_id=item["trace_id"],\n        name="product_quality",  # Must match your judge name\n        value=item["label"],\n        source=AssessmentSource(\n            source_type=AssessmentSourceType.HUMAN, source_id="ground_truth_dataset"\n        ),\n    )\n\nprint(f"Logged {len(ground_truth_data)} ground truth labels for alignment")\n'})}),(0,s.jsx)(n.p,{children:"This approach is efficient when you have pre-labeled data from:"}),(0,s.jsx)(n.p,{children:"\u2022 Previous manual labeling efforts\n\u2022 Expert annotations\n\u2022 Production feedback systems\n\u2022 Test datasets with known correct answers"})]})]})}),"\n",(0,s.jsx)(d.A,{concepts:[{icon:v.A,title:"Diverse Reviewers",description:"Include feedback from multiple experts to capture different perspectives and reduce individual bias."},{icon:_.A,title:"Balanced Examples",description:"Include both positive and negative examples. Aim for at least 30% of each to help the judge learn boundaries."},{icon:y.A,title:"Sufficient Volume",description:"Collect sufficient feedback examples for alignment. More examples typically yield better results, though the exact number depends on the optimizer used."},{icon:p.A,title:"Consistent Standards",description:"Ensure reviewers use consistent criteria. Provide guidelines or rubrics to standardize assessments."}]}),"\n",(0,s.jsx)(n.h2,{id:"testing-alignment-effectiveness",children:"Testing Alignment Effectiveness"}),"\n",(0,s.jsx)(n.p,{children:"Validate that alignment improved your judge:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-python",children:'def test_alignment_improvement(\n    original_judge, aligned_judge, test_traces: list\n) -> dict:\n    """Compare judge performance before and after alignment."""\n\n    original_correct = 0\n    aligned_correct = 0\n\n    for trace in test_traces:\n        # Get human ground truth from trace assessments\n        feedbacks = trace.search_assessments(type="feedback")\n        human_feedback = next(\n            (f for f in feedbacks if f.source.source_type == "HUMAN"), None\n        )\n\n        if not human_feedback:\n            continue\n\n        # Get judge evaluations\n        original_eval = original_judge(trace=trace)\n        aligned_eval = aligned_judge(trace=trace)\n\n        # Check agreement with human\n        if original_eval.value == human_feedback.value:\n            original_correct += 1\n        if aligned_eval.value == human_feedback.value:\n            aligned_correct += 1\n\n    total = len(test_traces)\n    return {\n        "original_accuracy": original_correct / total,\n        "aligned_accuracy": aligned_correct / total,\n        "improvement": (aligned_correct - original_correct) / total,\n    }\n'})}),"\n",(0,s.jsx)(n.h2,{id:"next-steps",children:"Next Steps"}),"\n",(0,s.jsxs)(u.A,{children:[(0,s.jsx)(m.A,{icon:g.A,iconSize:48,title:"Create Custom Judges",description:"Learn to create domain-specific judges with make_judge.",href:"/genai/eval-monitor/scorers/llm-judge/custom-judges",linkText:"Create judges \u2192",containerHeight:64}),(0,s.jsx)(m.A,{icon:b.A,iconSize:48,title:"Development Workflow",description:"See complete workflow from creation to aligned production judge.",href:"/genai/eval-monitor/scorers/llm-judge/workflow",linkText:"View workflow \u2192",containerHeight:64}),(0,s.jsx)(m.A,{icon:y.A,iconSize:48,title:"Dataset Integration",description:"Use judges with evaluation datasets for systematic testing.",href:"/genai/datasets",linkText:"Learn integration \u2192",containerHeight:64})]})]})}function M(e={}){let{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(T,{...e})}):T(e)}},34742(e,n,t){t.d(n,{A:()=>s});var i=t(74848);t(96540);function s({concepts:e,title:n}){return(0,i.jsxs)("div",{className:"conceptOverview_x8T_",children:[n&&(0,i.jsx)("h3",{className:"overviewTitle_HyAI",children:n}),(0,i.jsx)("div",{className:"conceptGrid_uJNV",children:e.map((e,n)=>(0,i.jsxs)("div",{className:"conceptCard_oday",children:[(0,i.jsxs)("div",{className:"conceptHeader_HCk5",children:[e.icon&&(0,i.jsx)("div",{className:"conceptIcon_gejw",children:(0,i.jsx)(e.icon,{size:20})}),(0,i.jsx)("h4",{className:"conceptTitle_TGMM",children:e.title})]}),(0,i.jsx)("p",{className:"conceptDescription_ZyDn",children:e.description})]},n))})]})}},33425(e,n,t){t.d(n,{A:()=>l});var i=t(74848),s=t(96540);let r="loopContainer_P7aD",a="loopTitle_JPUj",l=({steps:e,title:n,loopBackIcon:t,loopBackText:l,loopBackDescription:o,circleSize:c=400})=>{let[d,u]=(0,s.useState)(null),[m,h]=(0,s.useState)(!1),[g,p]=(0,s.useState)({x:0,y:0}),[f,x]=(0,s.useState)(!1),j=(0,s.useRef)(null);s.useEffect(()=>{let e=()=>{x(window.innerWidth<=768)};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]);let v=f?280:c,_=Math.max(f?100:140,Math.min(f?130:220,(c/2-(f?50:80))*Math.min(1.2,.8+.05*e.length))),y=v/2,b=v/2,A=n=>{let t=2*n*Math.PI/e.length-Math.PI/2;return{x:y+_*Math.cos(t),y:b+_*Math.sin(t)}},w=()=>{u(null)};return f?(0,i.jsxs)("div",{className:r,children:[n&&(0,i.jsx)("h3",{className:a,children:n}),(0,i.jsxs)("div",{className:"mobileLinearContent_PCYK",children:[e.map((n,t)=>(0,i.jsxs)("div",{className:"mobileStepItem_x9mX",children:[(0,i.jsxs)("div",{className:"mobileStepIndicator_zWzO",children:[(0,i.jsx)("div",{className:`mobileStepNumber_HnjD ${n.isFocus?"mobileFocusNode_FTRa":""}`,children:n.icon?(0,i.jsx)(n.icon,{size:20}):(0,i.jsx)("span",{children:t+1})}),t<e.length-1&&(0,i.jsx)("div",{className:"mobileStepConnector_kK9y"})]}),(0,i.jsxs)("div",{className:"mobileStepContent_jmKx",children:[(0,i.jsx)("h4",{className:"mobileStepTitle_P2DM",children:n.title}),(0,i.jsx)("p",{className:"mobileStepDescription_qbMN",children:n.detailedDescription||n.description})]})]},t)),t&&o&&(0,i.jsxs)("div",{className:"mobileLoopBack_nXtn",children:[(0,i.jsx)("div",{className:"mobileLoopIcon_FAGz",children:(0,i.jsx)(t,{size:24})}),(0,i.jsxs)("div",{className:"mobileLoopContent_BRFV",children:[(0,i.jsx)("h4",{className:"mobileLoopTitle_JcCt",children:l||"Iterate"}),(0,i.jsx)("p",{className:"mobileLoopDescription_5B8T",children:o})]})]})]})]}):(0,i.jsxs)("div",{className:r,children:[n&&(0,i.jsx)("h3",{className:a,children:n}),(0,i.jsx)("div",{className:"loopContent_d_OB",children:(0,i.jsxs)("div",{className:"circleContainer_r3vu",ref:j,style:{width:`${v}px`,height:`${v}px`},children:[(0,i.jsxs)("svg",{width:v,height:v,className:"svgCanvas_uDoP",children:[e.map((n,t)=>{let s,r,a,l,o,c,d,u,m,h=(t+1)%e.length;return(0,i.jsxs)("g",{children:[(0,i.jsx)("defs",{children:(0,i.jsx)("marker",{id:`arrowhead-${t}`,markerWidth:"6",markerHeight:"6",refX:"5",refY:"3",orient:"auto",children:(0,i.jsx)("path",{d:"M 0 0 L 6 3 L 0 6 L 1.5 3 Z",fill:"currentColor",opacity:"1",className:"arrowHead_pHvN"})})}),(0,i.jsx)("path",{d:(s=A(t),a=(r=A(h)).x-s.x,l=r.y-s.y,o=(s.x+r.x)/2,c=(s.y+r.y)/2,d=Math.sqrt(a*a+l*l),u=a/d,m=l/d,`M ${o-10*u} ${c-10*m} L ${o+10*u} ${c+10*m}`),fill:"none",stroke:"currentColor",strokeWidth:"2",strokeDasharray:"0",opacity:"0.9",markerEnd:`url(#arrowhead-${t})`,className:"arrowPath_C9al"})]},`arrow-${t}`)}),t&&(0,i.jsxs)("g",{className:"centerIcon_KAOa",onMouseEnter:()=>h(!0),onMouseLeave:()=>h(!1),style:{cursor:"pointer"},children:[(0,i.jsx)("foreignObject",{x:y-35,y:b-35,width:"70",height:"70",children:(0,i.jsx)("div",{className:"loopIconWrapper_xBPW",children:(0,i.jsx)(t,{size:32})})}),l&&(0,i.jsx)("text",{x:y,y:b+50,textAnchor:"middle",className:"loopText_T4eg",children:l})]})]}),e.map((e,n)=>{let t=A(n);return(0,i.jsxs)("div",{className:`stepNode_dfTI ${e.highlight?"highlighted_oNtg":""} ${e.isFocus?"focusNode_z3RB":""}`,style:{left:`${t.x}px`,top:`${t.y}px`,transform:"translate(-50%, -50%)"},onMouseEnter:e=>((e,n)=>{if(u(e),j.current){j.current.getBoundingClientRect();let n=A(e);p({x:n.x,y:n.y})}})(n,0),onMouseLeave:w,children:[(0,i.jsx)("div",{className:"stepNodeContent_qttg",children:e.icon?(0,i.jsx)(e.icon,{size:24}):(0,i.jsx)("span",{className:"stepNumber_LNrP",children:n+1})}),(0,i.jsx)("div",{className:"stepLabel_vl8R",children:e.title})]},n)}),null!==d&&(0,i.jsxs)("div",{className:"tooltip_UzKu",style:{left:`${g.x}px`,top:`${g.y}px`,transform:"translate(-50%, -120%)"},children:[(0,i.jsx)("h4",{className:"tooltipTitle_HAKW",children:e[d].title}),(0,i.jsx)("p",{className:"tooltipDescription_EDYJ",children:e[d].detailedDescription||e[d].description}),(0,i.jsx)("div",{className:"tooltipArrow_WNhr"})]}),m&&o&&(0,i.jsx)("div",{className:"centerTooltip_R18b",style:{left:`${y}px`,top:`${b}px`,transform:"translate(-50%, -50%)"},children:(0,i.jsx)("p",{className:"centerTooltipDescription_ttXB",children:o})})]})})]})}},33508(e,n,t){t.d(n,{A:()=>s});var i=t(74848);t(96540);function s({features:e,col:n=2}){return(0,i.jsx)("div",{className:"featureHighlights_Ardf",style:{gridTemplateColumns:`repeat(${n}, 1fr)`},children:e.map((e,n)=>(0,i.jsxs)("div",{className:"highlightItem_XPnN",children:[e.icon&&(0,i.jsx)("div",{className:"highlightIcon_SUR8",children:(0,i.jsx)(e.icon,{size:24})}),(0,i.jsxs)("div",{className:"highlightContent_d0XP",children:[(0,i.jsx)("h4",{children:e.title}),(0,i.jsx)("p",{children:e.description})]})]},n))})}},46077(e,n,t){t.d(n,{A:()=>r});var i=t(74848);t(96540);var s=t(66497);function r({src:e,alt:n,width:t,caption:r,className:a}){return(0,i.jsxs)("div",{className:`container_JwLF ${a||""}`,children:[(0,i.jsx)("div",{className:"imageWrapper_RfGN",style:t?{width:t}:{},children:(0,i.jsx)("img",{src:(0,s.default)(e),alt:n,className:"image_bwOA"})}),r&&(0,i.jsx)("p",{className:"caption_jo2G",children:r})]})}},95986(e,n,t){t.d(n,{A:()=>s});var i=t(74848);t(96540);function s({children:e}){return(0,i.jsx)("div",{className:"wrapper_sf5q",children:e})}},77541(e,n,t){t.d(n,{A:()=>c});var i=t(74848);t(96540);var s=t(95310),r=t(34164);let a="tileImage_O4So";var l=t(66497),o=t(92802);function c({icon:e,image:n,imageDark:t,imageWidth:c,imageHeight:d,iconSize:u=32,containerHeight:m,title:h,description:g,href:p,linkText:f="Learn more \u2192",className:x}){if(!e&&!n)throw Error("TileCard requires either an icon or image prop");let j=m?{height:`${m}px`}:{},v={};return c&&(v.width=`${c}px`),d&&(v.height=`${d}px`),(0,i.jsxs)(s.A,{href:p,className:(0,r.A)("tileCard_NHsj",x),children:[(0,i.jsx)("div",{className:"tileIcon_pyoR",style:j,children:e?(0,i.jsx)(e,{size:u}):t?(0,i.jsx)(o.A,{sources:{light:(0,l.default)(n),dark:(0,l.default)(t)},alt:h,className:a,style:v}):(0,i.jsx)("img",{src:(0,l.default)(n),alt:h,className:a,style:v})}),(0,i.jsx)("h3",{children:h}),(0,i.jsx)("p",{children:g}),(0,i.jsx)("div",{className:"tileLink_iUbu",children:f})]})}},10440(e,n,t){t.d(n,{A:()=>r});var i=t(74848);t(96540);var s=t(34164);function r({children:e,className:n}){return(0,i.jsx)("div",{className:(0,s.A)("tilesGrid_hB9N",n),children:e})}}}]);