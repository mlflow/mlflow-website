"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[2550],{28453:(e,l,o)=>{o.d(l,{R:()=>t,x:()=>a});var r=o(96540);const n={},i=r.createContext(n);function t(e){const l=r.useContext(i);return r.useMemo(function(){return"function"==typeof e?e(l):{...l,...e}},[l,e])}function a(e){let l;return l=e.disableParentContext?"function"==typeof e.components?e.components(n):e.components||n:t(e.components),r.createElement(i.Provider,{value:l},e.children)}},49374:(e,l,o)=>{o.d(l,{B:()=>a});o(96540);const r=JSON.parse('{"mlflow.ag2":"api_reference/python_api/mlflow.ag2.html","mlflow.anthropic":"api_reference/python_api/mlflow.anthropic.html","mlflow.artifacts":"api_reference/python_api/mlflow.artifacts.html","mlflow.autogen":"api_reference/python_api/mlflow.autogen.html","mlflow.bedrock":"api_reference/python_api/mlflow.bedrock.html","mlflow.catboost":"api_reference/python_api/mlflow.catboost.html","mlflow.client":"api_reference/python_api/mlflow.client.html","mlflow.config":"api_reference/python_api/mlflow.config.html","mlflow.crewai":"api_reference/python_api/mlflow.crewai.html","mlflow.data":"api_reference/python_api/mlflow.data.html","mlflow.deployments":"api_reference/python_api/mlflow.deployments.html","mlflow.diviner":"api_reference/python_api/mlflow.diviner.html","mlflow.dspy":"api_reference/python_api/mlflow.dspy.html","mlflow.entities":"api_reference/python_api/mlflow.entities.html","mlflow.environment_variables":"api_reference/python_api/mlflow.environment_variables.html","mlflow.gateway":"api_reference/python_api/mlflow.gateway.html","mlflow.gemini":"api_reference/python_api/mlflow.gemini.html","mlflow.genai":"api_reference/python_api/mlflow.genai.html","mlflow.groq":"api_reference/python_api/mlflow.groq.html","mlflow.h2o":"api_reference/python_api/mlflow.h2o.html","mlflow.johnsnowlabs":"api_reference/python_api/mlflow.johnsnowlabs.html","mlflow.keras":"api_reference/python_api/mlflow.keras.html","mlflow.langchain":"api_reference/python_api/mlflow.langchain.html","mlflow.lightgbm":"api_reference/python_api/mlflow.lightgbm.html","mlflow.litellm":"api_reference/python_api/mlflow.litellm.html","mlflow.llama_index":"api_reference/python_api/mlflow.llama_index.html","mlflow.metrics":"api_reference/python_api/mlflow.metrics.html","mlflow.mistral":"api_reference/python_api/mlflow.mistral.html","mlflow.models":"api_reference/python_api/mlflow.models.html","mlflow.onnx":"api_reference/python_api/mlflow.onnx.html","mlflow.openai":"api_reference/python_api/mlflow.openai.html","mlflow.paddle":"api_reference/python_api/mlflow.paddle.html","mlflow.pmdarima":"api_reference/python_api/mlflow.pmdarima.html","mlflow.projects":"api_reference/python_api/mlflow.projects.html","mlflow.promptflow":"api_reference/python_api/mlflow.promptflow.html","mlflow.prophet":"api_reference/python_api/mlflow.prophet.html","mlflow.pydantic_ai":"api_reference/python_api/mlflow.pydantic_ai.html","mlflow.pyfunc":"api_reference/python_api/mlflow.pyfunc.html","mlflow.pyspark.ml":"api_reference/python_api/mlflow.pyspark.ml.html","mlflow.pytorch":"api_reference/python_api/mlflow.pytorch.html","mlflow":"api_reference/python_api/mlflow.html","mlflow.sagemaker":"api_reference/python_api/mlflow.sagemaker.html","mlflow.sentence_transformers":"api_reference/python_api/mlflow.sentence_transformers.html","mlflow.server":"api_reference/python_api/mlflow.server.html","mlflow.shap":"api_reference/python_api/mlflow.shap.html","mlflow.sklearn":"api_reference/python_api/mlflow.sklearn.html","mlflow.smolagents":"api_reference/python_api/mlflow.smolagents.html","mlflow.spacy":"api_reference/python_api/mlflow.spacy.html","mlflow.spark":"api_reference/python_api/mlflow.spark.html","mlflow.statsmodels":"api_reference/python_api/mlflow.statsmodels.html","mlflow.system_metrics":"api_reference/python_api/mlflow.system_metrics.html","mlflow.tensorflow":"api_reference/python_api/mlflow.tensorflow.html","mlflow.tracing":"api_reference/python_api/mlflow.tracing.html","mlflow.transformers":"api_reference/python_api/mlflow.transformers.html","mlflow.types":"api_reference/python_api/mlflow.types.html","mlflow.utils":"api_reference/python_api/mlflow.utils.html","mlflow.xgboost":"api_reference/python_api/mlflow.xgboost.html","mlflow.server.auth":"api_reference/auth/python-api.html","mlflow.server.cli":"api_reference/cli.html","mlflow.r":"api_reference/R-api.html","mlflow.java":"api_reference/java_api/index.html","mlflow.python":"api_reference/python_api/index.html","mlflow.rest":"api_reference/rest-api.html","mlflow.llms.deployments.api":"api_reference/llms/deployments/api.html"}');var n=o(86025),i=o(74848);const t=e=>{const l=e.split(".");for(let o=l.length;o>0;o--){const e=l.slice(0,o).join(".");if(r[e])return e}return null};function a({fn:e,children:l,hash:o}){const a=t(e);if(!a)return(0,i.jsx)(i.Fragment,{children:l});const s=(0,n.Ay)(`/${r[a]}#${o??e}`);return(0,i.jsx)("a",{href:s,target:"_blank",children:l??(0,i.jsxs)("code",{children:[e,"()"]})})}},81450:(e,l,o)=>{o.r(l),o.d(l,{assets:()=>s,contentTitle:()=>a,default:()=>c,frontMatter:()=>t,metadata:()=>r,toc:()=>p});const r=JSON.parse('{"id":"eval-monitor/scorers/llm-judge/index","title":"LLM-based Scorers (LLM-as-a-Judge)","description":"LLM-as-a-Judge is an evaluation approach that uses Large Language Models to assess the quality of AI-generated responses. LLM judges can evaluate subjective qualities like helpfulness and safety, which are hard to measure with heuristic metrics. On the other hand, LLM-as-a-Judge scorers are more scalable and cost-effective than human evaluation. See the Evaluation Approach Comparison for a more detailed comparison and guides on how to use other approaches in MLflow.","source":"@site/docs/genai/eval-monitor/scorers/llm-judge/index.mdx","sourceDirName":"eval-monitor/scorers/llm-judge","slug":"/eval-monitor/scorers/llm-judge/","permalink":"/mlflow-website/docs/latest/genai/eval-monitor/scorers/llm-judge/","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"genAISidebar","previous":{"title":"What is a Scorer?","permalink":"/mlflow-website/docs/latest/genai/eval-monitor/scorers/"},"next":{"title":"Use Predefined LLM Scorers","permalink":"/mlflow-website/docs/latest/genai/eval-monitor/scorers/llm-judge/predefined"}}');var n=o(74848),i=o(28453);o(49374);const t={},a="LLM-based Scorers (LLM-as-a-Judge)",s={},p=[{value:"Approaches for Using LLM Scorers",id:"approaches-for-using-llm-scorers",level:2},{value:"Predefined LLM scorers",id:"predefined-llm-scorers",level:3},{value:"Guidelines-based scorers",id:"guidelines-based-scorers",level:3},{value:"Bring Your Own Prompt",id:"bring-your-own-prompt",level:3},{value:"Selecting Judge Models",id:"selecting-judge-models",level:2},{value:"Supported Models",id:"supported-models",level:3}];function m(e){const l={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,i.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(l.header,{children:(0,n.jsx)(l.h1,{id:"llm-based-scorers-llm-as-a-judge",children:"LLM-based Scorers (LLM-as-a-Judge)"})}),"\n",(0,n.jsxs)(l.p,{children:["LLM-as-a-Judge is an evaluation approach that uses Large Language Models to assess the quality of AI-generated responses. LLM judges can evaluate subjective qualities like helpfulness and safety, which are hard to measure with heuristic metrics. On the other hand, LLM-as-a-Judge scorers are more scalable and cost-effective than human evaluation. See the ",(0,n.jsx)(l.a,{href:"/genai/eval-monitor/scorers#evaluation-approaches-comparison",children:"Evaluation Approach Comparison"})," for a more detailed comparison and guides on how to use other approaches in MLflow."]}),"\n",(0,n.jsx)(l.h2,{id:"approaches-for-using-llm-scorers",children:"Approaches for Using LLM Scorers"}),"\n",(0,n.jsx)(l.p,{children:"MLflow offers different approaches to use LLM-as-a-Judge, with different levels of simplicity and control. We recommend starting with a simpler approach and evolving to more complex ones as needed."}),"\n",(0,n.jsx)(l.h3,{id:"predefined-llm-scorers",children:"Predefined LLM scorers"}),"\n",(0,n.jsx)(l.p,{children:"Simplicity: \u2b50\u2b50\u2b50\u2b50\u2b50\nControl: \u2b50"}),"\n",(0,n.jsxs)(l.ul,{children:["\n",(0,n.jsxs)(l.li,{children:[(0,n.jsx)(l.strong,{children:"Best for"}),": Quickly trying MLflow's LLM evaluation capabilities with a few lines of code."]}),"\n",(0,n.jsxs)(l.li,{children:[(0,n.jsx)(l.strong,{children:"How it works"}),": Select from a list of built-in classes such as Correctness, RetrievalGroundedness, etc. MLflow constructs inputs for the judge using predefined prompt templates."]}),"\n"]}),"\n",(0,n.jsx)(l.p,{children:(0,n.jsx)(l.a,{href:"/genai/eval-monitor/scorers/llm-judge/predefined",children:"Get started with predefined LLM scorers \xbb"})}),"\n",(0,n.jsx)(l.h3,{id:"guidelines-based-scorers",children:"Guidelines-based scorers"}),"\n",(0,n.jsx)(l.p,{children:"Simplicity: \u2b50\u2b50\u2b50\u2b50\nControl: \u2b50\u2b50\u2b50\u2b50"}),"\n",(0,n.jsxs)(l.ul,{children:["\n",(0,n.jsxs)(l.li,{children:[(0,n.jsx)(l.strong,{children:"Best for"}),": Evaluations based on a clear set of specific, natural language criteria, framed as pass/fail conditions. Ideal for checking compliance with rules, style guides, or information inclusion/exclusion."]}),"\n",(0,n.jsxs)(l.li,{children:[(0,n.jsx)(l.strong,{children:"How it works"}),': You provide a set of plain-language rules that refer to specific inputs or outputs from your app, for example "The response must be polite". An LLM then determines if the guideline passes or fails and provides a rationale.']}),"\n"]}),"\n",(0,n.jsx)(l.p,{children:(0,n.jsx)(l.a,{href:"/genai/eval-monitor/scorers/llm-judge/guidelines",children:"Get started with guidelines \xbb"})}),"\n",(0,n.jsx)(l.h3,{id:"bring-your-own-prompt",children:"Bring Your Own Prompt"}),"\n",(0,n.jsx)(l.p,{children:"Simplicity: \u2b50\u2b50\nControl: \u2b50\u2b50\u2b50\u2b50\u2b50"}),"\n",(0,n.jsxs)(l.ul,{children:["\n",(0,n.jsxs)(l.li,{children:[(0,n.jsx)(l.strong,{children:"Best for"}),': Complex, nuanced evaluations where you need full control over the scorer\'s prompt or need the scorer to specify multiple output values, for example, "great", "ok", "bad".']}),"\n",(0,n.jsxs)(l.li,{children:[(0,n.jsx)(l.strong,{children:"How it works"}),": You provide a prompt template that defines your evaluation criteria and has placeholders for specific fields in your app's trace. You define the output choices the scorer can select. An LLM then selects the appropriate output choice and provides a rationale for its selection."]}),"\n"]}),"\n",(0,n.jsx)(l.p,{children:(0,n.jsx)(l.a,{href:"/genai/eval-monitor/scorers/llm-judge/prompt",children:"Get started with bringing your own prompt \xbb"})}),"\n",(0,n.jsx)(l.h2,{id:"selecting-judge-models",children:"Selecting Judge Models"}),"\n",(0,n.jsxs)(l.p,{children:["By default, MLflow will use ",(0,n.jsx)(l.strong,{children:"OpenAI's GPT-4o-mini"})," model as the judge model. You can change the judge model by passing an override to the ",(0,n.jsx)(l.code,{children:"model"})," argument within the scorer definition. The model must be specified in the format of ",(0,n.jsx)(l.code,{children:"<provider>:/<model-name>"}),"."]}),"\n",(0,n.jsx)(l.pre,{children:(0,n.jsx)(l.code,{className:"language-python",children:'from mlflow.genai.scorers import Correctness\n\nCorrectness(model="openai:/gpt-4o-mini")\nCorrectness(model="anthropic:/claude-4-opus")\nCorrectness(model="google:/gemini-2.0-flash")\n'})}),"\n",(0,n.jsx)(l.h3,{id:"supported-models",children:"Supported Models"}),"\n",(0,n.jsx)(l.p,{children:"MLflow supports all major LLM providers:"}),"\n",(0,n.jsxs)(l.ul,{children:["\n",(0,n.jsx)(l.li,{children:"OpenAI / Azure OpenAI"}),"\n",(0,n.jsx)(l.li,{children:"Anthropic"}),"\n",(0,n.jsx)(l.li,{children:"Amazon Bedrock"}),"\n",(0,n.jsx)(l.li,{children:"Cohere"}),"\n",(0,n.jsx)(l.li,{children:"Together AI"}),"\n",(0,n.jsxs)(l.li,{children:["Any other providers supported by ",(0,n.jsx)(l.a,{href:"https://docs.litellm.ai/docs/providers",children:"LiteLLM"}),", such as Google Gemini, xAI, Mistral, and more."]}),"\n"]}),"\n",(0,n.jsxs)(l.p,{children:["To use LiteLLM integrated models, install LiteLLM by running ",(0,n.jsx)(l.code,{children:"pip install litellm"})," and specify the provider and model name in the same format as natively supported providers, e.g., ",(0,n.jsx)(l.code,{children:"gemini:/gemini-2.0-flash"}),"."]}),"\n",(0,n.jsx)(l.admonition,{type:"info",children:(0,n.jsxs)(l.p,{children:["In Databricks, the default model is set to ",(0,n.jsx)("ins",{children:(0,n.jsx)(l.a,{href:"https://docs.databricks.com/aws/en/mlflow3/genai/eval-monitor/concepts/judges/",children:"Databricks's research-backed LLM judges"})}),"."]})})]})}function c(e={}){const{wrapper:l}={...(0,i.R)(),...e.components};return l?(0,n.jsx)(l,{...e,children:(0,n.jsx)(m,{...e})}):m(e)}}}]);